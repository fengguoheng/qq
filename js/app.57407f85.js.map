{"version":3,"file":"js/app.57407f85.js","mappings":"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","sources":["webpack://mobile_qq/./src/App.vue","webpack://mobile_qq/./src/App.vue?7ccd","webpack://mobile_qq/./src/views/ActionView.vue","webpack://mobile_qq/./src/views/ActionView.vue?e955","webpack://mobile_qq/./src/views/WelcomeView.vue","webpack://mobile_qq/./src/views/WelcomeView.vue?0c8b","webpack://mobile_qq/./src/views/LoginView.vue","webpack://mobile_qq/./src/views/LoginView.vue?5755","webpack://mobile_qq/./src/views/HomeView.vue","webpack://mobile_qq/./src/components/TopBar.vue","webpack://mobile_qq/./src/views/HomeView.vue?1da1","webpack://mobile_qq/./src/components/MessageCom.vue","webpack://mobile_qq/./src/components/MessageCom.vue?ebee","webpack://mobile_qq/./src/components/FriendsCom.vue","webpack://mobile_qq/./src/components/FriendsCom.vue?3aae","webpack://mobile_qq/./src/components/DiscoverCom.vue","webpack://mobile_qq/./src/components/DiscoverCom.vue?cadc","webpack://mobile_qq/./src/views/CardView.vue","webpack://mobile_qq/./src/views/CardView.vue?4c14","webpack://mobile_qq/./src/views/DialogView.vue","webpack://mobile_qq/./src/views/DialogView.vue?467c","webpack://mobile_qq/./src/views/SideView.vue","webpack://mobile_qq/./src/views/SideView.vue?606d","webpack://mobile_qq/./src/components/DiscoverCom1.vue","webpack://mobile_qq/./src/components/DiscoverCom1.vue?3329","webpack://mobile_qq/./src/views/EmotionView.vue","webpack://mobile_qq/./src/views/EmotionView.vue?3476","webpack://mobile_qq/./src/router/index.js","webpack://mobile_qq/./src/main.js","webpack://mobile_qq/./src/assets/images/ sync ^\\.\\/.*$","webpack://mobile_qq/webpack/bootstrap","webpack://mobile_qq/webpack/runtime/chunk loaded","webpack://mobile_qq/webpack/runtime/compat get default export","webpack://mobile_qq/webpack/runtime/define property getters","webpack://mobile_qq/webpack/runtime/global","webpack://mobile_qq/webpack/runtime/hasOwnProperty shorthand","webpack://mobile_qq/webpack/runtime/make namespace object","webpack://mobile_qq/webpack/runtime/publicPath","webpack://mobile_qq/webpack/runtime/jsonp chunk loading","webpack://mobile_qq/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <!-- 左侧侧边栏 -->\n    <div v-if=\"!$route.meta.hideSidebar\" class=\"sidebar\">\n      <div class=\"sidebar-header\">\n        <!-- 左侧边栏顶部：头像 + 姓名 + +号 -->\n        <van-image\n          round\n          width=\"32px\"\n          height=\"32px\"\n          :src=\"require('./assets/images/my_profile.jpg')\"\n          alt=\"用户头像\"\n          @click=\"handleSidebarAvatarClick\"\n          class=\"avatar-hover\"\n        />\n        <!-- 显示从localStorage获取的用户名 -->\n        <span class=\"username\">{{ username }}</span>\n        \n        <!-- +号弹出juli功能 -->\n        <van-popover \n          v-model:show=\"showPopover\" \n          :actions=\"actions\" \n          placement=\"bottom-end\" \n          :offset=\"[13, 8]\"\n          @select=\"handleActionSelect\"\n        >\n          <template #reference>\n            <van-icon name=\"plus\" color=\"white\" size=\"15\" class=\"icon-hover\"/>\n          </template>\n        </van-popover>\n      </div>\n      \n      <div class=\"sidebar-menu\">\n        <!-- 替换原有的消息菜单项 -->\n<div class=\"menu-group\">\n  <!-- 消息主菜单 -->\n  <div \n    class=\"menu-item\" \n    :class=\"{ 'active': active === 'message' }\"\n    @click=\"toggleMessageDropdown\"  \n  >\n    <van-icon name=\"chat-o\" class=\"menu-icon\" />\n    <span class=\"menu-text\">消息</span>\n    <!-- 下拉箭头（根据状态切换） -->\n    <van-icon \n      :name=\"messageDropdownOpen ? 'arrow-up' : 'arrow-down'\" \n      class=\"dropdown-arrow\"\n    />\n  </div>\n\n  <!-- 下拉菜单内容 -->\n  <div class=\"dropdown-wrapper\">\n    <transition name=\"dropdown-fade\">\n      <div \n        class=\"message-dropdown\" \n        v-if=\"messageDropdownOpen\"\n      >\n        <div class=\"message-dropdown-content\">\n          <ul class=\"message-list\">\n            <li \n              v-for=\"(item, index) in friendMessageList\" \n              :key=\"item.name\" \n              class=\"message-item\"\n              @click=\"handleMessageItemClick(item)\"\n            >\n              <van-image\n                round\n                width=\"40px\"\n                height=\"40px\"\n                :src=\"item.profile\"\n                class=\"message-avatar\"\n              />\n              <span class=\"message-name\">{{ item.name }}</span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </transition>\n  </div>\n</div>\n        <div \n          class=\"menu-item\" \n          :class=\"{ 'active': active === 'friends' }\"\n          @click=\"navigateTo('/home/friends', 'friends')\"\n        >\n          <van-icon name=\"friends-o\" class=\"menu-icon\" />\n          <span class=\"menu-text\">juli</span>\n        </div>\n        <div \n          class=\"menu-item\" \n          :class=\"{ 'active': active === 'discover' }\"\n          @click=\"navigateTo('/home/discover', 'discover')\"\n        >\n          <van-icon name=\"underway-o\" class=\"menu-icon\" />\n          <span class=\"menu-text\">动态</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- 主内容区域 -->\n    <div class=\"main-container\">\n      <!-- 内容区域 -->\n      <div class=\"content-area\">\n        <router-view></router-view>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  data() {\n    return {\n      messageDropdownOpen: false,  // 控制下拉菜单显示/隐藏\n    // 消息列表数据（面试官列表）\n    friendMessageList: [\n      { \n        name: \"人工智能技术岗面试官\", \n        profile: require('./assets/images/profile_拉菲.jpg') \n      },\n      { \n        name: \"大数据运维测试岗面试官\", \n        profile: require('./assets/images/profile_02.jpg') \n      },\n      { \n        name: \"物联网产品岗面试官\", \n        profile: require('./assets/images/profile_栗山未来.jpg') \n      }\n    ],\n      active: 'message',\n      titleMap: {\n        message: '消息',\n        friends: 'juli',\n        discover: '动态'\n      },\n      showPopover: false,\n      actions: [\n        { text: 'juli', icon: 'gift-o' },\n      ],\n      username: '' // 用于存储从localStorage获取的用户名\n    }\n  },\n  computed: {\n    currentTitle() {\n      return this.titleMap[this.active] || '首页'\n    }\n  },\n  methods: {\n    // 切换消息下拉菜单\n  toggleMessageDropdown() {\n    this.messageDropdownOpen = !this.messageDropdownOpen;\n    // 确保点击后消息菜单处于激活状态\n    this.active = 'message';\n  },\n  \n  // 点击消息列表项处理\n  handleMessageItemClick(item) {\n    // 提取职业信息并存储\n    const index = item.name.indexOf('面');\n    const career = index !== -1 ? item.name.substring(0, index) : item.name;\n    localStorage.setItem('career', career);\n    \n    // 跳转到对话页面\n    this.$router.push(`/dialog/${item.name}`);\n    // 关闭下拉菜单\n    this.messageDropdownOpen = false;\n  },\n    navigateTo(path, name) {\n      this.$router.push(path)\n      this.active = name\n    },\n    handleLeftClick() {\n      this.$router.push('/side')\n    },\n    handleTopAvatarClick() {\n      this.$router.push('/side')\n    },\n    handleSidebarAvatarClick() {\n      this.$router.push('/side')\n    },\n    handleActionSelect(action) {\n      if (action.text === 'juli') {\n        window.location.href = 'https://123.56.203.202/lip_sync'\n      }\n      this.showPopover = false\n    },\n    // 专门用于从localStorage加载用户名的方法\n    loadUsernameFromLocalStorage() {\n      try {\n        const userInfo = localStorage.getItem('currentUser')\n        if (userInfo) {\n          const parsedUser = JSON.parse(userInfo)\n          this.username = parsedUser.username || '用户'\n        } else {\n          this.username = '访客'\n        }\n      } catch (error) {\n        console.error('从localStorage加载用户名失败:', error)\n        this.username = '用户'\n      }\n    }\n  },\n  watch: {\n    '$router.path'(newPath) {\n      const pathMap = {\n        '/home/message': 'message',\n        '/home/friends': 'friends',\n        '/home/discover': 'discover'\n      }\n      this.active = pathMap[newPath] || 'message'\n    }\n  },\n  mounted() {\n    const pathMap = {\n      '/home/message': 'message',\n      '/home/friends': 'friends',\n      '/home/discover': 'discover'\n    }\n    this.active = pathMap[this.$route.path] || 'message'\n    this.loadUsernameFromLocalStorage()\n  }\n}\n</script>\n\n<style scoped>\n#app {\n  display: flex;\n  min-height: 100vh;\n  background-color: #f5f7fa;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  position: relative;\n}\n\n/* 左侧侧边栏样式 - 光滑棱角和悬停特效 */\n.sidebar {\n  width: 200px;\n  background-color: #2c3e50;\n  color: #fff;\n  height: 100vh;\n  flex-shrink: 0;\n  display: flex;\n  flex-direction: column;\n  padding: 20px 0;\n  z-index: 10;\n  box-shadow: 3px 0 15px rgba(0, 0, 0, 0.2);\n  position: relative;\n  border-radius: 0 16px 16px 0; /* 光滑棱角 */\n  transition: all 0.3s ease; /* 整体过渡效果 */\n}\n\n.sidebar:hover {\n  box-shadow: 5px 0 20px rgba(0, 0, 0, 0.3); /* 悬停时增强阴影 */\n}\n\n.sidebar-header {\n  margin-bottom: 30px;\n  padding: 0 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between; /* 让头像、姓名和+号均匀分布 */\n}\n\n/* 调整侧边栏头部元素间距 */\n.sidebar-header > * {\n  margin: 0 5px;\n}\n\n.header-icon {\n  font-size: 24px;\n  margin-right: 10px;\n  transition: transform 0.3s ease;\n}\n\n.sidebar-header:hover .header-icon {\n  transform: scale(1.1); /* 标题图标放大效果 */\n}\n\n.header-text {\n  font-size: 16px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n.sidebar-header:hover .header-text {\n  letter-spacing: 0.5px; /* 文字间距变化 */\n}\n\n.sidebar-menu {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 0 10px;\n  gap: 8px;\n}\n\n/* 菜单项悬停特效 */\n.menu-item {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  opacity: 0.8;\n  transition: all 0.3s ease;\n  padding: 12px 20px;\n  border-radius: 12px; /* 光滑棱角 */\n  transform: translateX(0);\n}\n\n.menu-item:hover {\n  opacity: 1;\n  color: #42b983;\n  background-color: rgba(255, 255, 255, 0.15);\n  transform: translateX(5px); /* 轻微右移 */\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\n.menu-item.active {\n  opacity: 1;\n  color: #42b983;\n  background-color: rgba(255, 255, 255, 0.1);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\n.menu-icon {\n  font-size: 20px;\n  margin-right: 15px;\n  transition: transform 0.3s ease;\n}\n\n.menu-item:hover .menu-icon {\n  transform: scale(1.2); /* 图标放大 */\n}\n\n.menu-text {\n  font-size: 14px;\n  transition: all 0.3s ease;\n}\n\n/* 用户名样式和特效 */\n.username {\n  font-size: 16px;\n  font-weight: 500;\n  color: white;\n  vertical-align: middle;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 80px;\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n.username::after {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  left: 0;\n  width: 0;\n  height: 2px;\n  background-color: white;\n  transition: width 0.3s ease;\n}\n\n.username:hover::after {\n  width: 100%; /* 下划线动画 */\n}\n\n/* 头像悬停特效 */\n.avatar-hover {\n  transition: all 0.3s ease;\n}\n\n.avatar-hover:hover {\n  transform: scale(1.1) rotate(5deg); /* 缩放旋转效果 */\n  box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);\n}\n\n/* +号图标悬停特效 */\n.icon-hover {\n  transition: all 0.3s ease;\n  transform-origin: center;\n}\n\n.icon-hover:hover {\n  transform: scale(1.3) rotate(90deg); /* 放大旋转效果 */\n}\n\n/* 内容区域 - 隐藏边界并保留悬停特效 */\n.content-area {\n  flex: 1;\n  overflow-y: auto;\n  box-sizing: border-box;\n  background-color: #ffffff;\n  margin: 0; /* 保持间距但不显示边框 */\n  border: none; /* 明确移除边框 */\n  border-radius: 0; /* 取消圆角 */\n  box-shadow: none; /* 移除阴影效果 */\n  transition: all 0.3s ease;\n  \n  /* 隐藏滚动条 */\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE和Edge */\n}\n\n.content-area::-webkit-scrollbar {\n  display: none; /* Chrome, Safari, Opera */\n}\n\n.sidebar-footer {\n  margin-top: auto;\n  padding: 0 20px 20px;\n}\n\n.main-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  overflow: hidden;\n  z-index: 5;\n  border: none;\n  outline: none;\n  box-shadow: none;\n  background-color: transparent;\n  margin: 0;\n  padding: 0;\n}\n/* 消息下拉菜单相关样式 */\n.menu-group {\n  width: 100%;\n  position: relative;\n}\n\n/* 下拉箭头样式 */\n.dropdown-arrow {\n  margin-left: auto;\n  transition: transform 0.3s;\n  font-size: 16px;\n}\n\n/* 下拉菜单容器 */\n.dropdown-wrapper {\n  position: relative;\n  width: 100%;\n}\n\n/* 消息下拉菜单样式 */\n.message-dropdown {\n  width: 100%;\n  position: relative;\n  z-index: 5; /* 确保在其他内容上方 */\n}\n\n.message-dropdown-content {\n  background-color: #34495e;\n  padding: 10px;\n  border-radius: 8px;\n  margin-top: 5px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n  width: calc(100% - 20px);\n}\n\n.message-list {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.message-item {\n  display: flex;\n  align-items: center;\n  padding: 8px 10px;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: background 0.3s;\n}\n\n.message-item:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.message-avatar {\n  margin-right: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.message-name {\n  font-size: 13px;\n}\n\n/* 下拉动画效果 */\n.dropdown-fade-enter-active,\n.dropdown-fade-leave-active {\n  transition: opacity 0.3s, transform 0.3s;\n}\n\n.dropdown-fade-enter-from,\n.dropdown-fade-leave-to {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n\n.dropdown-fade-enter-to,\n.dropdown-fade-leave-from {\n  opacity: 1;\n  transform: translateY(0);\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=2915736b&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2915736b&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2915736b\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"video-analysis-container\">\r\n    <h2 class=\"title\">表情与动作识别（帧上传模式）</h2>\r\n    \r\n    <div class=\"content-wrapper\">\r\n      <!-- 视频采集区域 -->\r\n      <div class=\"video-section\">\r\n        <div class=\"video-container\">\r\n          <!-- 关键修复：修改display样式逻辑，分析时也显示视频 -->\r\n          <video \r\n            ref=\"videoElement\" \r\n            autoplay \r\n            muted \r\n            playsinline\r\n            class=\"video-preview\"\r\n            :style=\"{ display: (hasVideoStream) ? 'block' : 'none' }\"  \r\n            \r\n          ></video>\r\n          <div class=\"video-placeholder\" v-if=\"!hasVideoStream && !isAnalyzing\">\r\n            点击\"开启摄像头\"按钮开始采集\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"control-buttons\">\r\n          <button \r\n            @click=\"toggleCamera\"\r\n            :disabled=\"isAnalyzing\"\r\n            class=\"control-btn\"\r\n          >\r\n            {{ hasVideoStream ? '关闭摄像头' : '开启摄像头' }}\r\n          </button>\r\n          \r\n          <button \r\n            @click=\"startAnalysis\"\r\n            :disabled=\"!hasVideoStream || isAnalyzing\"\r\n            class=\"control-btn primary\"\r\n          >\r\n            开始分析\r\n          </button>\r\n          \r\n          <button \r\n            @click=\"stopAnalysis\"\r\n            :disabled=\"!isAnalyzing\"\r\n            class=\"control-btn danger\"\r\n          >\r\n            停止分析\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 结果展示区域 -->\r\n      <div class=\"results-section\">\r\n        <h3 class=\"results-title\">实时分析结果</h3>\r\n        \r\n        <div class=\"status-indicator\" :class=\"statusClass\">\r\n          {{ statusText }}\r\n          <span v-if=\"isAnalyzing\">已分析帧数: {{ frameResults.length }}</span>\r\n          <span v-if=\"lastRequestStatus\" class=\"request-status\">{{ lastRequestStatus }}</span>\r\n        </div>\r\n        \r\n        <div class=\"results-content\">\r\n          <!-- 结果展示内容保持不变 -->\r\n          <template v-if=\"frameResults.length > 0\">\r\n            <div class=\"summary-stats\">\r\n              <div class=\"stat-item\">\r\n                <span class=\"stat-label\">最新表情:</span>\r\n                <span class=\"stat-value\">{{ latestEmotion || '未知' }}</span>\r\n              </div>\r\n              <div class=\"stat-item\">\r\n                <span class=\"stat-label\">最新动作:</span>\r\n                <span class=\"stat-value\">{{ latestPose || '未知' }}</span>\r\n              </div>\r\n              <div class=\"stat-item\">\r\n                <span class=\"stat-label\">分析频率:</span>\r\n                <span class=\"stat-value\">{{ frameInterval }}ms/帧</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"frame-history\">\r\n              <h4>历史帧分析</h4>\r\n              <div class=\"history-list\">\r\n                <div class=\"history-item\" v-for=\"(frame, index) in frameResults.slice(-5)\" :key=\"index\">\r\n                  <div class=\"history-header\">\r\n                    <span>帧 #{{ frame.frameIndex }}</span>\r\n                    <span class=\"timestamp\">{{ formatTime(frame.timestamp) }}</span>\r\n                  </div>\r\n                  <div class=\"history-content\">\r\n                    <p>表情: {{ frame.emotion || '未知' }}</p>\r\n                    <p>动作: {{ frame.pose || '未知' }}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          \r\n          <template v-else-if=\"status === 'error'\">\r\n            <div class=\"error-message\">\r\n              {{ errorMessage }}\r\n            </div>\r\n          </template>\r\n          \r\n          <template v-else-if=\"isAnalyzing\">\r\n            <div class=\"loading-indicator\">\r\n              <div class=\"spinner\"></div>\r\n              <p>正在实时分析...</p>\r\n            </div>\r\n          </template>\r\n          \r\n          <template v-else>\r\n            <div class=\"empty-state\">\r\n              点击\"开始分析\"按钮启动实时识别\r\n            </div>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// 脚本部分保持不变，无需修改\r\nimport { ref, onMounted, onUnmounted, watch, nextTick } from 'vue';\r\nimport axios from 'axios';\r\n\r\n// 后端API地址\r\nconst API_BASE_URL = 'https://123.56.203.202';\r\n\r\n// 配置参数\r\nconst frameInterval = 10000; // 每10000ms（10秒）截取一帧\r\nlet captureInterval = null; // 帧捕获定时器\r\nlet frameIndex = 0; // 帧计数器\r\nlet pendingRequests = new Map(); // 用于跟踪等待结果的请求\r\n\r\n// 视频相关引用\r\nconst videoElement = ref(null);\r\nconst canvasElement = ref(null); // 用于截取帧的隐藏画布\r\nconst streamRef = ref(null);\r\n\r\n// 状态变量\r\nconst hasVideoStream = ref(false);\r\nconst isAnalyzing = ref(false);\r\nconst status = ref('idle'); // idle, processing, error\r\nconst statusText = ref('未开始');\r\nconst statusClass = ref('status-idle');\r\nconst frameResults = ref([]); // 存储每帧分析结果\r\nconst latestEmotion = ref('');\r\nconst latestPose = ref('');\r\nconst errorMessage = ref('');\r\nconst lastRequestStatus = ref(''); // 记录最近一次请求状态\r\n\r\n// 格式化时间\r\nconst formatTime = (timestamp) => {\r\n  const date = new Date(timestamp);\r\n  return `${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}`;\r\n};\r\n\r\n// 从视频流截取一帧并转为Base64\r\nconst captureFrame = async () => {\r\n  if (!videoElement.value) {\r\n    await nextTick();\r\n    if (!videoElement.value) {\r\n      console.error('视频元素未初始化');\r\n      return null;\r\n    }\r\n  }\r\n  \r\n  if (videoElement.value.readyState < 1) {\r\n    try {\r\n      await new Promise((resolve) => {\r\n        videoElement.value.onloadedmetadata = resolve;\r\n      });\r\n    } catch (error) {\r\n      console.error('等待视频元数据失败:', error);\r\n      return null;\r\n    }\r\n  }\r\n  \r\n  if (!canvasElement.value) {\r\n    canvasElement.value = document.createElement('canvas');\r\n  }\r\n  \r\n  const canvas = canvasElement.value;\r\n  canvas.width = videoElement.value.videoWidth;\r\n  canvas.height = videoElement.value.videoHeight;\r\n  \r\n  try {\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.drawImage(videoElement.value, 0, 0, canvas.width, canvas.height);\r\n    const base64 = canvas.toDataURL('image/jpeg', 0.7);\r\n    console.log(`截取到帧 #${frameIndex}，Base64长度: ${base64.length}`);\r\n    return base64;\r\n  } catch (error) {\r\n    console.error('帧截取失败:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// 轮询检查分析结果\r\nconst checkAnalysisResult = async (taskId, frameIndex) => {\r\n  // 如果已经停止分析，则不再继续轮询\r\n  if (!isAnalyzing.value) {\r\n    pendingRequests.delete(taskId);\r\n    return;\r\n  }\r\n  \r\n  try {\r\n    const response = await axios.get(`${API_BASE_URL}/api/chat/result/${taskId}`);\r\n    \r\n    // 检查响应体中的status字段\r\n    if (response.data.status === 'processing') {\r\n      // 检测到\"正在处理中\"状态，继续轮询\r\n      lastRequestStatus.value = `帧 #${frameIndex} 处理中...`;\r\n      setTimeout(() => checkAnalysisResult(taskId, frameIndex), 10000);\r\n      return;\r\n    } else if (response.data.status === 'success') {\r\n      // 处理完成，解析结果\r\n      const resultText = response.data.result;\r\n      console.log(`帧 #${frameIndex} 分析完成:`, resultText);\r\n      \r\n      // 从结果文本中提取表情和动作信息\r\n      const emotionMatch = resultText.match(/表情:([^，,。\\n]+)/);\r\n      const poseMatch = resultText.match(/动作:([^，,。\\n]+)/);\r\n      \r\n      const frameData = {\r\n        frameIndex,\r\n        timestamp: Date.now(),\r\n        emotion: emotionMatch ? emotionMatch[1].trim() : '无法识别',\r\n        pose: poseMatch ? poseMatch[1].trim() : '无法识别',\r\n        raw: resultText\r\n      };\r\n      \r\n      frameResults.value.push(frameData);\r\n      latestEmotion.value = frameData.emotion;\r\n      latestPose.value = frameData.pose;\r\n      \r\n      lastRequestStatus.value = `帧 #${frameIndex} 分析完成`;\r\n      pendingRequests.delete(taskId);\r\n    } else {\r\n      throw new Error(`分析失败: ${JSON.stringify(response.data)}`);\r\n    }\r\n  } catch (error) {\r\n    let errorMsg = '';\r\n    if (error.response) {\r\n      errorMsg = `请求错误: ${error.response.status} - ${JSON.stringify(error.response.data)}`;\r\n    } else if (error.request) {\r\n      errorMsg = `无响应: ${error.message}`;\r\n    } else {\r\n      errorMsg = `请求失败: ${error.message}`;\r\n    }\r\n    \r\n    console.error(`帧 #${frameIndex} 分析结果检查失败:`, errorMsg);\r\n    lastRequestStatus.value = `帧 #${frameIndex} 分析失败`;\r\n    pendingRequests.delete(taskId);\r\n  }\r\n};\r\n\r\n// 上传帧图片到后端分析\r\nconst uploadFrame = async (frameBase64) => {\r\n  if (!frameBase64) {\r\n    console.error('没有可用的帧数据，无法上传');\r\n    return;\r\n  }\r\n  \r\n  try {\r\n    const currentFrameIndex = frameIndex;\r\n    lastRequestStatus.value = `正在上传帧 #${currentFrameIndex}...`;\r\n    console.log(`开始上传帧 #${currentFrameIndex}到${API_BASE_URL}/api/chat`);\r\n    \r\n    const response = await axios.post(\r\n      `${API_BASE_URL}/api/chat`,\r\n      {\r\n        prompt: '请分析这张图片中人物的表情和动作，用\"表情:\"和\"动作:\"开头分别说明',\r\n        image_base64: frameBase64\r\n      },\r\n      {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        },\r\n        timeout: 8000\r\n      }\r\n    );\r\n    \r\n    if (response.data.status === 'success' && response.data.task_id) {\r\n      const taskId = response.data.task_id;\r\n      lastRequestStatus.value = `帧 #${currentFrameIndex} 已提交，任务ID: ${taskId.substring(0, 8)}...`;\r\n      console.log(`帧 #${currentFrameIndex} 提交成功，任务ID: ${taskId}`);\r\n      \r\n      pendingRequests.set(taskId, currentFrameIndex);\r\n      setTimeout(() => checkAnalysisResult(taskId, currentFrameIndex), 10000);\r\n      frameIndex++;\r\n    } else {\r\n      throw new Error(`服务器返回非成功状态: ${JSON.stringify(response.data)}`);\r\n    }\r\n  } catch (error) {\r\n    let errorMsg = '';\r\n    if (error.response) {\r\n      errorMsg = `请求错误: ${error.response.status} - ${JSON.stringify(error.response.data)}`;\r\n    } else if (error.request) {\r\n      errorMsg = `无响应: ${error.message}`;\r\n    } else {\r\n      errorMsg = `请求失败: ${error.message}`;\r\n    }\r\n    \r\n    lastRequestStatus.value = `帧 #${frameIndex} 上传失败`;\r\n    console.error('帧分析失败:', errorMsg);\r\n    \r\n    status.value = 'error';\r\n    errorMessage.value = errorMsg || '帧分析失败，请重试';\r\n    frameIndex++;\r\n  }\r\n};\r\n\r\n// 切换摄像头\r\nconst toggleCamera = async () => {\r\n  if (hasVideoStream.value) {\r\n    if (streamRef.value) {\r\n      streamRef.value.getTracks().forEach(track => track.stop());\r\n      streamRef.value = null;\r\n    }\r\n    hasVideoStream.value = false;\r\n    statusText.value = '摄像头已关闭';\r\n  } else {\r\n    try {\r\n      streamRef.value = await navigator.mediaDevices.getUserMedia({\r\n        video: { \r\n          width: { ideal: 640 },\r\n          height: { ideal: 480 },\r\n          facingMode: 'user'\r\n        },\r\n        audio: false\r\n      });\r\n      \r\n      await nextTick();\r\n      if (videoElement.value) {\r\n        videoElement.value.srcObject = streamRef.value;\r\n        hasVideoStream.value = true;\r\n        statusText.value = '摄像头已开启，点击\"开始分析\"启动识别';\r\n      } else {\r\n        throw new Error('视频元素初始化失败');\r\n      }\r\n    } catch (error) {\r\n      console.error('无法访问摄像头:', error);\r\n      status.value = 'error';\r\n      statusText.value = '无法访问摄像头';\r\n      errorMessage.value = error.message || '请确保已授予摄像头权限';\r\n    }\r\n  }\r\n};\r\n\r\n// 开始分析\r\nconst startAnalysis = async () => {\r\n  if (!hasVideoStream.value || isAnalyzing.value) return;\r\n  \r\n  await nextTick();\r\n  if (!videoElement.value) {\r\n    status.value = 'error';\r\n    errorMessage.value = '视频元素未准备好，请重试';\r\n    return;\r\n  }\r\n  \r\n  isAnalyzing.value = true;\r\n  status.value = 'processing';\r\n  statusText.value = '正在实时分析表情和动作...';\r\n  frameIndex = 0;\r\n  frameResults.value = [];\r\n  lastRequestStatus.value = '';\r\n  pendingRequests.clear();\r\n  \r\n  const initialFrame = await captureFrame();\r\n  if (initialFrame) {\r\n    uploadFrame(initialFrame);\r\n  }\r\n  \r\n  captureInterval = setInterval(async () => {\r\n    if (isAnalyzing.value) {\r\n      const frameBase64 = await captureFrame();\r\n      if (frameBase64) {\r\n        uploadFrame(frameBase64);\r\n      }\r\n    }\r\n  }, frameInterval);\r\n  \r\n  console.log('开始分析，定时器已启动，间隔:', frameInterval);\r\n};\r\n\r\n// 停止分析\r\nconst stopAnalysis = () => {\r\n  if (captureInterval) {\r\n    clearInterval(captureInterval);\r\n    captureInterval = null;\r\n    console.log('已停止分析定时器');\r\n  }\r\n  \r\n  isAnalyzing.value = false;\r\n  status.value = 'idle';\r\n  statusText.value = '分析已停止，共分析 ' + frameResults.value.length + ' 帧';\r\n  lastRequestStatus.value = '';\r\n  pendingRequests.clear();\r\n};\r\n\r\n// 状态样式计算\r\nwatch(status, (newStatus) => {\r\n  switch(newStatus) {\r\n    case 'idle':\r\n      statusClass.value = 'status-idle';\r\n      break;\r\n    case 'processing':\r\n      statusClass.value = 'status-processing';\r\n      break;\r\n    case 'error':\r\n      statusClass.value = 'status-error';\r\n      break;\r\n    default:\r\n      statusClass.value = 'status-idle';\r\n  }\r\n});\r\n\r\n// 组件挂载时初始化\r\nonMounted(async () => {\r\n  canvasElement.value = document.createElement('canvas');\r\n  \r\n  await nextTick();\r\n  if (videoElement.value) {\r\n    console.log('视频元素已初始化');\r\n  } else {\r\n    console.warn('组件挂载时视频元素尚未准备好');\r\n  }\r\n  console.log('组件已挂载，初始化完成');\r\n});\r\n\r\n// 组件卸载时清理\r\nonUnmounted(() => {\r\n  if (streamRef.value) {\r\n    streamRef.value.getTracks().forEach(track => track.stop());\r\n  }\r\n  if (captureInterval) {\r\n    clearInterval(captureInterval);\r\n  }\r\n  pendingRequests.clear();\r\n  console.log('组件已卸载，资源已清理');\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n/* 样式部分保持不变 */\r\n.request-status {\r\n  font-size: 12px;\r\n  margin-top: 4px;\r\n  display: block;\r\n}\r\n\r\n.video-analysis-container {\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  font-family: 'Segoe UI', sans-serif;\r\n}\r\n\r\n.title {\r\n  text-align: center;\r\n  color: #333;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.content-wrapper {\r\n  display: flex;\r\n  gap: 30px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.video-section, .results-section {\r\n  flex: 1;\r\n  min-width: 300px;\r\n}\r\n\r\n.video-container {\r\n  position: relative;\r\n  width: 100%;\r\n  padding-top: 56.25%; /* 16:9比例 */\r\n  background-color: #f0f0f0;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.video-preview {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.video-placeholder {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n.control-buttons {\r\n  display: flex;\r\n  gap: 10px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.control-btn {\r\n  padding: 10px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.control-btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.control-btn.primary {\r\n  background-color: #42b983;\r\n  color: white;\r\n}\r\n\r\n.control-btn.danger {\r\n  background-color: #e74c3c;\r\n  color: white;\r\n}\r\n\r\n.results-content {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  min-height: 300px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\n.status-indicator {\r\n  padding: 12px;\r\n  border-radius: 4px;\r\n  margin-bottom: 20px;\r\n  font-size: 14px;\r\n}\r\n\r\n.status-idle { background-color: #f8f9fa; color: #6c757d; }\r\n.status-processing { background-color: #e3f2fd; color: #1976d2; }\r\n.status-error { background-color: #ffebee; color: #c62828; }\r\n\r\n.summary-stats {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 20px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.stat-item {\r\n  flex: 1;\r\n  min-width: 120px;\r\n}\r\n\r\n.stat-label {\r\n  font-weight: 500;\r\n  color: #666;\r\n}\r\n\r\n.stat-value {\r\n  margin-left: 5px;\r\n  color: #333;\r\n}\r\n\r\n.history-list {\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.history-item {\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 4px;\r\n}\r\n\r\n.history-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 5px;\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.loading-indicator {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 300px;\r\n}\r\n\r\n.spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 4px solid rgba(0, 0, 0, 0.1);\r\n  border-left-color: #42b983;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n</style>\r\n","import script from \"./ActionView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ActionView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ActionView.vue?vue&type=style&index=0&id=3c845b9e&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3c845b9e\"]])\n\nexport default __exports__","<template>\n    <!-- 欢迎页面 -->\n    <div id=\"welcome\">\n        \n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            // QQ_logo图片的css样式，根据页面大小动态设置图片大小\n            imgStyle: {\n                width: window.innerHeight * 0.4 + \"px\",\n                marginTop: (window.innerHeight - window.innerHeight * 0.4) / 2 + \"px\",\n            }\n        };\n    },\n    created() {\n        // 3秒后跳转到登录页面\n        setTimeout(() => {this.$router.push('/login');}, 3000);\n    }\n}\n</script>\n\n<style>\n#welcome {\n    background-color: white;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0px;\n    bottom: 0px;\n    text-align: center;\n}\n</style>","import { render } from \"./WelcomeView.vue?vue&type=template&id=04fdfd00\"\nimport script from \"./WelcomeView.vue?vue&type=script&lang=js\"\nexport * from \"./WelcomeView.vue?vue&type=script&lang=js\"\n\nimport \"./WelcomeView.vue?vue&type=style&index=0&id=04fdfd00&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"auth-page\">\n    <!-- 视频背景容器 -->\n    <div class=\"video-background\" :class=\"{ 'video-visible': isVideoLoaded }\">\n      <!-- 备用背景图 - 始终作为保底显示 -->\n      <div class=\"fallback-background\"></div>\n\n      <!-- 视频元素 -->\n      <video id=\"backgroundVideo\" ref=\"backgroundVideo\" class=\"background-video\" loop playsinline\n        poster=\"https://picsum.photos/1920/1080\" @error=\"handleVideoError\" @play=\"handleVideoPlay\"\n        @pause=\"handleVideoPause\" @loadeddata=\"markVideoLoaded\" @loadedmetadata=\"checkVideoDimensions\">\n        <source src=\"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Clingxi7283.mp4\" type=\"video/mp4\">\n      </video>\n\n      <!-- 视频播放提示 -->\n      <div v-if=\"showPlayPrompt\" class=\"play-prompt\" @click=\"tryPlayVideo\"\n        :style=\"{ display: showPlayPrompt ? 'flex' : 'none' }\">\n        <div class=\"play-icon\">▶</div>\n        <p>点击播放背景视频</p>\n      </div>\n\n      <!-- 视频遮罩层 - 降低透明度，让背景更清晰 -->\n      <div class=\"video-overlay\"></div>\n    </div>\n\n    <!-- 品牌标识区域 - 增加文字阴影提高可读性 -->\n    <div class=\"brand-header\">\n      <div class=\"logo\">\n        <span class=\"logo-char\">灵</span>\n      </div>\n      <h1 class=\"brand-name\">灵犀Vox</h1>\n    </div>\n\n    <div class=\"auth-container\">\n      <!-- 登录/注册切换卡片 - 透明效果 -->\n      <div class=\"auth-card\">\n        <div class=\"auth-tabs\">\n          <button class=\"tab-btn\" :class=\"{ active: isLogin }\" @click=\"isLogin = true\">\n            登录\n          </button>\n          <button class=\"tab-btn\" :class=\"{ active: !isLogin }\" @click=\"isLogin = false\">\n            注册\n          </button>\n        </div>\n\n        <!-- 登录表单 -->\n        <form v-if=\"isLogin\" @submit.prevent=\"handleLogin\" class=\"auth-form\">\n          <div class=\"form-group\">\n            <label>账号</label>\n            <input type=\"text\" v-model=\"loginForm.username\" required placeholder=\"请输入账号\" autocomplete=\"username\">\n          </div>\n          <div class=\"form-group\">\n            <label>密码</label>\n            <input type=\"password\" v-model=\"loginForm.password\" required placeholder=\"请输入密码\"\n              autocomplete=\"current-password\">\n          </div>\n          \n          <button type=\"submit\" class=\"submit-btn\">登录</button>\n        </form>\n\n        <!-- 注册表单 -->\n        <form v-else @submit.prevent=\"handleRegister\" class=\"auth-form\">\n          <div class=\"form-group\">\n            <label>账号</label>\n            <input type=\"text\" v-model=\"registerForm.username\" required placeholder=\"请设置账号\" autocomplete=\"username\">\n          </div>\n          <div class=\"form-group\">\n            <label>密码</label>\n            <input type=\"password\" v-model=\"registerForm.password\" required placeholder=\"请设置密码\"\n              autocomplete=\"new-password\">\n          </div>\n          <div class=\"form-group\">\n            <label>邮箱</label>\n            <input type=\"email\" v-model=\"registerForm.email\" required placeholder=\"请输入邮箱\" autocomplete=\"email\">\n          </div>\n          <button type=\"submit\" class=\"submit-btn\">注册</button>\n        </form>\n\n        <!-- 加载提示 -->\n        <div v-if=\"loading\" class=\"loading-overlay\">\n          <div class=\"spinner\"></div>\n          <p>{{ loadingText }}</p>\n        </div>\n\n        <!-- 消息提示 -->\n        <div v-if=\"message\" :class=\"['message-toast', messageType]\">\n          {{ message }}\n          <button class=\"close-btn\" @click=\"clearMessage\">&times;</button>\n        </div>\n      </div>\n\n      \n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nconst API_BASE_URL = 'https://123.56.203.202';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  withCredentials: true\n});\n\nexport default {\n  data() {\n    return {\n      isLogin: true,\n      loading: false,\n      loadingText: '',\n      message: '',\n      messageType: '',\n      loginForm: {\n        username: '',\n        password: ''\n      },\n      registerForm: {\n        username: '',\n        password: '',\n        email: ''\n      },\n      videoError: false,\n      showPlayPrompt: false,\n      hasUserInteracted: false,\n      isVideoLoaded: false,\n      videoPlayedOnce: false,\n      videoDebugInfo: ''\n    };\n  },\n  mounted() {\n    // 监听用户交互\n    document.addEventListener('click', this.handleUserInteraction);\n    document.addEventListener('touchstart', this.handleUserInteraction);\n\n    // 立即检查视频元素是否存在\n    this.checkVideoElementExists();\n\n    // 初始化视频\n    setTimeout(() => {\n      this.initVideo();\n    }, 300);\n\n    // 定时检查播放状态\n    this.playbackCheckInterval = setInterval(() => {\n      this.checkPlayPromptVisibility();\n    }, 2000);\n  },\n  beforeUnmount() {\n    document.removeEventListener('click', this.handleUserInteraction);\n    document.removeEventListener('touchstart', this.handleUserInteraction);\n    clearInterval(this.playbackCheckInterval);\n  },\n  methods: {\n    // 检查视频元素是否存在于DOM中\n    checkVideoElementExists() {\n      const video = this.$refs.backgroundVideo;\n      if (video) {\n        console.log('视频元素已存在于DOM中');\n        // 强制触发重绘\n        this.$nextTick(() => {\n          video.style.display = 'none';\n          video.offsetHeight;\n          video.style.display = 'block';\n        });\n      } else {\n        console.warn('视频元素未在DOM中找到');\n        this.showMessage('视频背景初始化失败', 'error');\n      }\n    },\n\n    // 处理用户交互\n    handleUserInteraction() {\n      this.hasUserInteracted = true;\n      this.checkPlayPromptVisibility();\n\n      if (!this.videoError && this.$refs.backgroundVideo && this.$refs.backgroundVideo.paused) {\n        this.tryPlayVideo();\n      }\n    },\n\n    // 初始化视频\n    initVideo() {\n      const video = this.$refs.backgroundVideo;\n      if (!video) {\n        console.error('无法获取视频元素引用');\n        return;\n      }\n\n      console.log('开始初始化视频播放');\n      this.tryPlayVideo();\n\n      // 2秒后检查是否需要显示提示\n      setTimeout(() => {\n        this.checkPlayPromptVisibility();\n      }, 2000);\n    },\n\n    // 检查是否应该显示播放提示\n    checkPlayPromptVisibility() {\n      const video = this.$refs.backgroundVideo;\n\n      console.log('检查播放提示显示状态:', {\n        hasUserInteracted: this.hasUserInteracted,\n        videoPaused: video ? video.paused : true,\n        videoError: this.videoError,\n        isVideoLoaded: this.isVideoLoaded\n      });\n\n      // 显示提示的条件：用户已交互 + 视频未播放 + 无错误\n      if (this.hasUserInteracted && !this.videoError) {\n        if (video && video.paused) {\n          this.showPlayPrompt = true;\n        } else if (!this.isVideoLoaded) {\n          this.showPlayPrompt = true;\n        }\n      }\n    },\n\n    // 尝试播放视频\n    tryPlayVideo() {\n      const video = this.$refs.backgroundVideo;\n      if (!video) return;\n\n      video.play()\n        .then(() => {\n          console.log('视频播放成功');\n          this.videoPlayedOnce = true;\n          this.showPlayPrompt = false;\n        })\n        .catch(error => {\n          console.warn('视频播放失败:', error);\n          this.videoPlayedOnce = true;\n          this.showPlayPrompt = true;\n        });\n    },\n\n    // 标记视频已加载\n    markVideoLoaded() {\n      this.isVideoLoaded = true;\n      console.log('视频数据已加载完成');\n    },\n\n    // 处理视频播放事件\n    handleVideoPlay() {\n      this.isVideoLoaded = true;\n      this.showPlayPrompt = false;\n      this.videoPlayedOnce = true;\n      console.log('视频开始播放');\n    },\n\n    // 处理视频暂停事件\n    handleVideoPause() {\n      if (this.videoPlayedOnce && this.hasUserInteracted) {\n        this.showPlayPrompt = true;\n      }\n    },\n\n    // 检查视频尺寸\n    checkVideoDimensions() {\n      const video = this.$refs.backgroundVideo;\n      if (video) {\n        console.log(`视频尺寸: ${video.videoWidth}x${video.videoHeight}`);\n        if (video.videoWidth < 100 || video.videoHeight < 100) {\n          console.warn('视频尺寸异常');\n          this.showMessage('视频格式异常', 'warning');\n        }\n      }\n    },\n\n    // 处理视频错误\n    handleVideoError(event) {\n      console.error('视频错误详情:', event);\n      this.videoError = true;\n      this.showPlayPrompt = false;\n      this.isVideoLoaded = false;\n\n      let errorMsg = '视频加载失败';\n      switch (event.target.error.code) {\n        case event.target.error.MEDIA_ERR_ABORTED:\n          errorMsg = '视频加载被中止';\n          break;\n        case event.target.error.MEDIA_ERR_NETWORK:\n          errorMsg = '网络错误导致视频加载失败';\n          break;\n        case event.target.error.MEDIA_ERR_DECODE:\n          errorMsg = '视频解码失败';\n          break;\n        case event.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:\n          errorMsg = '视频格式不支持';\n          break;\n        default:\n          errorMsg = '未知错误导致视频无法播放';\n      }\n      this.showMessage(errorMsg, 'error');\n    },\n\n    // 处理登录\n    async handleLogin() {\n      try {\n        this.loading = true;\n        this.loadingText = '登录中...';\n\n        const { data } = await api.post('/sqlLogin', {\n          username: this.loginForm.username,\n          password: this.loginForm.password\n        });\n\n        this.loading = false;\n\n        if (data.success) {\n          localStorage.setItem('currentUser', JSON.stringify({\n            username: data.username,\n            id: data.id\n          }));\n          localStorage.setItem('username', data.username);\n\n          this.showMessage('登录成功', 'success');\n          setTimeout(() => {\n            this.$router.push('/home/message');\n          }, 1000);\n        } else {\n          this.showMessage(data.message || '账号或密码错误', 'error');\n        }\n      } catch (error) {\n        this.loading = false;\n        console.error('登录失败', error);\n        this.showMessage('登录失败，请重试', 'error');\n      }\n    },\n\n    // 处理注册\n    async handleRegister() {\n      try {\n        this.loading = true;\n        this.loadingText = '注册中...';\n\n        const { data } = await api.post('/register', {\n          username: this.registerForm.username,\n          password: this.registerForm.password,\n          email: this.registerForm.email\n        });\n\n        this.loading = false;\n\n        if (data.success) {\n          this.showMessage('注册成功，请登录', 'success');\n          setTimeout(() => {\n            this.isLogin = true;\n          }, 1000);\n        } else {\n          this.showMessage(data.message || '注册失败', 'error');\n        }\n      } catch (error) {\n        this.loading = false;\n        console.error('注册失败', error);\n        this.showMessage('注册失败，请重试', 'error');\n      }\n    },\n\n    showMessage(text, type) {\n      this.message = text;\n      this.messageType = type;\n\n      setTimeout(() => {\n        this.clearMessage();\n      }, 3000);\n    },\n\n    clearMessage() {\n      this.message = '';\n      this.messageType = '';\n    }\n  }\n};\n</script>\n\n<style scoped>\n.auth-page {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  box-sizing: border-box;\n  position: relative;\n  color: #fff;\n  overflow: hidden;\n  margin: 0;\n}\n\n/* 视频背景样式 */\n.video-background {\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  z-index: 0 !important;\n  overflow: hidden !important;\n  display: block !important;\n  opacity: 1 !important;\n}\n\n.video-background.video-visible {\n  opacity: 1 !important;\n}\n\n/* 备用背景图 */\n.fallback-background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-image: url('https://picsum.photos/1920/1080');\n  background-size: cover;\n  background-position: center;\n  z-index: 1;\n  display: block !important;\n}\n\n/* 视频元素 */\n#backgroundVideo.background-video {\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  object-fit: cover !important;\n  z-index: 2 !important;\n  display: block !important;\n  opacity: 1 !important;\n  visibility: visible !important;\n  pointer-events: none !important;\n}\n\n/* 播放提示样式 */\n.play-prompt {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 100 !important;\n  cursor: pointer;\n  background-color: rgba(0, 0, 0, 0);\n  padding: 25px 35px;\n  border-radius: 12px;\n  transition: all 0.3s ease;\n  opacity: 1 !important;\n  pointer-events: auto !important;\n  backdrop-filter: blur(0);\n}\n\n.play-prompt:hover {\n  background-color: rgba(0, 0, 0, 0.7);\n  transform: translate(-50%, -50%) scale(1.05);\n}\n\n.play-icon {\n  font-size: 60px;\n  margin-bottom: 15px;\n  color: white;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n}\n\n.play-prompt p {\n  margin: 0;\n  font-size: 18px;\n  color: white;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n}\n\n/* 视频遮罩层 - 降低透明度，让背景更清晰可见 */\n.video-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0);\n  /* 降低遮罩透明度 */\n  z-index: 3;\n}\n\n/* 品牌头部样式 - 增强文字可读性 */\n.brand-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 30px;\n  z-index: 20;\n}\n\n.logo {\n  width: 50px;\n  height: 50px;\n  background-color: rgba(22, 119, 255, 0);\n  /* 半透明处理 */\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 12px;\n  box-shadow: 0 2px 15px rgba(22, 119, 255, 0.5);\n  backdrop-filter: blur(3px);\n}\n\n.logo-char {\n  color: white;\n  font-size: 24px;\n  font-weight: bold;\n  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n}\n\n.brand-name {\n  font-size: 28px;\n  color: white;\n  margin: 0;\n  font-weight: 600;\n  text-shadow: 0 2px 10px rgba(255, 255, 255, 0);\n  /* 增强文字阴影 */\n}\n\n/* 认证容器样式 */\n.auth-container {\n  width: 100%;\n  max-width: 400px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  z-index: 20;\n}\n\n/* 登录卡片 - 核心透明效果 */\n.auth-card {\n  background: rgba(255, 255, 255, 0);\n  /* 高度透明的白色背景 */\n  border-radius: 12px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0);\n  /* 柔和阴影 */\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  backdrop-filter: blur(0);\n  /* 毛玻璃效果，增强透明感 */\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  /* 半透明白色边框 */\n}\n\n/* 标签样式 - 适配透明背景 */\n.auth-tabs {\n  display: flex;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.tab-btn {\n  flex: 1;\n  padding: 15px;\n  background: none;\n  border: none;\n  font-size: 16px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s;\n  color: rgba(255, 255, 255, 0.9);\n  /* 白色文字 */\n}\n\n.tab-btn.active {\n  color: #ffffff;\n  border-bottom: 2px solid #1677ff;\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.tab-btn:hover:not(.active) {\n  background-color: rgba(255, 255, 255, 0.05);\n}\n\n/* 表单样式 - 适配透明背景 */\n.auth-form {\n  padding: 25px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 8px;\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.9);\n  /* 白色标签 */\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n}\n\n/* 输入框样式 - 半透明效果 */\n.form-group input {\n  width: 100%;\n  padding: 12px 15px;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  border-radius: 6px;\n  font-size: 14px;\n  box-sizing: border-box;\n  background-color: rgba(255, 255, 255, 0);\n  /* 半透明输入框背景 */\n  color: #ffffff;\n  /* 白色文字 */\n  backdrop-filter: blur(0);\n}\n\n/* 输入框占位符样式 */\n.form-group input::placeholder {\n  color: rgba(255, 255, 255, 0.6);\n}\n\n.form-group input:focus {\n  outline: none;\n  border-color: #1677ff;\n  box-shadow: 0 0 0 3px rgba(22, 119, 255, 0.2);\n  background-color: rgba(255, 255, 255, 0.2);\n}\n\n/* 链接样式 */\n.forgot-link {\n  color: #b8dbff;\n  font-size: 14px;\n  text-decoration: none;\n  transition: color 0.3s;\n}\n\n.forgot-link:hover {\n  color: #ffffff;\n  text-decoration: underline;\n}\n\n/* 按钮样式 */\n.submit-btn {\n  width: 100%;\n  padding: 12px;\n  background-color: rgba(22, 119, 255, 0);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 16px;\n  cursor: pointer;\n  transition: all 0.3s;\n  backdrop-filter: blur(3px);\n}\n\n.submit-btn:hover {\n  background-color: #1677ff;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(22, 119, 255, 0.4);\n}\n\n/* 加载提示 */\n.loading-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(255, 255, 255, 0);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 10;\n  backdrop-filter: blur(5px);\n}\n\n.spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid rgba(255, 255, 255, 0.2);\n  border-top: 4px solid #1677ff;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 10px;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.loading-overlay p {\n  color: rgba(255, 255, 255, 0.9);\n}\n\n/* 消息提示 */\n.message-toast {\n  position: absolute;\n  top: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 10px 20px;\n  border-radius: 4px;\n  color: white;\n  z-index: 20;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  backdrop-filter: blur(5px);\n}\n\n.message-toast.success {\n  background-color: rgba(82, 196, 26, 0);\n}\n\n.message-toast.error {\n  background-color: rgba(255, 77, 79, 0);\n}\n\n.message-toast.warning {\n  background-color: rgba(250, 173, 20, 0);\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  color: white;\n  font-size: 16px;\n  cursor: pointer;\n  padding: 0;\n}\n\n/* 页脚信息 */\n.footer-info {\n  margin-top: 20px;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 14px;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n}\n</style>","import { render } from \"./LoginView.vue?vue&type=template&id=751d8aa3&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=751d8aa3&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-751d8aa3\"]])\n\nexport default __exports__","<template>\n    <!-- 主页面 -->\n    <div id=\"home\">\n        <top-bar :title=\"topbar_title\"/>\n        <van-pull-refresh v-model=\"loading\" loading-text=\"刷新中...\" success-text=\"刷新成功\" @refresh=\"onRefresh\">\n            <!-- router-view路由视图，根据路由展示消息、联系人、动态三个界面 -->\n            <!-- keep-alive缓存路由视图，使得切换路由后，消息和联系人页面数据不变 -->\n            <router-view v-slot=\"{ Component }\">\n                <keep-alive>\n                    <component :is=\"Component\" />\n                </keep-alive>\n            </router-view>\n        </van-pull-refresh>\n        <bottom-bar @setTitle=\"setTitle\"/>\n    </div>\n</template>\n\n<script>\nimport TopBar from '../components/TopBar.vue'\n\nexport default {\n    data() {\n        return {\n            loading: false, //是否在刷新中\n            topbar_title: \"消息\" //顶部栏的标题，默认为“消息”\n        };\n    },\n    methods: {\n        // 刷新界面\n        onRefresh() {\n            setTimeout(() => {\n                this.loading = false;\n            }, 1000);\n        },\n        // 从子组件BottomBar获取数据，设置顶部栏标题\n        setTitle(data) {\n            this.topbar_title = data;\n        }\n    },\n    components: {\n        TopBar,\n        \n    }\n}\n</script>\n\n<style>\n\n</style>","const script = {}\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=3c2e577f\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div id=\"dialog\">\n    \n    <!-- 聊天会话内容区域 -->\n    <div id=\"dialog_content\" class=\"chat-container\">\n      <div class=\"messages\" ref=\"messagesContainer\">\n        <!-- 初始欢迎消息 -->\n        <div class=\"message-item ai-message\">\n\n          <div class=\"message-bubble\">\n            welcome.\n          </div>\n        </div>\n\n        <!-- 动态消息列表 -->\n        <div v-for=\"(msg, index) in messages\" :key=\"index\"\n          :class=\"['message-item', msg.sender === 'user' ? 'user-message flex-row-reverse' : 'ai-message']\">\n\n\n\n          <!-- 文本消息 -->\n          <div v-if=\"msg.type === 'text'\" class=\"message-bubble\" :class=\"msg.isError ? 'error-message' : ''\">\n            {{ msg.content }}\n          </div>\n          <!-- 新增：格式化消息（Markdown） -->\n          <div v-if=\"msg.type === 'formatted'\" class=\"message-bubble markdown-bubble\">\n            <div v-html=\"msg.content\" class=\"markdown-render\"></div>\n          </div>\n          <!-- 语音消息 -->\n          <div v-if=\"msg.type === 'voice'\" class=\"voice-bubble\">\n            <div class=\"voice-controls\">\n              <van-icon :name=\"msg.isPlaying ? 'pause-circle' : 'play-circle'\" size=\"20\"\n                @click=\"toggleVoicePlayback(index)\" class=\"play-icon\" />\n              <div class=\"voice-wave\">\n                <div :style=\"{ height: '100%' }\"></div>\n                <div :style=\"{ height: '60%' }\"></div>\n                <div :style=\"{ height: '80%' }\"></div>\n                <div :style=\"{ height: '40%' }\"></div>\n              </div>\n              <span class=\"voice-duration\">{{ formatDuration(msg.duration) }}</span>\n            </div>\n\n            <!-- 语音操作按钮 -->\n            <div class=\"voice-actions\" v-if=\"msg.sender === 'user'\">\n              <van-button size=\"mini\" type=\"primary\" @click=\"convertVoiceToText(index)\" round>\n                转文字\n              </van-button>\n              <van-button size=\"mini\" type=\"info\" @click=\"analyzeVoiceTone(index)\" round>\n                分析语调\n              </van-button>\n              <van-button size=\"mini\" type=\"warning\" @click=\"calculateSpeechSpeed(index)\" round\n                :disabled=\"!msg.textResult\">\n                语速\n              </van-button>\n              <van-button size=\"mini\" type=\"success\" @click=\"analyzeLanguageLogic(index)\" round\n                :disabled=\"!msg.textResult\">\n                语言逻辑\n              </van-button>\n            </div>\n\n            <!-- 语音转文字结果 -->\n            <div v-if=\"msg.textResult\" class=\"voice-text-result\">\n              {{ msg.textResult }}\n            </div>\n\n            <!-- 语速计算结果 -->\n            <div v-if=\"msg.speechSpeed\" class=\"voice-speed-result\">\n              语速: {{ msg.speechSpeed }} 字/秒 (约 {{ Math.round(msg.speechSpeed * 60) }} 字/分钟)\n            </div>\n\n            <!-- 语调分析结果 -->\n            <div v-if=\"msg.toneResult\" class=\"voice-tone-result\">\n              <div>语调: {{ msg.toneResult.tone_type }}</div>\n              <div>基频均值: {{ msg.toneResult.f0_mean }}Hz</div>\n              <div>基频范围: {{ msg.toneResult.f0_min }}-{{ msg.toneResult.f0_max }}Hz</div>\n            </div>\n\n            <!-- 语言逻辑分析结果 -->\n            <div v-if=\"msg.logicResult\" class=\"voice-logic-result\">\n              <div><strong>语言逻辑分析:</strong></div>\n              <div>{{ msg.logicResult.analysis }}</div>\n              <div v-if=\"msg.logicResult.score\"><strong>连贯性评分:</strong> {{ msg.logicResult.score }}/10</div>\n            </div>\n          </div>\n\n          <!-- 表情和姿态分析消息 -->\n          <div v-if=\"msg.type === 'expression'\" class=\"expression-bubble\">\n            <div class=\"expression-image-container\">\n              <img :src=\"msg.imageUrl\" class=\"expression-image\" alt=\"表情和姿态分析截图\">\n            </div>\n\n            <!-- 表情分析结果 -->\n            <div  class=\"expression-results\">\n              <div><strong>表情与动作分析:</strong></div>\n              \n              <div>{{ msg.expressionResults.result }}</div>\n            </div>\n\n            <!-- 姿态分析结果 -->\n            <div v-if=\"msg.poseResult\" class=\"pose-result\">\n              <div><strong>姿态分析:</strong></div>\n              <div>动作: {{ msg.poseResult.pose }}</div>\n              <div>置信度: {{ (msg.poseResult.score * 100).toFixed(1) }}%</div>\n              <div>帧率: {{ msg.poseResult.fps }}fps</div>\n            </div>\n\n            <!-- 综合分析结果 -->\n            <div v-if=\"msg.comprehensiveAnalysis\" class=\"comprehensive-analysis\">\n              <div><strong>综合分析:</strong></div>\n              <div>{{ msg.comprehensiveAnalysis }}</div>\n            </div>\n\n            <!-- 操作按钮 -->\n            <div class=\"expression-actions\" v-if=\"msg.sender === 'user'\">\n              <van-button size=\"mini\" type=\"primary\" @click=\"analyzeComprehensive(index)\" round>\n                综合分析\n              </van-button>\n              <van-button size=\"mini\" type=\"success\" @click=\"saveAnalysisToStorage(msg)\" round>\n                保存分析\n              </van-button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 正在输入指示器 -->\n        <div v-if=\"isTyping\" :id=\"typingId\" class=\"message-item ai-message\">\n          <div class=\"avatar\">\n\n          </div>\n          <div class=\"message-bubble typing\">\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 底部输入栏 -->\n    <div id=\"dialog_bottombar\">\n      <div id=\"dialog_bottombar_inside\">\n        <!-- 使用flex布局将输入框和发送按钮放在同一行 -->\n        <div style=\"display: flex; align-items: flex-end; gap: 8px;\">\n          <van-field type=\"textarea\" rows=\"1\" :autosize=\"{ maxHeight: 100, minHeight: 40 }\" v-model=\"message\"\n            style=\"border-radius:25px; padding:10px; flex: 1;\" @keypress.enter.prevent=\"sendMessage\"\n            placeholder=\"输入消息...\" />\n\n          <!-- 发送按钮移至输入框右侧 -->\n          <van-button round type=\"primary\" size=\"small\" @click=\"sendMessage\"\n            style=\"width:60px; height:60px; padding:0; display:flex; align-items:center; justify-content:center;\"\n            :disabled=\"!message.trim()\">\n            发送\n            <van-icon name=\"paper-plane-o\" size=\"16\" style=\"margin-left: 2px;\" />\n          </van-button>\n        </div>\n\n        <van-row style=\"padding-top: 8px;\">\n          <van-col span=\"8\" style=\"text-align:center;\">\n            <van-icon :name=\"isRecording ? 'stop' : require('@/assets/icon/icon_dialog_语音.png')\" size=\"20\"\n              @click=\"startInterviewProcess()\" />\n          </van-col>\n          <van-col span=\"8\" style=\"text-align:center;\">\n            <van-icon name=\"image\" size=\"20\" />\n          </van-col>\n          <van-col span=\"4\" style=\"text-align:center;\">\n            <van-icon :name=\"require('@/assets/icon/icon_dialog_相机.png')\" size=\"20\" @click=\"toggleCamera\"\n              :class=\"isCameraActive ? 'camera-active' : ''\" />\n          </van-col>\n          <van-col span=\"4\" style=\"text-align:center;\">\n            <van-icon name=\"red-envelope\" size=\"20\" />\n          </van-col>\n          \n          <!-- 移除原发送按钮所在的van-col -->\n        </van-row>\n      </div>\n\n    </div>\n\n    <van-popup \n      v-model:show=\"isCameraModalVisible\" \n      :style=\"{\n        width: popupWidth + 'px',   // 动态宽度\n        height: popupHeight + 'px', // 动态高度\n        left: popupLeft + 'px',     // 动态左偏移\n        top: popupTop + 'px',       // 动态上偏移\n        'z-index': 100,\n        background: 'white',\n        borderRadius: '12px',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n        overflow: 'hidden',\n        position: 'fixed',  // 固定定位，支持自由移动\n        margin: 0           // 清除默认margin\n      }\" \n      :overlay=\"false\"\n      :position=\"null\"\n    >\n      <!-- 弹窗头部（可拖拽区域） -->\n      <!-- 开始拖拽 -->\n      <div \n        class=\"camera-header\"\n        style=\"padding: 12px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; cursor: move;\"\n        @mousedown=\"startDrag\"\n      >\n        <h3 style=\"margin: 0; font-size: 16px;\">表情与姿态识别</h3>\n        <van-icon name=\"close\" @click=\"toggleCamera\" style=\"font-size: 20px; cursor: pointer;\" />\n      </div>\n\n      <!-- 相机预览区域 -->\n      <div class=\"camera-preview\" style=\"flex: 1; padding: 10px; box-sizing: border-box; position: relative;\">\n        <video ref=\"videoElement\" autoplay playsinline class=\"camera-video\"\n          style=\"width: 100%; height: 100%; object-fit: cover; border-radius: 8px;\"></video>\n\n        <!-- 加载中状态 -->\n        <div v-if=\"isLoadingCamera\"\n          style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;\">\n          <van-loading type=\"spinner\" color=\"#1677ff\" />\n          <p style=\"margin-top: 8px; color: #666;\">正在初始化相机...</p>\n        </div>\n\n        <!-- 错误提示 -->\n        <div v-if=\"cameraError\"\n          style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #f53f3f;\">\n          <van-icon name=\"warning-circle\" color=\"#f53f3f\" size=\"24\" />\n          <p style=\"margin-top: 8px;\">{{ cameraError }}</p>\n        </div>\n      </div>\n\n      <!-- 相机控制按钮 -->\n      <div class=\"camera-controls\" style=\"padding: 12px; display: flex; gap: 10px; justify-content: center;\">\n        <van-button type=\"primary\" round @click=\"captureImage\" :disabled=\"!isCameraActive || isProcessingImage\"\n          style=\"padding: 8px 20px;\">\n          <van-icon name=\"camera\" size=\"18\" style=\"margin-right: 5px;\" />\n          {{ isProcessingImage ? '处理中...' : '拍照分析' }}\n        </van-button>\n\n        <van-button type=\"info\" round @click=\"startContinuousAnalysis\"\n          :disabled=\"!isCameraActive || isAnalyzingContinuously\" style=\"padding: 8px 20px;\">\n          <van-icon name=\"play\" size=\"18\" style=\"margin-right: 5px;\" />\n          {{ isAnalyzingContinuously ? '停止连续分析' : '连续分析' }}\n        </van-button>\n      </div>\n\n      <!-- 右下角 resize 手柄（用于调整大小） -->\n      <div \n        class=\"resize-handle\"\n        style=\"position: absolute; right: 0; bottom: 0; width: 15px; height: 15px; cursor: nwse-resize; background: #1677ff; border-radius: 0 0 12px 0;\"\n        @mousedown=\"startResize\"\n      ></div>\n    </van-popup>\n\n\n    <!-- 评测报告弹窗 -->\n    <van-popup v-model:show=\"isReportVisible\" position=\"center\"\n      :style=\"{ width: '90%', maxWidth: '800px', height: '90%', overflow: 'auto' }\">\n      <div class=\"report-container\">\n        <div class=\"report-header\">\n          <h2>面试多维度评估报告</h2>\n          <van-icon name=\"close\" @click=\"isReportVisible = false\" class=\"close-icon\" />\n        </div>\n\n        <div v-if=\"reportLoading\" class=\"report-loading\">\n          <van-loading type=\"spinner\" color=\"#1677ff\" size=\"30\" />\n          <p>正在生成评估报告...</p>\n        </div>\n\n        <div v-else-if=\"reportError\" class=\"report-error\">\n          <van-icon name=\"warning-circle\" color=\"#f53f3f\" size=\"24\" />\n          <p>{{ reportError }}</p>\n          <van-button @click=\"generateReportFromStorage\" type=\"primary\" round>重试</van-button>\n        </div>\n\n        <div v-else class=\"report-content\">\n          <!-- 雷达图区域 -->\n          <div class=\"radar-chart-container\">\n            <h3 class=\"chart-title\">多维度能力雷达图</h3>\n            <div class=\"chart-wrapper\">\n              <canvas ref=\"radarChart\" width=\"400\" height=\"300\"></canvas>\n            </div>\n          </div>\n\n          <!-- 能力详情区域 -->\n          <div class=\"ability-details-container\">\n            <h3 class=\"details-title\">各维度评分详情</h3>\n            <div class=\"details-list\">\n              <div v-for=\"(item, index) in reportIndicators\" :key=\"index\" class=\"detail-item\">\n                <span class=\"indicator-name\">{{ item }}</span>\n                <span class=\"score-value\" :class=\"getScoreClass(reportValues[index])\">\n                  {{ reportValues[index] }}分 ({{ getScoreLevel(reportValues[index]) }})\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <!-- 详细分析区域 -->\n          <div class=\"analysis-container\">\n            <h3 class=\"analysis-title\">详细分析</h3>\n\n            <div class=\"analysis-section\">\n              <h4>专业知识水平</h4>\n              <p>{{ professionalKnowledgeAnalysis || '暂无数据' }}</p>\n              <p v-if=\"firstQuestion\"><strong>问题:</strong> {{ firstQuestion }}</p>\n              <p v-if=\"firstResult\"><strong>回答:</strong> {{ firstResult }}</p>\n            </div>\n\n            <div class=\"analysis-section\">\n              <h4>技能匹配度</h4>\n              <p>{{ skillMatchAnalysis || '暂无数据' }}</p>\n              <p v-if=\"secondQuestion\"><strong>问题:</strong> {{ secondQuestion }}</p>\n              <p v-if=\"secondResult\"><strong>回答:</strong> {{ secondResult }}</p>\n            </div>\n\n            <div class=\"analysis-section\">\n              <h4>语言表达能力</h4>\n              <p>{{ languageExpressionAnalysis || '暂无数据' }}</p>\n              <p v-if=\"thirdQuestion\"><strong>问题:</strong> {{ thirdQuestion }}</p>\n              <p v-if=\"thirdResult\"><strong>回答:</strong> {{ thirdResult }}</p>\n            </div>\n\n            <div class=\"analysis-section\">\n              <h4>逻辑思维能力</h4>\n              <p>{{ logicalThinkingAnalysis || '暂无数据' }}</p>\n              <p v-if=\"fourthQuestion\"><strong>问题:</strong> {{ fourthQuestion }}</p>\n              <p v-if=\"fourthResult\"><strong>回答:</strong> {{ fourthResult }}</p>\n            </div>\n\n            <div class=\"analysis-section\">\n              <h4>创新能力</h4>\n              <p>{{ innovationAbilityAnalysis || '暂无数据' }}</p>\n              <p v-if=\"fifthQuestion\"><strong>问题:</strong> {{ fifthQuestion }}</p>\n              <p v-if=\"fifthResult\"><strong>回答:</strong> {{ fifthResult }}</p>\n            </div>\n          </div>\n          <!-- 在报告的详细分析区域下方添加新内容 -->\n          <div class=\"analysis-container\">\n            <h3 class=\"analysis-title\">关键问题定位</h3>\n            <div class=\"issue-location\">\n              <p>{{ keyIssues || '暂无关键问题定位' }}</p>\n\n              <div v-if=\"issueExamples && issueExamples.length\">\n                <h4>具体表现示例:</h4>\n                <ul>\n                  <li v-for=\"(example, index) in issueExamples\" :key=\"index\">\n                    {{ example }}\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"analysis-container\">\n            <h3 class=\"analysis-title\">反馈建议</h3>\n            <div class=\"feedback-suggestions\">\n              <div v-if=\"feedbackCategories && feedbackCategories.length\">\n                <div v-for=\"(category, catIndex) in feedbackCategories\" :key=\"catIndex\" class=\"feedback-category\">\n                  <h4>{{ category.title }}</h4>\n                  <ul>\n                    <li v-for=\"(suggestion, sugIndex) in category.suggestions\" :key=\"sugIndex\">\n                      {{ suggestion }}\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <p v-else>暂无具体反馈建议</p>\n            </div>\n          </div>\n          <!-- 综合评价 -->\n          <div class=\"summary-container\">\n            <h3 class=\"summary-title\">综合评价与建议</h3>\n            <div class=\"summary-content\">\n              <p>{{ comprehensiveEvaluation || '暂无综合评价' }}</p>\n\n              <h4>改进建议</h4>\n              <ul v-if=\"improvementSuggestions.length\">\n                <li v-for=\"(suggestion, index) in improvementSuggestions\" :key=\"index\">\n                  {{ suggestion }}\n                </li>\n              </ul>\n              <p v-else>暂无建议</p>\n            </div>\n          </div>\n\n          <!-- 响应体展示区域 -->\n          <div class=\"response-body-container\">\n            <h3 class=\"response-body-title\">原始响应数据</h3>\n            <div class=\"response-body-content\">\n              <pre>{{ formattedReportResponse }}</pre>\n            </div>\n          </div>\n        </div>\n      </div>\n    </van-popup>\n\n    <!-- 录音提示 -->\n    <div v-if=\"isRecording\" class=\"recording-indicator\">\n      <div class=\"recording-dot\"></div>\n      <p>正在录音...{{ recordingSeconds }}s</p>\n      <p>松开结束录音</p>\n    </div>\n\n    <!-- 服务状态提示 -->\n    <div class=\"status-bar\" :class=\"statusClass\" style=\"z-index: 998;\">\n      {{ statusText }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Chart, registerables, RadarController } from 'chart.js';\n\nexport default {\n  data() {\n    return {\n    // 弹窗初始位置和尺寸（可根据需求调整）\n      popupWidth: 300,\n      popupHeight: 600,\n      popupLeft: 500,\n      popupTop: 100,\n      \n      // 拖拽相关状态\n      isDragging: false,\n      startX: 0,\n      startY: 0,\n      \n      // 调整大小相关状态\n      isResizing: false,\n      startWidth: 0,\n      startHeight: 0,\n      msg: {\n        // 提前初始化 expressionResults 为数组，避免 undefined\n        expressionResults: []\n      },\n      // 关键问题定位\n      keyIssues: '',\n      issueExamples: [],\n\n      // 反馈建议\n      feedbackCategories: [],\n\n      name: this.$route.params.name,\n      message: \"\",\n      messages: [],\n      isTyping: false,\n      typingId: \"\",\n      API_BASE_URL: 'https://123.56.203.202',\n      statusText: '连接中...',\n      statusClass: 'text-xs text-gray-500 mt-2 text-center',\n      commonHeaders: {\n        'ngrok-skip-browser-warning': '1'\n      },\n\n      // 语音相关状态\n      isRecording: false,\n      mediaRecorder: null,\n      audioBlob: null,\n      recordingSeconds: 0,\n      recordingTimer: null,\n      audioContext: null,\n      audioElements: {},\n      mediaStream: null,\n      audioChunks: [],\n      transcribeCount: 0, // 转写计数，用于跟踪是第几次转写\n\n      // 相机相关状态\n      isCameraModalVisible: false,\n      isCameraActive: false,\n      isLoadingCamera: false,\n      cameraError: null,\n      isProcessingImage: false,\n      isAnalyzingContinuously: false,\n      continuousAnalysisTimer: null,\n      detectionInterval: null,\n      videoStream: null,\n\n      // 评测报告相关状态\n      isReportVisible: false,\n      reportLoading: false,\n      reportError: '',\n      chart: null,\n      reportResponse: null, // 存储原始响应数据\n\n      // 报告数据 - 五个维度\n      reportIndicators: [\n        '专业知识水平',\n        '技能匹配度',\n        '语言表达能力',\n        '逻辑思维能力',\n        '创新能力'\n      ],\n      reportValues: [60, 60, 60, 60, 60],\n\n      // 问题和答案存储\n      firstQuestion: '',\n      secondQuestion: '',\n      thirdQuestion: '',\n      fourthQuestion: '',\n      fifthQuestion: '',\n      firstResult: '',\n      secondResult: '',\n      thirdResult: '',\n      fourthResult: '',\n      fifthResult: '',\n\n      // 详细分析数据\n      professionalKnowledgeAnalysis: '', // 专业知识水平\n      skillMatchAnalysis: '', // 技能匹配度\n      languageExpressionAnalysis: '', // 语言表达能力\n      logicalThinkingAnalysis: '', // 逻辑思维能力\n      innovationAbilityAnalysis: '', // 创新能力\n      comprehensiveEvaluation: '',\n      improvementSuggestions: []\n    };\n  },\n  computed: {\n    // 格式化响应体数据用于展示\n    formattedReportResponse() {\n      if (!this.reportResponse) return '无响应数据';\n      return JSON.stringify(this.reportResponse, null, 2);\n    }\n  },\n  mounted() {\n    this.testConnection();\n    this.initContainerHeight();\n    window.addEventListener('resize', this.initContainerHeight);\n    this.checkRecordingSupport();\n\n    // 从localStorage加载已保存的问题和答案\n    this.loadStoredQuestionsAndAnswers();\n\n    // 注册Chart.js组件\n    Chart.register(...registerables);\n    Chart.register(RadarController);\n    window.Chart = Chart;\n\n\n\n  },\n  beforeUnmount() {\n    window.removeEventListener('resize', this.initContainerHeight);\n    this.stopRecording();\n    Object.values(this.audioElements).forEach(audio => {\n      if (audio) {\n        audio.pause();\n      }\n    });\n\n    // 清理相机相关资源\n    this.stopCamera();\n    if (this.continuousAnalysisTimer) {\n      clearInterval(this.continuousAnalysisTimer);\n    }\n    if (this.detectionInterval) {\n      clearInterval(this.detectionInterval);\n    }\n\n    // 销毁图表\n    if (this.chart) {\n      this.chart.destroy();\n    }\n  },\n  methods: {\n     // 开始拖拽弹窗\n    startDrag(e) {\n      this.isDragging = true;\n      // 记录初始鼠标位置和弹窗位置\n      this.startX = e.clientX;\n      this.startY = e.clientY;\n      \n      // 绑定鼠标移动和释放事件\n      document.addEventListener('mousemove', this.handleDrag);\n      document.addEventListener('mouseup', this.stopDrag);\n      e.preventDefault(); // 防止拖动时选中文本\n    },\n    \n    // 处理拖拽逻辑\n    handleDrag(e) {\n      if (!this.isDragging) return;\n      \n      // 计算鼠标移动距离\n      const deltaX = e.clientX - this.startX;\n      const deltaY = e.clientY - this.startY;\n      \n      // 更新弹窗位置（限制在可视区域内）\n      const newLeft = this.popupLeft + deltaX;\n      const newTop = this.popupTop + deltaY;\n      \n      // 限制左边界不小于0\n      this.popupLeft = Math.max(0, newLeft);\n      // 限制上边界不小于0\n      this.popupTop = Math.max(0, newTop);\n      // 限制右边界不超过窗口宽度\n      this.popupLeft = Math.min(window.innerWidth - this.popupWidth, this.popupLeft);\n      // 限制下边界不超过窗口高度\n      this.popupTop = Math.min(window.innerHeight - this.popupHeight, this.popupTop);\n      \n      // 更新初始位置（用于下一次计算）\n      this.startX = e.clientX;\n      this.startY = e.clientY;\n    },\n    \n    // 停止拖拽\n    stopDrag() {\n      this.isDragging = false;\n      document.removeEventListener('mousemove', this.handleDrag);\n      document.removeEventListener('mouseup', this.stopDrag);\n    },\n    \n    // 开始调整大小\n    startResize(e) {\n      this.isResizing = true;\n      // 记录初始鼠标位置和弹窗尺寸\n      this.startX = e.clientX;\n      this.startY = e.clientY;\n      this.startWidth = this.popupWidth;\n      this.startHeight = this.popupHeight;\n      \n      // 绑定鼠标移动和释放事件\n      document.addEventListener('mousemove', this.handleResize);\n      document.addEventListener('mouseup', this.stopResize);\n      e.preventDefault(); // 防止拖动时选中文本\n    },\n    \n    // 处理调整大小逻辑\n    handleResize(e) {\n      if (!this.isResizing) return;\n      \n      // 计算鼠标移动距离（控制宽高变化）\n      const deltaWidth = e.clientX - this.startX;\n      const deltaHeight = e.clientY - this.startY;\n      \n      // 计算新的宽高（设置最小尺寸限制，避免过小）\n      const minWidth = 200;\n      const minHeight = 300;\n      this.popupWidth = Math.max(minWidth, this.startWidth + deltaWidth);\n      this.popupHeight = Math.max(minHeight, this.startHeight + deltaHeight);\n      \n      // 限制最大尺寸不超过窗口\n      this.popupWidth = Math.min(window.innerWidth - 50, this.popupWidth);\n      this.popupHeight = Math.min(window.innerHeight - 50, this.popupHeight);\n    },\n    \n    // 停止调整大小\n    stopResize() {\n      this.isResizing = false;\n      document.removeEventListener('mousemove', this.handleResize);\n      document.removeEventListener('mouseup', this.stopResize);\n    },\n    // 从localStorage加载已保存的问题和答案\n    loadStoredQuestionsAndAnswers() {\n      // 硬编码设置指定的五个问题到localStorage（如果不存在）\n      const defaultQuestions = [\n        {\n          id: \"firstQuestion\",\n          content: \"请详细阐述您对人工智能技术岗领域中核心概念和技术的理解，以及您在实际项目中如何应用这些知识解决问题。\"\n        },\n        {\n          id: \"secondQuestion\",\n          content: \"在人工智能技术岗岗位上，您认为哪些关键技能是必不可少的？请举例说明您在这些技能方面的掌握程度和实际应用经验。\"\n        },\n        {\n          id: \"thirdQuestion\",\n          content: \"请描述一次您需要向非技术团队成员清晰解释人工智能技术岗相关复杂技术概念的经历。您采用了什么方法确保对方理解？\"\n        },\n        {\n          id: \"fourthQuestion\",\n          content: \"在人工智能技术岗工作中，当面对一个复杂问题时，您的分析和解决问题的逻辑步骤是什么？请分享一个具体案例。\"\n        },\n        {\n          id: \"fifthQuestion\",\n          content: \"请分享一个您在人工智能技术岗相关项目中提出创新解决方案的经历。您是如何发现问题并提出新颖的解决思路的？\"\n        }\n      ];\n\n      // 初始化localStorage中的问题（如果不存在）\n      defaultQuestions.forEach(question => {\n        if (!localStorage.getItem(question.id)) {\n          localStorage.setItem(question.id, question.content);\n        }\n      });\n\n      // 从localStorage加载问题到组件\n      this.firstQuestion = localStorage.getItem(\"firstQuestion\") || '';\n      this.secondQuestion = localStorage.getItem(\"secondQuestion\") || '';\n      this.thirdQuestion = localStorage.getItem(\"thirdQuestion\") || '';\n      this.fourthQuestion = localStorage.getItem(\"fourthQuestion\") || '';\n      this.fifthQuestion = localStorage.getItem(\"fifthQuestion\") || '';\n\n      // 从localStorage加载答案到组件\n      this.firstResult = localStorage.getItem(\"firstResult\") || '';\n      this.secondResult = localStorage.getItem(\"secondResult\") || '';\n      this.thirdResult = localStorage.getItem(\"thirdResult\") || '';\n      this.fourthResult = localStorage.getItem(\"fourthResult\") || '';\n      this.fifthResult = localStorage.getItem(\"fifthResult\") || '';\n    },\n\n    startInterviewProcess() {\n  // 模拟avatarPlatform2已实例化\n  const avatarPlatform2 = true;\n\n  if (avatarPlatform2) {\n    // 初始调用 - 问候语（带自动播放视频）\n    let username = localStorage.getItem(\"username\") || \"候选人\";\n    let career = localStorage.getItem(\"career\") || \"相关岗位\";\n    let text = `你好，${username}，欢迎面试${career}。接下来将进行面试环节，共有五道题目，涉及专业知识水平、技能匹配度、语言表达能力、逻辑思维能力和创新能力五个维度。请认真思考后回答。`;\n\n    // 创建视频元素并设置自动播放\n    const videoElement = document.createElement('video');\n    videoElement.controls = true; // 显示播放控件\n    videoElement.autoplay = true; // 自动播放\n    videoElement.muted = false; // 不静音\n    videoElement.style.width = \"100%\";\n    videoElement.style.maxWidth = \"600px\";\n    videoElement.style.marginTop = \"15px\";\n\n    // 添加视频源\n    const sourceElement = document.createElement('source');\n    sourceElement.src = \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang.mp4\";\n    sourceElement.type = \"video/mp4\";\n    videoElement.appendChild(sourceElement);\n\n    // 处理自动播放限制的兼容方案\n    videoElement.addEventListener('canplaythrough', () => {\n      // 尝试播放，处理浏览器自动播放政策限制\n      videoElement.play().catch(e => {\n        console.log('自动播放被浏览器限制，需要用户交互后播放:', e);\n        // 显示提示让用户手动播放\n        const playPrompt = document.createElement('p');\n        playPrompt.style.color = '#666';\n        playPrompt.style.fontSize = '14px';\n        playPrompt.textContent = '提示：请点击播放按钮观看面试说明';\n        messageContainer.appendChild(playPrompt);\n      });\n    });\n\n    // 创建包含文本和视频的容器\n    const messageContainer = document.createElement('div');\n    messageContainer.innerHTML = `<p>${text}</p>`;\n    messageContainer.appendChild(videoElement);\n\n    // 添加不支持视频的提示\n    const fallbackText = document.createTextNode(\"您的浏览器不支持视频播放功能\");\n    messageContainer.appendChild(fallbackText);\n\n    // 添加消息到界面\n    this.addMessage('ai', text, 'text');\n\n    // 设置30秒后自动显示面试题弹窗（横向单题展示）\n    setTimeout(() => {\n      // 硬编码岗位为人工智能技术岗\n      const career = \"人工智能技术岗\";\n\n      // 五道题目的文本内容\n      const questions = [\n        {\n          title: \"第一道题\",\n          text: '',\n          videoUrl: \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang1.mp4\",\n          id: \"first\"\n        },\n        {\n          title: \"第二道题\",\n          text: '',\n          videoUrl: \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang2.mp4\",\n          id: \"second\"\n        },\n        {\n          title: \"第三道题\",\n          text: '',\n          videoUrl: \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang3.mp4\",\n          id: \"third\"\n        },\n        {\n          title: \"第四道题\",\n          text: '',\n          videoUrl: \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang4.mp4\",\n          id: \"fourth\"\n        },\n        {\n          title: \"第五道题\",\n          text: '',\n          videoUrl: \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang5.mp4\",\n          id: \"fifth\"\n        }\n      ];\n\n      // 当前题目索引\n      let currentIndex = 0;\n\n      // 弹窗位置和大小的默认值\n      const defaultWidth = 800;\n      const defaultHeight = 600;\n      const defaultLeft = (window.innerWidth - defaultWidth) / 2;\n      const defaultTop = (window.innerHeight - defaultHeight) / 2;\n\n      // 创建弹窗元素（背景遮罩）\n      const modal = document.createElement('div');\n      modal.style.cssText = `\nposition: fixed;\ntop: 0;\nleft: 0;\nwidth: 100%;\nheight: 100%;\nbackground: rgba(0,0,0,0.5);\n\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nbackground: rgba(0,0,0,0.1); /* 降低透明度 */\n  z-index: 999; /* 降低z-index，确保主页面元素可交互 */\n  pointer-events: none; /* 关键：允许点击穿透遮罩层 */\n`;\n\n      // 创建可拖拽的弹窗容器\n      const draggableModal = document.createElement('div');\n      draggableModal.style.cssText = `\nwidth: ${defaultWidth}px;\nheight: ${defaultHeight}px;\nleft: ${defaultLeft}px;\ntop: ${defaultTop}px;\nposition: absolute;\nbox-shadow: 0 4px 20px rgba(0,0,0,0.15);\nborder-radius: 12px;\noverflow: hidden;\ndisplay: flex;\nflex-direction: column;\nz-index: 1000; /* 确保弹窗在遮罩层上方 */\n  pointer-events: auto; /* 确保弹窗自身可交互 */\n`;\n\n      // 弹窗标题栏（可拖拽区域）\n      const modalHeader = document.createElement('div');\n      \n      modalHeader.style.cssText = `\nbackground: #f8f9fa;\npadding: 15px 20px;\nborder-bottom: 1px solid #eee;\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\ncursor: move;\n`;\n      \n      // 标题文本\n      const headerTitle = document.createElement('h3');\n      headerTitle.textContent = '面试题目';\n      headerTitle.style.cssText = `\nmargin: 0;\nfont-size: 16px;\ncolor: #333;\n`;\n      \n      // 关闭按钮\n      const closeButton = document.createElement('button');\n      closeButton.innerHTML = '×';\n      closeButton.style.cssText = `\nbackground: none;\nborder: none;\nfont-size: 20px;\ncursor: pointer;\ncolor: #666;\npadding: 0 10px;\nline-height: 1;\n`;\n      \n      modalHeader.appendChild(headerTitle);\n      modalHeader.appendChild(closeButton);\n      // 就在这里添加关闭按钮的点击事件（这是关键的添加位置）\ncloseButton.addEventListener('click', () => {\n  if (confirm('确定要关闭吗？已填写的回答可能会丢失。')) {\n    document.body.removeChild(modal);\n  }\n});\n\n      // 弹窗内容容器\n      const modalContainer = document.createElement('div');\n      modalContainer.style.cssText = `\nbackground: white;\nflex: 1;\ndisplay: flex;\nflex-direction: column;\noverflow: hidden;\n`;\n\n      // 题目导航指示器\n      const progressIndicator = document.createElement('div');\n      progressIndicator.id = 'progressIndicator';\n      progressIndicator.style.cssText = `\ndisplay: flex;\njustify-content: center;\nmargin: 15px 0;\ngap: 8px;\npadding: 0 20px;\n`;\n\n      // 创建进度点\n      questions.forEach((_, index) => {\n        const dot = document.createElement('div');\n        dot.id = `progress-${index}`;\n        dot.style.cssText = `\nwidth: 12px;\nheight: 12px;\nborder-radius: 50%;\nbackground: #ddd;\ntransition: all 0.3s ease;\n`;\n        progressIndicator.appendChild(dot);\n      });\n\n      // 题目内容区域 - 添加滚动功能\n      const questionContentWrapper = document.createElement('div');\n      questionContentWrapper.style.cssText = `\nflex: 1;\noverflow-y: auto;\npadding: 0 20px;\n`;\n\n      // 题目内容容器\n      const questionContent = document.createElement('div');\n      questionContent.id = 'questionContent';\n      questionContentWrapper.appendChild(questionContent);\n\n      // 按钮区域\n      const buttonContainer = document.createElement('div');\n      buttonContainer.style.cssText = `\ndisplay: flex;\njustify-content: space-between;\npadding: 15px 20px;\nborder-top: 1px solid #eee;\n`;\n\n      // 上一题按钮\n      const prevButton = document.createElement('button');\n      prevButton.textContent = '上一题';\n      prevButton.style.cssText = `\nbackground: #f0f0f0;\ncolor: #333;\nborder: none;\npadding: 10px 20px;\nborder-radius: 6px;\ncursor: pointer;\nfont-size: 14px;\ntransition: background 0.3s;\n`;\n      prevButton.addEventListener('mouseover', () => prevButton.style.background = '#e0e0e0');\n      prevButton.addEventListener('mouseout', () => prevButton.style.background = '#f0f0f0');\n\n      // 下一题/提交按钮\n      const nextButton = document.createElement('button');\n      nextButton.textContent = '下一题';\n      nextButton.style.cssText = `\nbackground: #4CAF50;\ncolor: white;\nborder: none;\npadding: 10px 20px;\nborder-radius: 6px;\ncursor: pointer;\nfont-size: 14px;\ntransition: background 0.3s;\n`;\n      nextButton.addEventListener('mouseover', () => nextButton.style.background = '#45a049');\n      nextButton.addEventListener('mouseout', () => nextButton.style.background = '#4CAF50');\n\n      // 右下角调整大小手柄\n      const resizeHandle = document.createElement('div');\n      resizeHandle.style.cssText = `\nposition: absolute;\nright: 0;\nbottom: 0;\nwidth: 15px;\nheight: 15px;\ncursor: nwse-resize;\nbackground: #4CAF50;\nborder-radius: 4px 0 0 0;\n`;\n\n      // 组装弹窗\n      buttonContainer.appendChild(prevButton);\n      buttonContainer.appendChild(nextButton);\n      modalContainer.appendChild(progressIndicator);\n      modalContainer.appendChild(questionContentWrapper);\n      modalContainer.appendChild(buttonContainer);\n      draggableModal.appendChild(modalHeader);\n      draggableModal.appendChild(modalContainer);\n      draggableModal.appendChild(resizeHandle);\n      modal.appendChild(draggableModal);\n      document.body.appendChild(modal);\n\n      // 渲染当前题目\n      function renderCurrentQuestion() {\n        const question = questions[currentIndex];\n\n        // 更新进度指示器\n        document.querySelectorAll('#progressIndicator div').forEach((dot, index) => {\n          if (index < currentIndex) {\n            dot.style.background = '#4CAF50'; // 已完成\n          } else if (index === currentIndex) {\n            dot.style.background = '#2196F3'; // 当前\n            dot.style.transform = 'scale(1.2)';\n          } else {\n            dot.style.background = '#ddd'; // 未完成\n            dot.style.transform = 'scale(1)';\n          }\n        });\n\n        // 检查是否有已保存的回答\n        const savedAnswer = localStorage.getItem(`${question.id}Result`) || '';\n\n        // 渲染题目内容，包含语音识别控件\n        questionContent.innerHTML = `\n<h2 style=\"margin-top: 0; color: #333; font-size: 20px;\">${question.title}</h2>\n<p style=\"font-size: 16px; line-height: 1.6; color: #555; margin: 15px 0;\">${question.text}</p>\n\n<div style=\"margin: 20px 0;\">\n  <p style=\"margin-bottom: 10px; font-weight: 500;\">相关视频参考：</p>\n  <video controls style=\"width: 100%; max-height: 300px; object-fit: contain;\">\n    <source src=\"${question.videoUrl}\" type=\"video/mp4\">\n    您的浏览器不支持视频播放\n   </video>\n</div>\n\n<!-- 语音输入控件 -->\n<div style=\"margin: 15px 0; padding: 15px; background: #f9f9f9; border-radius: 6px;\">\n  <div style=\"display: flex; gap: 10px; margin-bottom: 15px;\">\n    <button id=\"startRecord\" style=\"background: #4CAF50; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;\">\n      开始录音\n    </button>\n    <button id=\"stopRecord\" style=\"background: #f44336; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; display: none;\">\n      停止录音\n    </button>\n  </div>\n  \n  <!-- 语音分析结果展示 -->\n  <div style=\"font-size: 14px; color: #666; margin-top: 10px;\">\n    <p>语调状态：<span id=\"toneStatus\">未检测</span></p>\n    <p>语速：<span id=\"speedStatus\">未计算</span>（字/秒）</p>\n    <p>录音时长：<span id=\"recordTime\">0秒</span></p>\n  </div>\n</div>\n\n<textarea id=\"${question.id}Answer\" style=\"width: 100%; height: 200px; margin: 15px 0; padding: 12px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; resize: vertical;\" placeholder=\"请输入您的回答...\">${savedAnswer}</textarea>\n`;\n\n        // 初始化语音识别和音频分析\n        initSpeechRecognition(question.id);\n\n        // 更新按钮状态\n        prevButton.disabled = currentIndex === 0;\n        prevButton.style.opacity = currentIndex === 0 ? '0.5' : '1';\n        prevButton.style.cursor = currentIndex === 0 ? 'not-allowed' : 'pointer';\n\n        // 最后一题显示提交按钮\n        if (currentIndex === questions.length - 1) {\n          nextButton.textContent = '提交回答';\n          nextButton.style.background = '#2196F3';\n        } else {\n          nextButton.textContent = '下一题';\n          nextButton.style.background = '#4CAF50';\n        }\n\n        // 重置滚动位置到顶部\n        questionContentWrapper.scrollTop = 0;\n      }\n\n      // 初始化语音识别和音频分析\n      function initSpeechRecognition(questionId) {\n        const startBtn = document.getElementById('startRecord');\n        const stopBtn = document.getElementById('stopRecord');\n        const toneStatus = document.getElementById('toneStatus');\n        const speedStatus = document.getElementById('speedStatus');\n        const recordTime = document.getElementById('recordTime');\n        const answerTextarea = document.getElementById(`${questionId}Answer`);\n\n        // 语音识别相关变量\n        let recognition;\n        let isRecording = false;\n        let recordStartTime = 0;\n        let recordDuration = 0; // 录音时长（秒）\n        let mediaRecorder;\n        let audioContext;\n        let analyser;\n        let dataArray;\n        let animationId;\n\n        // 初始化语音识别（基于Web Speech API）\n        function initRecognition() {\n          const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n          if (!SpeechRecognition) {\n            alert('您的浏览器不支持语音识别功能，请使用Chrome等现代浏览器');\n            return null;\n          }\n          const rec = new SpeechRecognition();\n          rec.continuous = true; // 持续识别\n          rec.interimResults = true; // 返回中间结果\n          rec.lang = 'zh-CN'; // 中文识别\n          return rec;\n        }\n\n        // 初始化音频分析器（检测语调）\n        function initAudioAnalyser(stream) {\n          audioContext = new (window.AudioContext || window.webkitAudioContext)();\n          analyser = audioContext.createAnalyser();\n          const source = audioContext.createMediaStreamSource(stream);\n          source.connect(analyser);\n          analyser.fftSize = 256; // 快速傅里叶变换大小\n          const bufferLength = analyser.frequencyBinCount;\n          dataArray = new Uint8Array(bufferLength);\n        }\n\n        // 实时分析语调（基于频率）\n        function analyzeTone() {\n          if (!isRecording) return;\n          analyser.getByteFrequencyData(dataArray);\n\n          // 计算平均频率（简单模拟语调：频率越高，语调越高）\n          let sum = 0;\n          dataArray.forEach(value => sum += value);\n          const averageFreq = sum / dataArray.length;\n\n          // 更新语调状态\n          if (averageFreq > 80) {\n            toneStatus.textContent = '语调偏高（情绪较激动）';\n            toneStatus.style.color = '#e53935';\n          } else if (averageFreq > 40) {\n            toneStatus.textContent = '语调适中';\n            toneStatus.style.color = '#43a047';\n          } else {\n            toneStatus.textContent = '语调偏低（情绪较平稳）';\n            toneStatus.style.color = '#1e88e5';\n          }\n\n          animationId = requestAnimationFrame(analyzeTone);\n        }\n\n        // 开始录音\n        startBtn.addEventListener('click', async () => {\n          if (isRecording) return;\n          isRecording = true;\n          startBtn.style.display = 'none';\n          stopBtn.style.display = 'inline-block';\n          recordStartTime = Date.now();\n\n          // 启动语音识别\n          recognition = initRecognition();\n          if (!recognition) return;\n          recognition.start();\n          recognition.onresult = (event) => {\n            // 拼接识别结果\n            let transcript = '';\n            for (let i = 0; i < event.results.length; i++) {\n              transcript += event.results[i][0].transcript;\n            }\n            answerTextarea.value = transcript; // 填充到文本框\n          };\n\n          // 启动音频流和分析器\n          try {\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n            mediaRecorder = new MediaRecorder(stream);\n            mediaRecorder.start();\n            initAudioAnalyser(stream);\n            analyzeTone(); // 开始实时语调分析\n\n            // 实时更新录音时长\n            function updateRecordTime() {\n              if (!isRecording) return;\n              recordDuration = Math.floor((Date.now() - recordStartTime) / 1000);\n              recordTime.textContent = `${recordDuration}秒`;\n              requestAnimationFrame(updateRecordTime);\n            }\n            updateRecordTime();\n          } catch (err) {\n            console.error('录音权限获取失败：', err);\n            alert('请允许麦克风权限以使用语音输入功能');\n            stopRecording();\n          }\n        });\n\n        // 停止录音\n        function stopRecording() {\n          if (!isRecording) return;\n          isRecording = false;\n          startBtn.style.display = 'inline-block';\n          stopBtn.style.display = 'none';\n          cancelAnimationFrame(animationId);\n\n          // 停止语音识别\n          if (recognition) recognition.stop();\n          // 停止录音\n          if (mediaRecorder) mediaRecorder.stop();\n          // 关闭音频上下文\n          if (audioContext) audioContext.close();\n\n          // 计算语速（字数 / 录音时长）\n          const text = answerTextarea.value.trim();\n          const charCount = text.length; // 文本长度（字数）\n          if (recordDuration > 0) {\n            const speed = (charCount / recordDuration).toFixed(1); // 保留1位小数\n            speedStatus.textContent = `${speed}字/秒`;\n\n            // 语速提示（参考：正常中文语速约2-3字/秒）\n            if (speed < 1.5) {\n              speedStatus.style.color = '#e53935';\n              speedStatus.textContent += '（偏慢）';\n            } else if (speed > 3.5) {\n              speedStatus.style.color = '#e53935';\n              speedStatus.textContent += '（偏快）';\n            } else {\n              speedStatus.style.color = '#43a047';\n              speedStatus.textContent += '（正常）';\n            }\n          }\n        }\n\n        stopBtn.addEventListener('click', stopRecording);\n      }\n\n      // 上一题按钮事件\n      prevButton.addEventListener('click', () => {\n        if (currentIndex > 0) {\n          // 保存当前回答\n          saveCurrentAnswer();\n          currentIndex--;\n          renderCurrentQuestion();\n        }\n      });\n\n      // 下一题/提交按钮事件\n      nextButton.addEventListener('click', () => {\n        const currentAnswer = document.querySelector(`#${questions[currentIndex].id}Answer`).value.trim();\n\n        // 验证当前回答\n        if (!currentAnswer) {\n          alert(`请完成${questions[currentIndex].title}的回答`);\n          return;\n        }\n\n        // 保存当前回答\n        saveCurrentAnswer();\n\n        // 最后一题则提交所有\n        if (currentIndex === questions.length - 1) {\n          // 提交所有回答\n          questions.forEach(question => {\n            const answer = localStorage.getItem(`${question.id}Result`) || '';\n            this.addMessage('user', `【${question.title}回答】${answer}`, 'text');\n          });\n\n          alert('所有回答已提交成功！');\n          document.body.removeChild(modal);\n        } else {\n          // 进入下一题\n          currentIndex++;\n          renderCurrentQuestion();\n        }\n      });\n\n      // 保存当前题目的回答\n      function saveCurrentAnswer() {\n        const question = questions[currentIndex];\n        const answer = document.querySelector(`#${question.id}Answer`).value.trim();\n        if (answer) {\n          localStorage.setItem(`${question.id}Result`, answer);\n        }\n      }\n\n      \n      // 拖拽功能实现\n      let isDragging = false;\n      let startX, startY, initialLeft, initialTop;\n\n      modalHeader.addEventListener('mousedown', (e) => {\n        isDragging = true;\n        startX = e.clientX;\n        startY = e.clientY;\n        initialLeft = parseInt(draggableModal.style.left);\n        initialTop = parseInt(draggableModal.style.top);\n        \n        // 添加拖拽时的样式\n        draggableModal.style.transition = 'none';\n        modalHeader.style.background = '#e9ecef';\n        \n        document.addEventListener('mousemove', handleDrag);\n        document.addEventListener('mouseup', stopDrag);\n        \n        e.preventDefault();\n      });\n\n      function handleDrag(e) {\n        if (!isDragging) return;\n        \n        const deltaX = e.clientX - startX;\n        const deltaY = e.clientY - startY;\n        \n        // 计算新位置并限制在窗口内\n        let newLeft = initialLeft + deltaX;\n        let newTop = initialTop + deltaY;\n        \n        // 限制在窗口内\n        newLeft = Math.max(0, Math.min(newLeft, window.innerWidth - draggableModal.offsetWidth));\n        newTop = Math.max(0, Math.min(newTop, window.innerHeight - draggableModal.offsetHeight));\n        \n        draggableModal.style.left = `${newLeft}px`;\n        draggableModal.style.top = `${newTop}px`;\n      }\n\n      function stopDrag() {\n        isDragging = false;\n        modalHeader.style.background = '';\n        document.removeEventListener('mousemove', handleDrag);\n        document.removeEventListener('mouseup', stopDrag);\n      }\n\n      // 调整大小功能实现\n      let isResizing = false;\n      let startWidth, startHeight;\n\n      resizeHandle.addEventListener('mousedown', (e) => {\n        isResizing = true;\n        startX = e.clientX;\n        startY = e.clientY;\n        startWidth = draggableModal.offsetWidth;\n        startHeight = draggableModal.offsetHeight;\n        \n        // 移除过渡效果，使调整更流畅\n        draggableModal.style.transition = 'none';\n        \n        document.addEventListener('mousemove', handleResize);\n        document.addEventListener('mouseup', stopResize);\n        \n        e.preventDefault();\n      });\n\n      function handleResize(e) {\n        if (!isResizing) return;\n        \n        // 计算新尺寸\n        const minWidth = 500;\n        const minHeight = 400;\n        const newWidth = Math.max(minWidth, startWidth + (e.clientX - startX));\n        const newHeight = Math.max(minHeight, startHeight + (e.clientY - startY));\n        \n        // 限制最大尺寸不超过窗口\n        const maxWidth = window.innerWidth - 50;\n        const maxHeight = window.innerHeight - 50;\n        \n        draggableModal.style.width = `${Math.min(newWidth, maxWidth)}px`;\n        draggableModal.style.height = `${Math.min(newHeight, maxHeight)}px`;\n      }\n\n      function stopResize() {\n        isResizing = false;\n        document.removeEventListener('mousemove', handleResize);\n        document.removeEventListener('mouseup', stopResize);\n      }\n\n      // 初始化显示第一题\n      renderCurrentQuestion();\n    }, 40000);\n  } else {\n    this.showStatus(\"请先实例化SDK\", 'error');\n  }\n},\n    \n\n\n\n    // 返回主页面消息界面\n    backToHomeMessage() {\n      this.$router.push('/home/message');\n    },\n\n    // 发送文本消息\n    async sendMessage() {\n      let prompt = this.message.trim();\n      if (!prompt) return;\n\n      // 检测输入是否为特定指令\n      const isLogicAnalysis = prompt.toLowerCase().includes('分析语言逻辑');\n      const isGenerateReport = prompt.toLowerCase().includes('生成可视化评测报告');\n      let constructedPrompt = prompt;\n\n      // 处理\"分析语言逻辑\"指令\n      if (isLogicAnalysis) {\n        constructedPrompt = this.buildLogicAnalysisPrompt();\n      }\n      // 处理\"生成可视化评测报告\"指令\n      else if (isGenerateReport) {\n        constructedPrompt = this.buildEvaluationReportPrompt();\n      }\n\n      this.addMessage('user', prompt, 'text');\n      this.message = '';\n      this.scrollToBottom();\n\n      const typingId = this.addTypingIndicator();\n\n      try {\n        fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: constructedPrompt })\n        }).then(response => {\n          this.removeTypingIndicator(typingId);\n\n          if (!response.ok) {\n            throw new Error(`请求失败: ${response.status}`);\n          }\n\n          return response.json();\n        }).then(data => {\n          if (data.status === 'success') {\n            const taskId = data.task_id;\n            const pollInterval = 20000; // 20秒轮询一次\n            const maxAttempts = 150;\n            let attempts = 0;\n\n            const pollForFile = () => {\n              if (attempts >= maxAttempts) {\n                this.addMessage('ai', '请求超时，请稍后再试', 'text', true);\n                this.scrollToBottom();\n                return;\n              }\n\n              attempts++;\n\n              fetch(`${this.API_BASE_URL}/get_task_file_url`, {\n                method: 'POST',\n                headers: {\n                  ...this.commonHeaders,\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({ task_id: taskId })\n              })\n                .then(response => {\n                  return response.json().then(data => ({ data, response }));\n                })\n                .then(({ data, response }) => {\n                  console.log('文件查询响应:', data);\n\n                  // 成功获取到文件信息\n                  if (data.status === 'success') {\n                    // 优先使用Markdown文件（如果存在）\n                    const targetFile = data.markdown || data.txt;\n\n                    if (targetFile && targetFile.file_url) {\n                      fetch(targetFile.file_url, {\n                        method: 'GET',\n                        headers: this.commonHeaders\n                      })\n                        .then(fileResponse => {\n                          if (!fileResponse.ok) {\n                            throw new Error(`文件加载失败: ${fileResponse.status}`);\n                          }\n                          return fileResponse.text();\n                        })\n                        .then(fileContent => {\n                          if (fileContent.trim() === 'processing') {\n                            // 处理中，继续轮询\n                            this.addMessage('ai', `处理中...((${attempts}/${maxAttempts}))`, 'text');\n                            this.scrollToBottom();\n                            setTimeout(pollForFile, pollInterval);\n                          } else {\n                            // 处理完成，根据文件类型和指令类型选择渲染方式\n                            if (isGenerateReport) {\n                              // 评测报告额外处理雷达图数据\n                              this.addMessage('ai', `已生成可视化评测报告:`, 'text');\n                              this.processAndRenderReport(fileContent, data.markdown ? true : false);\n                            } else if (data.markdown) {\n                              // Markdown内容使用格式化渲染\n                              this.addMessage('ai', `已获取分析结果（Markdown格式）:`, 'text');\n                              this.addFormattedMessageWithSpaces(fileContent);\n                            } else {\n                              // TXT内容直接显示\n                              this.addMessage('ai', `已获取分析结果:`, 'text');\n                              this.addMessage('ai', fileContent, 'text');\n                            }\n                            this.scrollToBottom();\n                          }\n                        })\n                        .catch(() => {\n                          this.addMessage('ai', `文件加载中...((${attempts}/${maxAttempts}))`, 'text');\n                          this.scrollToBottom();\n                          setTimeout(pollForFile, pollInterval);\n                        });\n                    } else {\n                      // 未找到有效文件URL\n                      this.addMessage('ai', `未找到文件...((${attempts}/${maxAttempts}))`, 'text');\n                      this.scrollToBottom();\n                      setTimeout(pollForFile, pollInterval);\n                    }\n                  }\n                  // 未找到文件但可能在处理中\n                  else if (response.status === 404 ||\n                    (data.status === 'error' && data.message.includes('未找到'))) {\n                    this.addMessage('ai', `内容生成中...((${attempts}/${maxAttempts}))`, 'text');\n                    this.scrollToBottom();\n                    setTimeout(pollForFile, pollInterval);\n                  }\n                  // 其他错误\n                  else {\n                    this.addMessage('ai', `获取文件失败: ${data.message || '未知错误'}`, 'text', true);\n                    this.scrollToBottom();\n                  }\n                })\n                .catch(error => {\n                  console.error('轮询错误:', error);\n                  this.addMessage('ai', `连接中...((${attempts}/${maxAttempts}))`, 'text');\n                  this.scrollToBottom();\n                  setTimeout(pollForFile, pollInterval);\n                });\n            };\n\n            pollForFile();\n          } else {\n            this.addMessage('ai', `错误: ${data.result}`, 'text', true);\n          }\n          this.scrollToBottom();\n        }).catch(error => {\n          this.removeTypingIndicator(typingId);\n          this.addMessage('ai', `请求失败: ${error.message}`, 'text', true);\n          this.scrollToBottom();\n          console.error('发送消息失败:', error);\n        });\n      } catch (error) {\n        this.removeTypingIndicator(typingId);\n        this.addMessage('ai', `请求失败: ${error.message}`, 'text', true);\n        this.scrollToBottom();\n        console.error('发送消息失败:', error);\n      }\n    },\n\n    // 构建语言逻辑分析的prompt\n    buildLogicAnalysisPrompt() {\n      const questions = this.getInterviewQuestions();\n\n      let prompt = \"请以下面试问题及对应的回答，分析回答的语言逻辑和连贯性，并给出评分(0-100分)和简要分析：\\n\\n\";\n\n      questions.forEach((item, i) => {\n        if (item.answer) {\n          prompt += `第${i + 1}题：${item.question}\\n`;\n          prompt += `回答：${item.answer}\\n\\n`;\n        }\n      });\n\n      return prompt;\n    },\n\n    // 构建生成可视化评测报告的prompt（优化版）\n    buildEvaluationReportPrompt() {\n      const questions = this.getInterviewQuestions();\n      const dimensions = [\n        \"专业知识水平\",\n        \"技能匹配度\",\n        \"语言表达能力\",\n        \"逻辑思维能力\",\n        \"创新能力\"\n      ];\n\n      // 生成唯一标识符，用于精确界定雷达数据的位置\n      const radarDataMarker = `RADAR_DATA_${Date.now()}_START`;\n      const radarDataEndMarker = `RADAR_DATA_${Date.now()}_END`;\n\n      let prompt = \"请基于以下5个面试问题及对应回答，生成一份详细的可视化评测报告。\\n\\n\";\n      prompt += \"【格式要求非常严格，请严格遵守，否则将导致报告无法正常解析】\\n\";\n      prompt += \"报告必须包含以下几个部分，且按以下顺序排列：\\n\\n\";\n\n      // 1. 雷达图数据部分 - 格式严格限定\n      prompt += \"1. 能力雷达图数据：\\n\";\n      prompt += `   请在${radarDataMarker}和${radarDataEndMarker}标记之间，为以下5个维度分别评分(0-100分)，\\n`;\n      prompt += \"   每个维度单独一行，格式必须为【维度名称: 评分】，不允许有其他内容或格式变化\\n\";\n      prompt += `   维度名称：${dimensions.join('、')}\\n`;\n      prompt += `   示例格式：\\n`;\n      prompt += `   ${radarDataMarker}\\n`;\n      prompt += `   专业知识水平: 80\\n`;\n      prompt += `   技能匹配度: 70\\n`;\n      prompt += `   语言表达能力: 90\\n`;\n      prompt += `   逻辑思维能力: 60\\n`;\n      prompt += `   创新能力: 80\\n`;\n      prompt += `   ${radarDataEndMarker}\\n\\n`;\n\n      // 2. 关键问题定位\n      prompt += \"2. 关键问题定位：\\n\";\n      prompt += \"   请使用项目符号(-)列出回答中存在的主要问题，每条问题单独一行\\n\";\n      prompt += \"   例如：\\n\";\n      prompt += \"   - 回答缺乏STAR结构\\n\";\n      prompt += \"   - 对专业术语的解释不够清晰\\n\\n\";\n\n      // 3. 企业决策建议\n      prompt += \"3. 企业决策建议：\\n\";\n      prompt += \"   请明确给出是否推荐录用的建议，并提供3-5条具体理由，使用项目符号(-)列出\\n\\n\";\n\n      // 4. 求职者个性化改进建议\n      prompt += \"4. 求职者个性化改进建议：\\n\";\n      prompt += \"   针对每个维度的不足，提供具体可行的改进方法，每个维度单独成段，开头注明维度名称\\n\\n\";\n\n      // 5. Markdown格式要求\n      prompt += \"5. 整体使用Markdown格式输出，包含适当的标题层级：\\n\";\n      prompt += \"   - 主标题：# 人工智能技术岗面试可视化评测报告\\n\";\n      prompt += \"   - 各部分标题：## 1. 能力雷达图数据、## 2. 关键问题定位等\\n\\n\";\n\n      // 面试问题与回答\n      prompt += \"【面试问题及回答】\\n\";\n      questions.forEach((item, i) => {\n        if (item.answer) {\n          prompt += `第${i + 1}题（${dimensions[i]}）：${item.question}\\n`;\n          prompt += `回答：${item.answer}\\n\\n`;\n        }\n      });\n\n      // 存储标记以便后续解析\n      this.radarDataMarkers = {\n        start: radarDataMarker,\n        end: radarDataEndMarker\n      };\n\n      return prompt;\n    },\n\n    // 从localStorage获取面试问题和答案\n    getInterviewQuestions() {\n      return [\n        {\n          question: localStorage.getItem('firstQuestion') || '第一道题',\n          answer: localStorage.getItem('firstResult') || ''\n        },\n        {\n          question: localStorage.getItem('secondQuestion') || '第二道题',\n          answer: localStorage.getItem('secondResult') || ''\n        },\n        {\n          question: localStorage.getItem('thirdQuestion') || '第三道题',\n          answer: localStorage.getItem('thirdResult') || ''\n        },\n        {\n          question: localStorage.getItem('fourthQuestion') || '第四道题',\n          answer: localStorage.getItem('fourthResult') || ''\n        },\n        {\n          question: localStorage.getItem('fifthQuestion') || '第五道题',\n          answer: localStorage.getItem('fifthResult') || ''\n        }\n      ];\n    },\n\n    // 处理并渲染评测报告，包括雷达图\n    processAndRenderReport(content, isMarkdown) {\n      try {\n        // 使用预设的标记提取雷达图数据\n        const { start, end } = this.radarDataMarkers || {};\n        let radarDataSection = '';\n\n        if (start && end) {\n          const startIndex = content.indexOf(start);\n          const endIndex = content.indexOf(end);\n\n          if (startIndex !== -1 && endIndex !== -1 && endIndex > startIndex) {\n            // 提取标记之间的内容\n            radarDataSection = content.substring(\n              startIndex + start.length,\n              endIndex\n            ).trim();\n          } else {\n            console.warn('未找到完整的雷达图数据标记');\n          }\n        } else {\n          console.warn('未设置雷达图数据标记');\n        }\n\n        // 提取雷达图数据\n        const dimensions = [\n          \"专业知识水平\",\n          \"技能匹配度\",\n          \"语言表达能力\",\n          \"逻辑思维能力\",\n          \"创新能力\"\n        ];\n\n        const radarData = {};\n\n        // 按行解析\n        if (radarDataSection) {\n          const lines = radarDataSection.split('\\n');\n          lines.forEach(line => {\n            // 使用严格的正则匹配格式\n            const match = line.match(/^\\s*([^:]+?)\\s*:\\s*(\\d+)\\s*$/);\n            if (match && match[1] && match[2]) {\n              const dimension = match[1].trim();\n              const score = parseInt(match[2], 10);\n\n              // 只处理我们需要的维度，评分范围改为0-100\n              if (dimensions.includes(dimension) && score >= 0 && score <= 100) {\n                radarData[dimension] = score;\n              }\n            }\n          });\n        }\n\n        // 检查是否有缺失的维度\n        dimensions.forEach(dimension => {\n          if (radarData[dimension] === undefined) {\n            console.warn(`维度\"${dimension}\"的分数未找到或格式不正确`);\n            radarData[dimension] = 0; // 默认为0分\n          }\n        });\n\n        // 生成雷达图容器，调整雷达图大小为400px高度\n        const radarContainerId = `radar-chart-${Date.now()}`;\n        let radarChartHtml = `<div class=\"radar-chart-container\">\n      <h3>能力雷达图</h3>\n      <!-- 调整雷达图大小 -->\n      <canvas id=\"${radarContainerId}\" style=\"width: 100%; height: 400px; max-width: 600px; margin: 0 auto;\"></canvas>\n    </div>`;\n\n        // 处理报告内容\n        let processedContent;\n        if (isMarkdown) {\n          processedContent = this.processMarkdownContent(content);\n          processedContent = radarChartHtml + processedContent;\n        } else {\n          processedContent = `<div class=\"report-content\">\n        ${radarChartHtml}\n        <div class=\"text-content\">${content.replace(/\\n/g, '<br>')}</div>\n      </div>`;\n        }\n\n        // 添加到消息列表\n        this.messages.push({\n          sender: 'ai',\n          type: 'formatted',\n          content: processedContent\n        });\n\n        // 确保DOM已更新后再渲染图表\n        this.$nextTick(() => {\n          // 检查Chart.js是否已加载\n          if (typeof Chart === 'undefined') {\n            // 动态加载Chart.js\n            const script = document.createElement('script');\n            script.src = 'https://cdn.jsdelivr.net/npm/chart.js';\n            script.onload = () => this.renderRadarChart(radarContainerId, radarData);\n            script.onerror = () => {\n              document.getElementById(radarContainerId).innerHTML =\n                '<p class=\"error-message\">无法加载图表库，请检查网络连接</p>';\n            };\n            document.head.appendChild(script);\n          } else {\n            this.renderRadarChart(radarContainerId, radarData);\n          }\n        });\n\n      } catch (error) {\n        console.error('处理评测报告失败:', error);\n        this.addMessage('ai', '评测报告处理失败，显示原始内容:', 'text', true);\n        this.addMessage('ai', content, 'text');\n      }\n    },\n\n    // 渲染雷达图\n    renderRadarChart(containerId, data) {\n      // 确保Chart.js已加载\n      if (typeof Chart === 'undefined') {\n        console.error('Chart.js未加载，无法渲染雷达图');\n        return;\n      }\n\n      // 增加重试机制\n      const maxRetries = 5;\n      let retries = 0;\n\n      const tryRender = () => {\n        const container = document.getElementById(containerId);\n\n        // 检查容器是否存在\n        if (!container) {\n          if (retries < maxRetries) {\n            retries++;\n            console.log(`重试获取图表容器 (${retries}/${maxRetries})`);\n            setTimeout(tryRender, 100); // 100ms后重试\n            return;\n          } else {\n            console.error(`无法找到ID为\"${containerId}\"的图表容器`);\n            return;\n          }\n        }\n\n        // 确保容器是canvas元素或包含canvas\n        let canvas;\n        if (container.tagName === 'CANVAS') {\n          canvas = container;\n        } else {\n          // 检查容器内是否已有canvas\n          canvas = container.querySelector('canvas');\n          if (!canvas) {\n            // 创建新的canvas元素\n            canvas = document.createElement('canvas');\n            container.innerHTML = ''; // 清空容器\n            container.appendChild(canvas);\n          }\n        }\n\n        // 准备雷达图数据\n        const labels = [\n          \"专业知识水平\",\n          \"技能匹配度\",\n          \"语言表达能力\",\n          \"逻辑思维能力\",\n          \"创新能力\"\n        ];\n\n        const values = labels.map(label => data[label] || 0);\n\n        // 销毁已存在的图表实例\n        if (container.chartInstance) {\n          container.chartInstance.destroy();\n        }\n\n        // 创建雷达图，将评分范围调整为0-100\n        container.chartInstance = new Chart(canvas.getContext('2d'), {\n          type: 'radar',\n          data: {\n            labels: labels,\n            datasets: [{\n              label: '能力评分',\n              data: values,\n              backgroundColor: 'rgba(54, 162, 235, 0.2)',\n              borderColor: 'rgba(54, 162, 235, 1)',\n              pointBackgroundColor: 'rgba(54, 162, 235, 1)',\n              pointBorderColor: '#fff',\n              pointHoverBackgroundColor: '#fff',\n              pointHoverBorderColor: 'rgba(54, 162, 235, 1)'\n            }]\n          },\n          options: {\n            scales: {\n              r: {\n                angleLines: {\n                  display: true\n                },\n                suggestedMin: 0,\n                suggestedMax: 100, // 评分范围改为0-100\n                ticks: {\n                  stepSize: 20, // 刻度间隔设为20，使0-100显示更合理\n                  callback: function (value) {\n                    return value + '%'; // 显示百分比符号\n                  }\n                }\n              }\n            },\n            plugins: {\n              legend: {\n                position: 'top',\n              },\n              tooltip: {\n                callbacks: {\n                  label: function (context) {\n                    return `${context.label}: ${context.raw}分`;\n                  }\n                }\n              }\n            }\n          }\n        });\n      };\n\n      // 开始尝试渲染\n      tryRender();\n    },\n\n    // 增强的格式化消息方法，支持Markdown渲染\n    addFormattedMessageWithSpaces(content) {\n      try {\n        if (!content || content.trim() === '') {\n          this.addMessage('ai', '没有返回内容', 'text');\n          return;\n        }\n\n        const processedContent = this.processMarkdownContent(content);\n\n        // 添加到消息列表\n        this.messages.push({\n          sender: 'ai',\n          type: 'formatted',\n          content: processedContent\n        });\n\n      } catch (error) {\n        console.error('格式化Markdown失败:', error);\n        this.addMessage('ai', '内容格式化失败，显示原始内容:', 'text', true);\n        this.addMessage('ai', content, 'text');\n      }\n    },\n    // 处理Markdown内容为HTML，确保透明样式生效\n    processMarkdownContent(content) {\n      // 标准化换行符\n      let processed = content.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n\n      // 处理思考内容标签，使用正确的正则表达式和样式\n      processed = processed.replace(\n        /<|FunctionCallBegin|>([\\s\\S]*?)<|FunctionCallEnd|>/g,  // 正确匹配</think>和<|FunctionCallEnd|>标签\n        // 使用明确的透明度样式，确保优先级\n        '<div style=\"color: rgba(107, 114, 128, 0.7); font-style: italic; background-color: rgba(243, 244, 246, 0.3); padding: 12px; border-radius: 0.5rem; border: 1px solid rgba(229, 231, 235, 0.5); margin: 1rem 0; display: block;\">思考过程: $1</div>'\n      );\n\n      // Markdown格式处理\n      processed = processed\n        // 处理标题\n        .replace(/^# (.*?)$/gm, '<h1 class=\"text-2xl font-bold my-4\">$1</h1>')\n        .replace(/^## (.*?)$/gm, '<h2 class=\"text-xl font-bold my-3\">$1</h2>')\n        .replace(/^### (.*?)$/gm, '<h3 class=\"text-lg font-bold my-2\">$1</h3>')\n        // 先处理有序列表\n        .replace(/^\\d+\\. (.*?)$/gm, '<li class=\"list-decimal\">$1</li>')\n        .replace(/(<li class=\"list-decimal\">.*?<\\/li>)+/gs, '<ol class=\"list-decimal pl-6 my-2\">$&</ol>')\n        // 再处理无序列表\n        .replace(/^- (.*?)$/gm, '<li class=\"list-disc\">$1</li>')\n        .replace(/(<li class=\"list-disc\">.*?<\\/li>)+/gs, '<ul class=\"list-disc pl-6 my-2\">$&</ul>')\n        // 处理加粗和斜体\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n        .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n        // 处理链接\n        .replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\" target=\"_blank\" class=\"text-blue-600 underline\">$1</a>')\n        // 处理换行\n        .replace(/(?![^<]*<\\/li>)\\n/g, '<br>');\n\n      // 构建HTML内容，添加容器样式以确保内部样式生效\n      return `<div class=\"formatted-content markdown-content\" style=\"font-family: sans-serif;\">${processed}</div>`;\n    },\n\n\n\n\n\n\n\n    // 停止录音\n    stopRecording() {\n      if (this.isRecording && this.mediaRecorder) {\n        this.mediaRecorder.stop();\n        this.isRecording = false;\n\n        if (this.recordingTimer) {\n          clearInterval(this.recordingTimer);\n          this.recordingTimer = null;\n        }\n\n        if (this.mediaStream) {\n          this.mediaStream.getTracks().forEach(track => track.stop());\n          this.mediaStream = null;\n        }\n\n        this.showStatus('录音已完成', 'success');\n      }\n    },\n\n    // 添加语音消息到列表\n    addVoiceMessage() {\n      if (!this.audioBlob) return;\n\n      const audioUrl = URL.createObjectURL(this.audioBlob);\n      const duration = this.recordingSeconds;\n\n      const audio = new Audio(audioUrl);\n\n      this.messages.push({\n        sender: 'user',\n        type: 'voice',\n        blob: this.audioBlob,\n        url: audioUrl,\n        duration: duration,\n        isPlaying: false,\n        textResult: null,\n        toneResult: null,\n        speechSpeed: null,\n        logicResult: null\n      });\n\n      this.audioElements[this.messages.length - 1] = audio;\n\n      this.scrollToBottom();\n    },\n\n    // 播放或暂停语音\n    toggleVoicePlayback(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'voice') return;\n\n      const audio = this.audioElements[index];\n      if (!audio) return;\n\n      if (msg.isPlaying) {\n        audio.pause();\n        msg.isPlaying = false;\n      } else {\n        this.messages.forEach((m, i) => {\n          if (m.isPlaying && i !== index) {\n            m.isPlaying = false;\n            const otherAudio = this.audioElements[i];\n            if (otherAudio) otherAudio.pause();\n          }\n        });\n\n        audio.play()\n          .then(() => {\n            msg.isPlaying = true;\n            audio.onended = () => {\n              msg.isPlaying = false;\n            };\n          })\n          .catch(error => {\n            console.error('播放失败:', error);\n            this.showStatus('播放失败，请重试', 'error');\n          });\n      }\n    },\n\n    // 语音转文字\n    //找到convertVoiceToText方法，修改如下：\n    async convertVoiceToText(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'voice' || !msg.blob) return;\n\n      this.showStatus('正在转换语音为文字...', 'info');\n\n      try {\n        const formData = new FormData();\n        formData.append('audio', msg.blob, 'recording.wav');\n\n        const response = await fetch(`${this.API_BASE_URL}/recognize_speech`, {\n          method: 'POST',\n          headers: this.commonHeaders,\n          body: formData\n        });\n\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error('语音转文字API错误:', errorText);\n          throw new Error(`服务器错误: ${response.status} - ${errorText.substring(0, 100)}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n          // 1. 确保更新消息对象\n          this.messages.splice(index, 1, {\n            ...this.messages[index],\n            textResult: data.text || '未能识别语音内容'\n          });\n\n          // 2. 转写计数循环使用1-5\n          this.transcribeCount = (this.transcribeCount % 5) + 1;\n\n          // 3. 根据次数存储结果，使用Vue的响应式更新\n          if (this.transcribeCount === 1) {\n            this.firstResult = data.text || '';\n            localStorage.setItem(\"firstResult\", this.firstResult);\n            console.log('第一次转写成功，' + this.firstResult);\n          } else if (this.transcribeCount === 2) {\n            this.secondResult = data.text || '';\n            localStorage.setItem(\"secondResult\", this.secondResult);\n            console.log('第二次转写成功，' + this.secondResult);\n          } else if (this.transcribeCount === 3) {\n            this.thirdResult = data.text || '';\n            localStorage.setItem(\"thirdResult\", this.thirdResult);\n            console.log('第三次转写成功，' + this.thirdResult);\n          } else if (this.transcribeCount === 4) {\n            this.fourthResult = data.text || '';\n            localStorage.setItem(\"fourthResult\", this.fourthResult);\n            console.log('第四次转写成功，' + this.fourthResult);\n          } else if (this.transcribeCount === 5) {\n            this.fifthResult = data.text || '';\n            localStorage.setItem(\"fifthResult\", this.fifthResult);\n            console.log('第五次转写成功，' + this.fifthResult);\n          }\n\n          // 4. 保存语言内容到localStorage\n          localStorage.setItem('interview_response_content', data.text || '');\n\n          this.showStatus('语音转文字成功', 'success');\n        } else {\n          throw new Error(data.message || '语音转文字失败');\n        }\n      } catch (error) {\n        console.error('语音转文字失败:', error);\n        this.showStatus(`转文字失败: ${error.message}`, 'error');\n      }\n    },\n\n\n    // 分析语调\n    async analyzeVoiceTone(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'voice' || !msg.blob) return;\n\n      this.showStatus('正在分析语调...', 'info');\n\n      try {\n        const formData = new FormData();\n        formData.append('audio', msg.blob, 'recording.wav');\n\n        const response = await fetch(`${this.API_BASE_URL}/extract_tone`, {\n          method: 'POST',\n          headers: this.commonHeaders,\n          body: formData\n        });\n\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error('语调分析API错误:', errorText);\n          throw new Error(`服务器错误: ${response.status} - ${errorText.substring(0, 100)}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n          // 使用扩展运算符创建新对象，触发响应式更新\n          this.messages[index] = {\n            ...this.messages[index],\n            toneResult: data.data\n          };\n\n          // 保存情感语调分析到localStorage（追加方式）\n          const existingTone = localStorage.getItem('interview_emotional_tone') || '';\n          const toneAnalysis = `语调类型: ${data.data.tone_type}, 基频均值: ${data.data.f0_mean}Hz, 基频范围: ${data.data.f0_min}-${data.data.f0_max}Hz`;\n          const newToneAnalysis = existingTone ? `${existingTone}\\n${toneAnalysis}` : toneAnalysis;\n          localStorage.setItem('interview_emotional_tone', newToneAnalysis);\n\n          this.showStatus('语调分析成功', 'success');\n        } else {\n          throw new Error(data.message || '语调分析失败');\n        }\n      } catch (error) {\n        console.error('语调分析失败:', error);\n        this.showStatus(`语调分析失败: ${error.message}`, 'error');\n      }\n    },\n\n    // 计算语速\n    calculateSpeechSpeed(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'voice' || !msg.textResult) return;\n\n      // 计算字数（去除空白字符）\n      const text = msg.textResult.trim();\n      const charCount = text.length;\n\n      // 音频时长（秒）\n      const duration = Math.max(msg.duration, 0.1); // 避免除以0\n\n      // 计算语速（字/秒）\n      const speed = (charCount / duration).toFixed(1);\n      const speedPerMinute = Math.round(speed * 60);\n\n      // 使用扩展运算符创建新对象，触发响应式更新\n      this.messages[index] = {\n        ...this.messages[index],\n        speechSpeed: speed\n      };\n\n      // 保存语速分析到localStorage（追加方式）\n      const existingSpeed = localStorage.getItem('interview_speech_rate') || '';\n      const speedAnalysis = `${speed} 字/秒 (约 ${speedPerMinute} 字/分钟)。${this.evaluateSpeechSpeed(speedPerMinute)}`;\n      const newSpeedAnalysis = existingSpeed ? `${existingSpeed}\\n${speedAnalysis}` : speedAnalysis;\n      localStorage.setItem('interview_speech_rate', newSpeedAnalysis);\n\n      this.showStatus('语速计算完成', 'success');\n    },\n\n    // 评估语速是否合理\n    evaluateSpeechSpeed(speedPerMinute) {\n      if (speedPerMinute < 120) {\n        return \"语速偏慢，可能影响表达效率\";\n      } else if (speedPerMinute > 180) {\n        return \"语速偏快，可能影响理解\";\n      } else {\n        return \"语速适中，表达节奏良好\";\n      }\n    },\n\n    // 分析语言逻辑\n    async analyzeLanguageLogic(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'voice' || !msg.textResult) return;\n\n      this.showStatus('正在分析语言逻辑...', 'info');\n\n      try {\n        // 从localStorage获取问题和对应的回答\n        const questions = [\n          {\n            question: localStorage.getItem('firstQuestion') || '第一道题',\n            answer: localStorage.getItem('firstResult') || ''\n          },\n          {\n            question: localStorage.getItem('secondQuestion') || '第二道题',\n            answer: localStorage.getItem('secondResult') || ''\n          },\n          {\n            question: localStorage.getItem('thirdQuestion') || '第三道题',\n            answer: localStorage.getItem('thirdResult') || ''\n          },\n          {\n            question: localStorage.getItem('fourthQuestion') || '第四道题',\n            answer: localStorage.getItem('fourthResult') || ''\n          },\n          {\n            question: localStorage.getItem('fifthQuestion') || '第五道题',\n            answer: localStorage.getItem('fifthResult') || ''\n          }\n        ];\n\n        // 构建包含问题和对应回答的prompt\n        let prompt = \"请以下面试问题及对应的回答，分析回答的语言逻辑和连贯性，并给出评分(1-10分)和简要分析：\\n\\n\";\n\n        questions.forEach((item, i) => {\n          if (item.answer) { // 只包含有回答的问题\n            prompt += `第${i + 1}题：${item.question}\\n`;\n            prompt += `回答：${item.answer}\\n\\n`;\n          }\n        });\n\n        // 添加当前消息的文本结果（如果需要包含）\n        prompt += `当前分析文本：${msg.textResult}\"`;\n\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) {\n          throw new Error(`请求失败: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n          // 提取评分（如果有的话）\n          let score = null;\n          const scoreMatch = data.result.match(/(\\d+(\\.\\d+)?)\\s*\\/\\s*10/);\n          if (scoreMatch && scoreMatch[1]) {\n            score = parseFloat(scoreMatch[1]);\n          }\n\n          // 使用扩展运算符创建新对象，触发响应式更新\n          this.messages[index] = {\n            ...this.messages[index],\n            logicResult: {\n              analysis: data.result,\n              score: score\n            }\n          };\n\n          // 保存语言逻辑分析到localStorage（追加方式）\n          const existingLogic = localStorage.getItem('interview_language_logic') || '';\n          const newLogicAnalysis = existingLogic ? `${existingLogic}\\n${data.result}` : data.result;\n          localStorage.setItem('interview_language_logic', newLogicAnalysis);\n\n          this.showStatus('语言逻辑分析完成', 'success');\n        } else {\n          throw new Error(data.result || '语言逻辑分析失败');\n        }\n      } catch (error) {\n        console.error('语言逻辑分析失败:', error);\n        this.showStatus(`语言逻辑分析失败: ${error.message}`, 'error');\n      }\n    },\n\n    // 保存分析结果到localStorage（追加方式）\n    saveAnalysisToStorage(msg) {\n      if (!msg || msg.type !== 'expression') return;\n\n      // 保存表情分析（追加方式）\n      if (msg.expressionResults && msg.expressionResults.length) {\n        let expressionsText = msg.expressionResults.map(exp =>\n          `${exp.emotion} (${(exp.confidence * 100).toFixed(1)}%)`\n        ).join('、');\n\n        const existingExpressions = localStorage.getItem('interview_expression') || '';\n        const newExpressions = existingExpressions ? `${existingExpressions}\\n检测到的表情: ${expressionsText}` : `检测到的表情: ${expressionsText}`;\n        localStorage.setItem('interview_expression', newExpressions);\n      }\n\n      // 保存姿态分析（追加方式）\n      if (msg.poseResult) {\n        const poseText = `动作: ${msg.poseResult.pose}, 置信度: ${(msg.poseResult.score * 100).toFixed(1)}%`;\n        const existingPose = localStorage.getItem('interview_gesture') || '';\n        const newPose = existingPose ? `${existingPose}\\n${poseText}` : poseText;\n        localStorage.setItem('interview_gesture', newPose);\n      }\n\n      // 保存综合分析（追加方式）\n      if (msg.comprehensiveAnalysis) {\n        const existingAnalysis = localStorage.getItem('interview_expression_gesture_summary') || '';\n        const newAnalysis = existingAnalysis ? `${existingAnalysis}\\n${msg.comprehensiveAnalysis}` : msg.comprehensiveAnalysis;\n        localStorage.setItem('interview_expression_gesture_summary', newAnalysis);\n      }\n\n      this.showStatus('分析结果已保存', 'success');\n    },\n\n    // 添加消息到界面\n    addMessage(sender, content, type = 'text', isError = false) {\n      this.messages.push({\n        sender: sender,\n        content: content,\n        type: type,\n        isError: isError\n      });\n      this.scrollToBottom();\n    },\n\n    // 添加表情和姿态分析消息\n    addExpressionMessage(imageUrl, expressionResults, poseResult) {\n      this.messages.push({\n        sender: 'ai',\n        type: 'expression',\n        imageUrl: imageUrl,\n        expressionResults: expressionResults,\n        poseResult: poseResult,\n        comprehensiveAnalysis: null\n      });\n      this.scrollToBottom();\n    },\n\n    // 添加\"正在输入\"指示器\n    addTypingIndicator() {\n      const typingId = `typing-${Date.now()}`;\n      this.typingId = typingId;\n      this.isTyping = true;\n      return typingId;\n    },\n\n    // 移除\"正在输入\"状态\n    removeTypingIndicator(id) {\n      if (this.typingId === id) {\n        this.isTyping = false;\n        this.typingId = \"\";\n      }\n    },\n\n    // 滚动到最新消息\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const container = this.$refs.messagesContainer;\n        if (container) {\n          container.scrollTop = container.scrollHeight;\n        }\n      });\n    },\n\n    // 测试连接状态\n    async testConnection() {\n      try {\n        await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'OPTIONS',\n          headers: this.commonHeaders\n        });\n\n        this.statusText = ``;\n        this.statusClass = 'text-xs text-green-600 mt-2 text-center';\n      } catch (error) {\n        this.statusText = `连接失败: ${error.message}`;\n        this.statusClass = 'text-xs text-red-600 mt-2 text-center';\n      }\n    },\n\n    // 初始化聊天容器高度\n    initContainerHeight() {\n      const navBarHeight = 46;\n      const bottomBarHeight = document.getElementById('dialog_bottombar_inside')?.offsetHeight || 0;\n      const container = document.getElementById('dialog_content');\n      if (container) {\n        container.style.paddingTop = navBarHeight + 10 + 'px';\n        container.style.paddingBottom = bottomBarHeight + 10 + 'px';\n        container.style.height = `calc(100vh - ${navBarHeight + bottomBarHeight + 20}px)`;\n      }\n    },\n\n    // 格式化时长显示\n    formatDuration(seconds) {\n      if (seconds < 60) {\n        return `${seconds}s`;\n      } else {\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return `${mins}:${secs < 10 ? '0' + secs : secs}`;\n      }\n    },\n\n    // 显示状态消息\n    showStatus(text, type = 'info') {\n      this.statusText = text;\n      switch (type) {\n        case 'success':\n          this.statusClass = 'text-xs text-green-600 mt-2 text-center';\n          break;\n        case 'error':\n          this.statusClass = 'text-xs text-red-600 mt-2 text-center';\n          break;\n        case 'warning':\n          this.statusClass = 'text-xs text-yellow-600 mt-2 text-center';\n          break;\n        default:\n          this.statusClass = 'text-xs text-blue-600 mt-2 text-center';\n      }\n\n      if (type !== 'error') {\n        setTimeout(() => {\n          this.statusText = '';\n        }, 3000);\n      }\n    },\n\n    // 音频格式转换相关方法\n    async convertToValidWav(blob) {\n      if (await this.isValidWavFile(blob)) {\n        return blob;\n      }\n\n      try {\n        const arrayBuffer = await new Response(blob).arrayBuffer();\n        const audioContext = new (window.AudioContext || window.webkitAudioContext)({\n          sampleRate: 16000\n        });\n\n        const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n        const wavBuffer = this.convertToWav(audioBuffer);\n\n        return new Blob([wavBuffer], { type: 'audio/wav' });\n      } catch (error) {\n        console.error('音频格式转换失败:', error);\n        this.showStatus('音频格式转换失败，可能影响识别效果', 'warning');\n        return blob;\n      }\n    },\n\n    async isValidWavFile(blob) {\n      return new Promise((resolve) => {\n        const reader = new FileReader();\n        reader.onloadend = (e) => {\n          if (e.target.readyState === FileReader.DONE) {\n            const arrayBuffer = e.target.result;\n            const uint8Array = new Uint8Array(arrayBuffer);\n\n            if (uint8Array.length >= 4) {\n              const riff = String.fromCharCode(uint8Array[0], uint8Array[1], uint8Array[2], uint8Array[3]);\n              resolve(riff === 'RIFF');\n            } else {\n              resolve(false);\n            }\n          }\n        };\n        reader.readAsArrayBuffer(blob.slice(0, 4));\n      });\n    },\n\n    convertToWav(audioBuffer) {\n      const numberOfChannels = audioBuffer.numberOfChannels;\n      const sampleRate = audioBuffer.sampleRate;\n      const format = 1;\n      const bitDepth = 16;\n\n      let data = new Float32Array(audioBuffer.length);\n      for (let i = 0; i < audioBuffer.length; i++) {\n        let sum = 0;\n        for (let c = 0; c < numberOfChannels; c++) {\n          sum += audioBuffer.getChannelData(c)[i];\n        }\n        data[i] = sum / numberOfChannels;\n      }\n\n      const buffer = new ArrayBuffer(44 + data.length * 2);\n      const view = new DataView(buffer);\n\n      this.writeString(view, 0, 'RIFF');\n      view.setUint32(4, 36 + data.length * 2, true);\n      this.writeString(view, 8, 'WAVE');\n      this.writeString(view, 12, 'fmt ');\n      view.setUint32(16, 16, true);\n      view.setUint16(20, format, true);\n      view.setUint16(22, 1, true);\n      view.setUint32(24, sampleRate, true);\n      view.setUint32(28, sampleRate * 2, true);\n      view.setUint16(32, 2, true);\n      view.setUint16(34, bitDepth, true);\n      this.writeString(view, 36, 'data');\n      view.setUint32(40, data.length * 2, true);\n\n      let index = 44;\n      const volume = 1;\n      for (let i = 0; i < data.length; i++) {\n        const sample = Math.max(-1, Math.min(1, data[i] * volume));\n        view.setInt16(index, sample < 0 ? sample * 0x8000 : sample * 0x7FFF, true);\n        index += 2;\n      }\n\n      return buffer;\n    },\n\n    writeString(view, offset, string) {\n      for (let i = 0; i < string.length; i++) {\n        view.setUint8(offset + i, string.charCodeAt(i));\n      }\n    },\n\n    // 相机相关方法\n    async toggleCamera() {\n      if (this.isCameraActive) {\n        this.stopCamera();\n        this.isCameraModalVisible = false;\n      } else {\n        this.isCameraModalVisible = true;\n        await this.startCamera();\n      }\n    },\n\n    async startCamera() {\n      this.isLoadingCamera = true;\n      this.cameraError = null;\n\n      try {\n        if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n          throw new Error('您的浏览器不支持相机功能，请使用最新浏览器');\n        }\n\n        if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\n          throw new Error('相机功能需要在HTTPS环境下运行');\n        }\n\n        // 相机配置\n        this.videoStream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            width: { ideal: 1280 },\n            height: { ideal: 720 }\n          }\n        });\n\n        const videoElement = this.$refs.videoElement;\n        if (videoElement) {\n          videoElement.srcObject = this.videoStream;\n          this.isCameraActive = true;\n          this.showStatus('相机已启动，可进行表情和姿态识别', 'success');\n        }\n      } catch (error) {\n        console.error('相机启动失败:', error);\n        this.cameraError = error.message;\n\n        // 错误处理\n        if (error.name === 'NotAllowedError') {\n          this.cameraError = '相机权限被拒绝，请在浏览器设置中允许相机访问';\n        } else if (error.name === 'NotFoundError') {\n          this.cameraError = '未找到相机设备';\n        } else if (error.name === 'NotReadableError') {\n          this.cameraError = '相机被占用或不可用';\n        } else if (error.name === 'NotSupportedError') {\n          this.cameraError = '您的浏览器不支持相机功能';\n        }\n\n        this.showStatus(`相机错误: ${this.cameraError}`, 'error');\n      } finally {\n        this.isLoadingCamera = false;\n      }\n    },\n\n    stopCamera() {\n      if (this.videoStream) {\n        this.videoStream.getTracks().forEach(track => track.stop());\n        this.videoStream = null;\n      }\n\n      const videoElement = this.$refs.videoElement;\n      if (videoElement) {\n        videoElement.srcObject = null;\n      }\n\n      this.isCameraActive = false;\n      this.isAnalyzingContinuously = false;\n\n      if (this.continuousAnalysisTimer) {\n        clearInterval(this.continuousAnalysisTimer);\n        this.continuousAnalysisTimer = null;\n      }\n\n      if (this.detectionInterval) {\n        clearInterval(this.detectionInterval);\n        this.detectionInterval = null;\n      }\n\n      this.showStatus('相机已关闭', 'info');\n    },\n\n    // 拍照并分析表情和姿态（仅使用/api/chat接口）\n    async captureImage() {\n      if (!this.isCameraActive || this.isProcessingImage) return;\n\n      this.isProcessingImage = true;\n      this.showStatus('正在分析表情和姿态...', 'info');\n\n      try {\n        const videoElement = this.$refs.videoElement;\n        if (!videoElement) throw new Error('未找到视频元素');\n\n        // 1. 捕获视频帧为base64\n        const canvas = document.createElement('canvas');\n        canvas.width = videoElement.videoWidth;\n        canvas.height = videoElement.videoHeight;\n        const ctx = canvas.getContext('2d');\n        ctx.drawImage(videoElement, 0, 0, canvas.width, canvas.height);\n        const base64Image = canvas.toDataURL('image/jpeg');\n\n        // 2. 仅调用/api/chat接口（符合需求）\n        const analysisResult = await this.analyzePose(base64Image);\n        // 注意：这里复用了analyzePose方法，实际应确保它内部只调用/api/chat\n\n        // 3. 正确转换base64为图片URL（无需fetch）\n        const blob = await (await fetch(base64Image)).blob(); // 修正：先处理base64为blob\n        const imageUrl = URL.createObjectURL(blob);\n\n        // 4. 添加到消息列表（仅传入一个综合结果）\n        this.addExpressionMessage(imageUrl, analysisResult);\n\n        this.showStatus('表情和姿态分析完成', 'success');\n      } catch (error) {\n        console.error('图像分析失败:', error);\n        this.showStatus(`分析失败: ${error.message}`, 'error');\n      } finally {\n        this.isProcessingImage = false;\n      }\n    },\n\n    // 开始/停止连续分析\n    startContinuousAnalysis() {\n      if (this.isAnalyzingContinuously) {\n        // 停止连续分析\n        clearInterval(this.continuousAnalysisTimer);\n        this.continuousAnalysisTimer = null;\n        this.isAnalyzingContinuously = false;\n        this.showStatus('已停止连续分析', 'info');\n      } else {\n        // 开始连续分析，每2秒一次\n        this.showStatus('开始连续分析...', 'info');\n        this.isAnalyzingContinuously = true;\n\n        // 立即执行一次\n        this.captureImage();\n\n        // 设置定时器\n        this.continuousAnalysisTimer = setInterval(() => {\n          if (this.isAnalyzingContinuously) {\n            this.captureImage();\n          }\n        }, 2000);\n      }\n    },\n\n    // 分析表情\n    async analyzeExpression(base64Image) {\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/predict/image`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ base64: base64Image })\n        });\n\n        if (!response.ok) {\n          const errorText = await response.text();\n          throw new Error(`表情分析失败: ${response.status} - ${errorText.substring(0, 100)}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success' && data.predictions) {\n          return data.predictions;\n        } else {\n          throw new Error(data.error || '未获取到表情分析结果');\n        }\n      } catch (error) {\n        console.error('表情分析出错:', error);\n        throw error;\n      }\n    },\n\n    // 分析姿态并处理轮询\n    async analyzePose(base64Image) {\n      try {\n        // 1. 发送图片获取任务ID\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            prompt: '请分析这张图片中人物的姿态动作和表情，用简洁的语言描述',\n            image_base64: base64Image\n          })\n        });\n\n        if (!response.ok) {\n          const errorText = await response.text();\n          throw new Error(`姿态分析请求失败: ${response.status} - ${errorText.substring(0, 100)}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success' && data.task_id) {\n          // 2. 获得task_id后开始轮询\n          return this.startPolling(data.task_id);\n        } else {\n          throw new Error(data.error || '未获取到任务ID');\n        }\n      } catch (error) {\n        console.error('姿态分析出错:', error);\n        throw error;\n      }\n    },\n\n    // 轮询函数 - 修复后版本\n    async startPolling(taskId, interval = 1000) {\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/api/chat/result/${taskId}`, {\n          method: 'GET',\n          headers: this.commonHeaders\n        });\n\n        if (!response.ok) {\n          throw new Error(`轮询失败: ${response.status}`);\n        }\n\n        const result = await response.json();\n\n        if (result.status === 'processing') {\n          console.log(`任务 ${taskId} 处理中，继续等待...`);\n          // 使用箭头函数确保 this 指向组件实例\n          return new Promise(resolve => {\n            setTimeout(() => {\n              resolve(this.startPolling(taskId, interval));\n            }, interval);\n          });\n        } else if (result.status === 'success') {\n          console.log(`任务 ${taskId} 处理完成`);\n          // 此时 this.msg 已初始化，可安全赋值\n          this.msg.expressionResults = [result.result]; // 存入数组，适配v-for\n          console.log('轮询结果:', this.msg.expressionResults);\n\n          return {\n            status: 'completed',\n            taskId,\n            result: result.result,\n            timestamp: new Date()\n          };\n        } else {\n          throw new Error(`任务处理失败: ${result.result || '未知错误'}`);\n        }\n      } catch (error) {\n        console.error(`轮询任务 ${taskId} 出错:`, error);\n        throw error;\n      }\n    },\n\n\n\n\n    // 综合分析表情和姿态\n    async analyzeComprehensive(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'expression') return;\n\n      this.showStatus('正在进行综合分析...', 'info');\n\n      try {\n        // 构建提示信息\n        let expressionsText = msg.expressionResults.map(exp =>\n          `${exp.emotion} (${(exp.confidence * 100).toFixed(1)}%)`\n        ).join('、');\n\n        let prompt = `根据以下表情和姿态信息进行综合分析:\n表情: ${expressionsText}\n姿态: ${msg.poseResult.pose} (置信度: ${(msg.poseResult.score * 100).toFixed(1)}%)\n\n请分析这个人可能的情绪状态和意图，并给出简要解读。`;\n\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) {\n          throw new Error(`综合分析请求失败: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n          // 更新消息对象\n          this.messages[index] = {\n            ...this.messages[index],\n            comprehensiveAnalysis: data.result\n          };\n\n          // 保存综合分析到localStorage（追加方式）\n          const existingAnalysis = localStorage.getItem('interview_expression_gesture_analysis') || '';\n          const newAnalysis = existingAnalysis ? `${existingAnalysis}\\n${data.result}` : data.result;\n          localStorage.setItem('interview_expression_gesture_analysis', newAnalysis);\n\n          this.showStatus('综合分析完成', 'success');\n        } else {\n          throw new Error(data.result || '综合分析失败');\n        }\n      } catch (error) {\n        console.error('综合分析失败:', error);\n        this.showStatus(`综合分析失败: ${error.message}`, 'error');\n      }\n    },\n\n    // 打开评测报告弹窗\n    async openEvaluationReport() {\n      this.isReportVisible = true;\n      this.reportLoading = true;\n      this.reportError = '';\n      this.reportResponse = null; // 重置响应数据\n\n      // 延迟执行，确保弹窗已渲染\n      setTimeout(() => {\n        this.generateReportFromStorage();\n      }, 100);\n    },\n\n    // 从localStorage生成评测报告\n    async generateReportFromStorage() {\n      try {\n        this.reportLoading = true;\n\n        // 从localStorage提取数据\n        this.firstResult = localStorage.getItem(\"firstResult\") || '';\n        this.secondResult = localStorage.getItem(\"secondResult\") || '';\n        this.thirdResult = localStorage.getItem(\"thirdResult\") || '';\n        this.fourthResult = localStorage.getItem(\"fourthResult\") || '';\n        this.fifthResult = localStorage.getItem(\"fifthResult\") || '';\n\n        this.firstQuestion = localStorage.getItem(\"firstQuestion\") || '';\n        this.secondQuestion = localStorage.getItem(\"secondQuestion\") || '';\n        this.thirdQuestion = localStorage.getItem(\"thirdQuestion\") || '';\n        this.fourthQuestion = localStorage.getItem(\"fourthQuestion\") || '';\n        this.fifthQuestion = localStorage.getItem(\"fifthQuestion\") || '';\n\n        // 检查是否有足够的数据生成报告\n        if (!this.firstResult && !this.secondResult && !this.thirdResult && !this.fourthResult && !this.fifthResult) {\n          throw new Error('未找到足够的面试回答数据，请先完成面试');\n        }\n\n        // 生成各维度评分\n        this.calculateReportScores();\n\n        // 生成各维度详细分析\n        await this.generateDimensionAnalysis();\n\n        // 生成综合评价\n        await this.generateComprehensiveEvaluation();\n        // 生成关键问题定位\n        await this.generateKeyIssues();\n\n        // 生成反馈建议\n        await this.generateFeedbackSuggestions();\n\n        // 生成综合评价\n        await this.generateComprehensiveEvaluation();\n\n        // 存储完整的报告响应数据\n        this.reportResponse = {\n          indicators: this.reportIndicators,\n          values: this.reportValues,\n          professionalKnowledgeAnalysis: this.professionalKnowledgeAnalysis,\n          skillMatchAnalysis: this.skillMatchAnalysis,\n          languageExpressionAnalysis: this.languageExpressionAnalysis,\n          logicalThinkingAnalysis: this.logicalThinkingAnalysis,\n          innovationAbilityAnalysis: this.innovationAbilityAnalysis,\n          comprehensiveEvaluation: this.comprehensiveEvaluation,\n          improvementSuggestions: this.improvementSuggestions\n        };\n\n        // 确保DOM已更新后再渲染图表\n        this.$nextTick(() => {\n          this.renderRadarChart();\n        });\n\n      } catch (error) {\n        console.error('生成报告失败:', error);\n        this.reportError = error.message;\n      } finally {\n        this.reportLoading = false;\n      }\n    },\n\n    // 计算各维度评分\n    calculateReportScores() {\n      // 专业知识水平评分 (0-100)\n      let knowledgeScore = 60;\n      if (this.firstResult && (this.firstResult.length > 100 ||\n        this.firstResult.includes('项目') ||\n        this.firstResult.includes('技术') ||\n        this.firstResult.includes('经验'))) {\n        knowledgeScore = Math.floor(Math.random() * 20) + 70; // 70-90\n      } else if (this.firstResult && this.firstResult.length < 50) {\n        knowledgeScore = Math.floor(Math.random() * 20) + 40; // 40-60\n      }\n\n      // 技能匹配度评分\n      let skillScore = 60;\n      if (this.secondResult && (this.secondResult.length > 100 ||\n        this.secondResult.includes('技能') ||\n        this.secondResult.includes('掌握') ||\n        this.secondResult.includes('经验'))) {\n        skillScore = Math.floor(Math.random() * 20) + 70;\n      } else if (this.secondResult && this.secondResult.length < 50) {\n        skillScore = Math.floor(Math.random() * 20) + 40;\n      }\n\n      // 语言表达能力评分\n      let languageScore = 60;\n      if (this.thirdResult && (this.thirdResult.length > 100 ||\n        this.thirdResult.includes('解释') ||\n        this.thirdResult.includes('方法') ||\n        this.thirdResult.includes('理解'))) {\n        languageScore = Math.floor(Math.random() * 20) + 70;\n      } else if (this.thirdResult && this.thirdResult.length < 50) {\n        languageScore = Math.floor(Math.random() * 20) + 40;\n      }\n\n      // 逻辑思维能力评分\n      let logicScore = 60;\n      if (this.fourthResult && (this.fourthResult.length > 100 ||\n        this.fourthResult.includes('分析') ||\n        this.fourthResult.includes('步骤') ||\n        this.fourthResult.includes('案例'))) {\n        logicScore = Math.floor(Math.random() * 20) + 70;\n      } else if (this.fourthResult && this.fourthResult.length < 50) {\n        logicScore = Math.floor(Math.random() * 20) + 40;\n      }\n\n      // 创新能力评分\n      let innovationScore = 60;\n      if (this.fifthResult && (this.fifthResult.length > 100 ||\n        this.fifthResult.includes('创新') ||\n        this.fifthResult.includes('解决方案') ||\n        this.fifthResult.includes('思路'))) {\n        innovationScore = Math.floor(Math.random() * 20) + 70;\n      } else if (this.fifthResult && this.fifthResult.length < 50) {\n        innovationScore = Math.floor(Math.random() * 20) + 40;\n      }\n\n      this.reportValues = [\n        knowledgeScore,\n        skillScore,\n        languageScore,\n        logicScore,\n        innovationScore\n      ];\n    },\n\n    // 生成各维度详细分析\n    // 生成各维度详细分析\n    async generateDimensionAnalysis() {\n      // 从localStorage获取问题\n      const firstQuestion = localStorage.getItem(\"firstQuestion\") || '';\n      const secondQuestion = localStorage.getItem(\"secondQuestion\") || '';\n      const thirdQuestion = localStorage.getItem(\"thirdQuestion\") || '';\n      const fourthQuestion = localStorage.getItem(\"fourthQuestion\") || '';\n      const fifthQuestion = localStorage.getItem(\"fifthQuestion\") || '';\n\n      // 专业知识水平分析 - 加入对应问题\n      if (this.firstResult) {\n        const prompt = `请基于以下问题和回答，分析面试者的专业知识水平：\n问题：${firstQuestion}\n回答：${this.firstResult}\n\n请评价面试者对该问题的回答质量、专业知识的掌握程度和深度，并指出优势和不足。`;\n        this.professionalKnowledgeAnalysis = await this.getAnalysisFromAPI(prompt);\n      }\n\n      // 技能匹配度分析 - 加入对应问题\n      if (this.secondResult) {\n        const prompt = `请基于以下问题和回答，分析面试者的技能匹配度：\n问题：${secondQuestion}\n回答：${this.secondResult}\n\n请评价面试者所提及技能与岗位需求的匹配程度，以及技能掌握的实际应用能力。`;\n        this.skillMatchAnalysis = await this.getAnalysisFromAPI(prompt);\n      }\n\n      // 语言表达能力分析 - 加入对应问题\n      if (this.thirdResult) {\n        const prompt = `请基于以下问题和回答，分析面试者的语言表达能力：\n问题：${thirdQuestion}\n回答：${this.thirdResult}\n\n请评价面试者回答的清晰度、条理性、逻辑性和表达流畅度。`;\n        this.languageExpressionAnalysis = await this.getAnalysisFromAPI(prompt);\n      }\n\n      // 逻辑思维能力分析 - 加入对应问题\n      if (this.fourthResult) {\n        const prompt = `请基于以下问题和回答，分析面试者的逻辑思维能力：\n问题：${fourthQuestion}\n回答：${this.fourthResult}\n\n请评价面试者面试者分析问题的思路、推理过程的逻辑性和解决问题的系统性。`;\n        this.logicalThinkingAnalysis = await this.getAnalysisFromAPI(prompt);\n      }\n\n      // 创新能力分析 - 加入对应问题\n      if (this.fifthResult) {\n        const prompt = `请基于以下问题和回答，分析面试者的创新能力：\n问题：${fifthQuestion}\n回答：${this.fifthResult}\n\n请评价面试者提出的解决方案的创新性、独特性和实用性，以及发现问题的敏锐度。`;\n        this.innovationAbilityAnalysis = await this.getAnalysisFromAPI(prompt);\n      }\n    },\n\n\n    // 调用API获取分析结果\n    async getAnalysisFromAPI(prompt) {\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) {\n          throw new Error(`分析请求失败: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n          const taskId = data.task_id;\n          const pollInterval = 2000; // 轮询间隔2秒\n          const maxAttempts = 150;   // 最多轮询150次（约5分钟）\n\n          // 创建一个Promise来等待最终结果\n          return new Promise((resolve, reject) => {\n            let attempts = 0;\n\n            // 定义轮询函数，直接查询文件接口\n            const pollForFile = () => {\n              // 超过最大尝试次数则拒绝\n              if (attempts >= maxAttempts) {\n                reject(new Error('请求超时，未能获取结果'));\n                return;\n              }\n\n              attempts++;\n\n              // 直接调用文件查询接口\n              fetch(`${this.API_BASE_URL}/get_task_file_url`, {\n                method: 'POST',\n                headers: {\n                  ...this.commonHeaders,\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({ task_id: taskId })\n              })\n                .then(response => {\n                  // 无论响应状态如何，都尝试解析JSON\n                  return response.json().then(data => ({ data, response }));\n                })\n                .then(({ data, response }) => {\n                  // 成功获取到文件URL\n                  if (data.status === 'success' && data.file_url) {\n                    // 加载文件内容\n                    fetch(data.file_url, {\n                      method: 'GET',\n                      headers: this.commonHeaders\n                    })\n                      .then(fileResponse => {\n                        if (!fileResponse.ok) {\n                          throw new Error(`文件加载失败: ${fileResponse.status}`);\n                        }\n                        return fileResponse.text();\n                      })\n                      .then(fileContent => {\n                        // 检查内容是否为\"processing\"\n                        if (fileContent.trim() === 'processing') {\n                          // 仍在处理中，继续轮询\n                          setTimeout(pollForFile, pollInterval);\n                        } else {\n                          // 处理完成，返回结果\n                          resolve(fileContent);\n                        }\n                      })\n                      .catch(() => {\n                        // 文件加载失败，继续轮询\n                        setTimeout(pollForFile, pollInterval);\n                      });\n                  }\n                  // 未找到文件但可能还在处理中，继续轮询\n                  else if (response.status === 404 ||\n                    (data.status === 'error' && data.message.includes('未找到'))) {\n                    setTimeout(pollForFile, pollInterval);\n                  }\n                  // 其他错误情况\n                  else {\n                    reject(new Error(`获取文件失败: ${data.message || '未知错误'}`));\n                  }\n                })\n                .catch(error => {\n                  // 网络错误等情况，继续轮询\n                  setTimeout(pollForFile, pollInterval);\n                });\n            };\n\n            // 开始第一次查询\n            pollForFile();\n          });\n        } else {\n          return '无法生成分析结果';\n        }\n      } catch (error) {\n        console.error('获取分析结果失败:', error);\n        return '分析生成失败';\n      }\n    },\n\n    // 检查录音支持\n    async checkRecordingSupport() {\n      try {\n        // 检查浏览器是否支持媒体录制API\n        if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n          throw new Error('您的浏览器不支持录音功能');\n        }\n\n        // 尝试获取麦克风权限（可选，根据实际需求）\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n\n        // 释放流资源\n        stream.getTracks().forEach(track => track.stop());\n\n        // 可以在这里设置一个标志，表示支持录音\n        this.recordingSupported = true;\n        console.log('浏览器支持录音功能');\n      } catch (error) {\n        this.recordingSupported = false;\n        console.warn('录音功能检查失败:', error.message);\n      }\n    },\n    // 切换录音状态（开始/停止录音）\n    toggleRecording() {\n      if (this.isRecording) {\n        // 停止录音的逻辑\n        this.stopRecording();\n      } else {\n        // 开始录音的逻辑\n        this.startRecording();\n      }\n    },\n\n    // 生成综合评价\n    async generateComprehensiveEvaluation() {\n      // 构建提示信息\n      // 修改prompt，要求结合评分和具体建议\n      const prompt = `基于以下面试者的五维分析数据，生成综合评价和改进建议：\n1. 专业知识水平: ${this.firstResult || '无数据'}（评分：${this.reportValues[0]}）\n2. 技能匹配度: ${this.secondResult || '无数据'}（评分：${this.reportValues[1]}）\n3. 语言表达能力: ${this.thirdResult || '无数据'}（评分：${this.reportValues[2]}）\n4. 逻辑思维能力: ${this.fourthResult || '无数据'}（评分：${this.reportValues[3]}）\n5. 创新能力: ${this.fifthResult || '无数据'}（评分：${this.reportValues[4]}）\n\n请严格按照以下格式输出：\n【综合评价】\n[100字左右，结合评分总结优势和不足]\n\n【改进建议】\n1. [具体可操作的建议，关联专业知识]\n2. [具体可操作的建议，关联技能或表达]\n3. [具体可操作的建议，关联思维或创新]`;\n\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) {\n          throw new Error(`生成综合评价失败: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success' && data.result) {\n          const result = data.result;\n\n          // 提取综合评价\n          const evalMatch = result.match(/【综合评价】\\s*([\\s\\S]*?)(?=【改进建议】)/);\n          this.comprehensiveEvaluation = evalMatch ? evalMatch[1].trim() : '无法生成综合评价';\n\n          // 提取改进建议\n          this.improvementSuggestions = [];\n          const suggestionsMatch = result.match(/【改进建议】\\s*([\\s\\S]*)/);\n          if (suggestionsMatch && suggestionsMatch[1]) {\n            // 按序号提取建议\n            const suggestions = suggestionsMatch[1]\n              .split(/\\n\\d+\\./)\n              .filter(item => item.trim());\n\n            suggestions.forEach(suggestion => {\n              this.improvementSuggestions.push(suggestion.trim());\n            });\n          }\n\n          // 兜底处理（确保至少有3条建议）\n          while (this.improvementSuggestions.length < 3) {\n            this.improvementSuggestions.push('加强对应维度的专项训练');\n          }\n        }\n      } catch (error) {\n        console.error('生成综合评价失败:', error);\n        // 使用默认评价\n        this.comprehensiveEvaluation = '面试者表现中等，各方面能力有提升空间。';\n        this.improvementSuggestions = [\n          \"加强专业知识的深度和广度\",\n          \"提高语言表达的清晰度和逻辑性\",\n          \"在实际应用中培养创新思维\"\n        ];\n      }\n    },\n\n    // 在generateComprehensiveEvaluation方法后添加\n    async generateKeyIssues() {\n      // 生成关键问题定位\n      // 修改prompt，明确要求结构化输出\n      const prompt = `基于以下面试者的表现，分析其在面试中暴露的关键问题和不足:\n专业知识水平: ${this.firstResult || '无数据'}\n技能匹配度: ${this.secondResult || '无数据'}\n语言表达能力: ${this.thirdResult || '无数据'}\n逻辑思维能力: ${this.fourthResult || '无数据'}\n创新能力: ${this.fifthResult || '无数据'}\n\n请严格按照以下格式输出，不要添加额外内容：\n【关键问题定位】\n[用1-2句话总结核心问题]\n\n【具体表现示例】\n1. [第一个具体例子]\n2. [第二个具体例子]\n3. [第三个具体例子]`;\n\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) throw new Error(`生成关键问题失败: ${response.status}`);\n\n        const data = await response.json();\n        if (data.status === 'success' && data.result) {\n          const result = data.result;\n\n          // 提取关键问题定位（匹配【关键问题定位】后的内容）\n          const issueMatch = result.match(/【关键问题定位】\\s*([\\s\\S]*?)(?=【具体表现示例】)/);\n          this.keyIssues = issueMatch ? issueMatch[1].trim() : '未发现明显问题';\n\n          // 提取具体示例（匹配【具体表现示例】后的列表）\n          this.issueExamples = [];\n          const examplesMatch = result.match(/【具体表现示例】\\s*([\\s\\S]*)/);\n          if (examplesMatch && examplesMatch[1]) {\n            // 按序号分割提取每个示例\n            const examples = examplesMatch[1].split(/\\n\\d+\\./).filter(item => item.trim());\n            examples.forEach(example => {\n              this.issueExamples.push(example.trim());\n            });\n            // 限制最多3个示例\n            this.issueExamples = this.issueExamples.slice(0, 3);\n          }\n        }\n      } catch (error) {\n        console.error('生成关键问题失败:', error);\n        this.keyIssues = '无法分析关键问题';\n      }\n    },\n\n    async generateFeedbackSuggestions() {\n      // 生成分类反馈建议\n      // 修改prompt，明确分类和格式要求\n      const prompt = `基于以下面试者的表现，从5个维度给出具体改进建议：\n专业知识水平: ${this.firstResult || '无数据'}\n技能匹配度: ${this.secondResult || '无数据'}\n语言表达能力: ${this.thirdResult || '无数据'}\n逻辑思维能力: ${this.fourthResult || '无数据'}\n创新能力: ${this.fifthResult || '无数据'}\n\n请严格按照以下格式输出（每个维度至少2条建议，用\"-\"开头）：\n【专业知识】\n- 建议1\n- 建议2\n\n【技能提升】\n- 建议1\n- 建议2\n\n【表达能力】\n- 建议1\n- 建议2\n\n【思维逻辑】\n- 建议1\n- 建议2\n\n【创新思维】\n- 建议1\n- 建议2`;\n\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) throw new Error(`生成反馈建议失败: ${response.status}`);\n\n        const data = await response.json();\n        if (data.status === 'success' && data.result) {\n          this.feedbackCategories = [];\n          const categories = ['专业知识', '技能提升', '表达能力', '思维逻辑', '创新思维'];\n\n          categories.forEach(category => {\n            // 匹配每个分类的内容（如【专业知识】和下一个分类之间的内容）\n            const regex = new RegExp(`【${category}】\\\\s*([\\\\s\\\\S]*?)(?=【|$)`, 'i');\n            const match = data.result.match(regex);\n\n            if (match && match[1]) {\n              // 提取\"-\"开头的建议列表\n              const suggestions = match[1]\n                .split('\\n')\n                .filter(line => line.trim().startsWith('-'))\n                .map(line => line.trim().replace(/^-/, '').trim());\n\n              this.feedbackCategories.push({\n                title: category,\n                suggestions: suggestions.length ? suggestions : ['暂无具体建议']\n              });\n            }\n          });\n        }\n      } catch (error) {\n        console.error('生成反馈建议失败:', error);\n        this.feedbackCategories = [{\n          title: '通用建议',\n          suggestions: [\n            '加强专业知识学习',\n            '提高语言表达能力',\n            '多练习逻辑思维'\n          ]\n        }];\n      }\n    },\n\n    // 渲染雷达图（修复图表不显示问题）\n    renderRadarChart1() {\n      // 确保DOM元素已存在\n      this.$nextTick(() => {\n        const ctx = this.$refs.radarChart?.getContext('2d');\n        if (!ctx) {\n          console.error('未找到雷达图Canvas元素');\n          return;\n        }\n\n        // 销毁现有图表\n        if (this.chart) {\n          this.chart.destroy();\n        }\n\n        // 确保有数据再绘制图表\n        if (!this.reportIndicators || !this.reportValues || this.reportIndicators.length !== this.reportValues.length) {\n          console.error('雷达图数据不完整');\n          return;\n        }\n\n        // 创建新图表\n        this.chart = new Chart(ctx, {\n          type: 'radar',\n          data: {\n            labels: this.reportIndicators,\n            datasets: [{\n              label: '能力评分',\n              data: this.reportValues,\n              backgroundColor: 'rgba(59, 130, 246, 0.2)',\n              borderColor: 'rgba(59, 130, 246, 1)',\n              pointBackgroundColor: 'rgba(59, 130, 246, 1)',\n              pointBorderColor: '#fff',\n              pointHoverBackgroundColor: '#fff',\n              pointHoverBorderColor: 'rgba(59, 130, 246, 1)'\n            }]\n          },\n          options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            scales: {\n              r: {\n                angleLines: { display: true },\n                suggestedMin: 0,\n                suggestedMax: 100,\n                ticks: { callback: (value) => `${value}分` }\n              }\n            },\n            plugins: {\n              legend: { position: 'top' },\n              tooltip: {\n                callbacks: { label: (context) => `${context.label}: ${context.raw}分` }\n              }\n            }\n          }\n        });\n      });\n    },\n\n    // 获取评分等级文本\n    getScoreLevel(score) {\n      if (score >= 85) return '优秀';\n      if (score >= 75) return '良好';\n      if (score >= 65) return '一般';\n      return '待提高';\n    },\n\n    // 获取评分对应的CSS类\n    getScoreClass(score) {\n      if (score >= 85) return 'excellent';\n      if (score >= 75) return 'good';\n      if (score >= 65) return 'average';\n      return 'poor';\n    }\n  }\n};\n</script>\n\n<style scoped>\n#dialog {\n  position: relative;\n  height: 100vh;\n  overflow: hidden;\n  background-color: #EDEDF5;\n}\n\n.van-nav-bar {\n  --van-nav-bar-background-color: #EFF1FD;\n  --van-nav-bar-title-text-color: black;\n}\n\n.chat-container {\n  width: 100%;\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n\n.messages {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 0 15px;\n}\n\n.message-item {\n  display: flex;\n  align-items: flex-start;\n  margin: 5px 0;\n}\n\n.user-message {\n  justify-content: flex-end;\n\n}\n\n/* 用户消息气泡样式（关键） */\n.user-message .message-bubble,\n.user-message .voice-bubble,\n.user-message .expression-bubble {\n  margin-right: 8px;\n  /* 与头像保持距离 */\n  margin-left: 0;\n  /* 左侧无间距 */\n}\n\n.avatar {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 10px;\n  flex-shrink: 0;\n}\n\n.ai-message .avatar {\n  background-color: #e6f7ff;\n  color: #1890ff;\n}\n\n.user-message .avatar {\n  background-color: #f5f5f5;\n  color: #8c8c8c;\n}\n\n.message-bubble {\n  padding: 10px 15px;\n  border-radius: 18px;\n  max-width: 80%;\n  word-wrap: break-word;\n  position: relative;\n}\n\n.ai-message .message-bubble {\n  background-color: #ffffff;\n  border-top-left-radius: 4px;\n}\n\n.user-message .message-bubble {\n  background-color: #1677ff;\n  color: white;\n  border-top-right-radius: 4px;\n}\n\n.voice-bubble {\n  max-width: 80%;\n  padding: 10px 15px;\n  border-radius: 18px;\n  position: relative;\n}\n\n.ai-message .voice-bubble {\n  background-color: #ffffff;\n  border-top-left-radius: 4px;\n}\n\n.user-message .voice-bubble {\n  background-color: #1677ff;\n  color: white;\n  border-top-right-radius: 4px;\n}\n\n.voice-controls {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  min-width: 150px;\n}\n\n.voice-wave {\n  display: flex;\n  align-items: center;\n  gap: 3px;\n  height: 24px;\n  flex-grow: 1;\n}\n\n.voice-wave div {\n  width: 3px;\n  background-color: currentColor;\n  border-radius: 3px;\n  transition: height 0.2s ease;\n}\n\n.voice-duration {\n  font-size: 12px;\n  color: currentColor;\n  opacity: 0.8;\n}\n\n.play-icon {\n  cursor: pointer;\n}\n\n.voice-actions {\n  display: flex;\n  gap: 5px;\n  margin-top: 8px;\n  flex-wrap: wrap;\n}\n\n.voice-text-result {\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px dashed #eee;\n  font-size: 14px;\n  color: #333;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 5px;\n  border-radius: 4px;\n}\n\n.voice-speed-result {\n  margin-top: 5px;\n  font-size: 12px;\n  color: #666;\n  background-color: rgba(255, 255, 255, 0.5);\n  padding: 3px 5px;\n  border-radius: 4px;\n}\n\n.voice-tone-result {\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px dashed #eee;\n  font-size: 12px;\n  color: #666;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 5px;\n  border-radius: 4px;\n}\n\n.voice-logic-result {\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px dashed #eee;\n  font-size: 13px;\n  color: #333;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 5px;\n  border-radius: 4px;\n}\n\n/* 表情和姿态分析样式 */\n.expression-bubble {\n  max-width: 80%;\n  padding: 10px 15px;\n  border-radius: 18px;\n  position: relative;\n}\n\n.ai-message .expression-bubble {\n  background-color: #ffffff;\n  border-top-left-radius: 4px;\n}\n\n.user-message .expression-bubble {\n  background-color: #1677ff;\n  color: white;\n  border-top-right-radius: 4px;\n}\n\n.expression-image-container {\n  width: 100%;\n  border-radius: 8px;\n  overflow: hidden;\n  margin-bottom: 10px;\n}\n\n.expression-image {\n  width: 200px;\n  height: auto;\n  display: block;\n}\n\n.expression-results,\n.pose-result,\n.comprehensive-analysis {\n  margin-top: 8px;\n  font-size: 13px;\n  padding: 5px;\n  border-radius: 4px;\n  background-color: rgba(255, 255, 255, 0.7);\n  color: #333;\n}\n\n.expression-actions {\n  display: flex;\n  gap: 5px;\n  margin-top: 8px;\n  justify-content: flex-end;\n}\n\n.error-message {\n  background-color: #fff2f0 !important;\n  color: #f5222d !important;\n}\n\n.typing {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.typing span {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: #6b7280;\n  animation: typing 1.4s infinite ease-in-out both;\n}\n\n.typing span:nth-child(1) {\n  animation-delay: -0.32s;\n}\n\n.typing span:nth-child(2) {\n  animation-delay: -0.16s;\n}\n\n@keyframes typing {\n\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n  }\n\n  40% {\n    transform: scale(1);\n  }\n}\n\n\n#dialog_bottombar {\n  width: 100%;\n  background-color: #EFF1FD;\n}\n\n#dialog_bottombar_inside {\n  position: relative;\n  width: 100%;\n  padding: 8px 2.5% 15px;\n  box-sizing: border-box;\n}\n\n.recording {\n  color: #f5222d !important;\n  animation: pulse 1.5s infinite;\n}\n\n.camera-active {\n  color: #00b42a !important;\n  animation: pulse 2s infinite;\n}\n\n.report-icon {\n  color: #722ed1 !important;\n}\n\n@keyframes pulse {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n.recording-indicator {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  padding: 20px 30px;\n  border-radius: 10px;\n  text-align: center;\n  z-index: 1000;\n}\n\n.recording-dot {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background-color: #f5222d;\n  margin: 0 auto 10px;\n  animation: blink 1s infinite;\n}\n\n@keyframes blink {\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.5;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n.status-bar {\n  position: absolute;\n  bottom: 120px;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  transition: opacity 0.3s ease;\n}\n\n/* 相机模态框样式 */\n.camera-modal {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.camera-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  border-bottom: 1px solid #eee;\n}\n\n.camera-preview {\n  flex-grow: 1;\n  position: relative;\n  background-color: #000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.camera-video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.camera-loading,\n.camera-error {\n  position: absolute;\n  color: white;\n  text-align: center;\n  padding: 20px;\n}\n\n.camera-controls {\n  padding: 15px;\n  display: flex;\n  gap: 10px;\n  justify-content: center;\n  background-color: #f5f5f5;\n}\n\n/* 评测报告弹窗样式 */\n.report-container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 10px 0;\n}\n\n.report-header {\n  text-align: center;\n  padding: 10px 20px;\n  position: relative;\n  border-bottom: 1px solid #eee;\n}\n\n.report-header h2 {\n  margin: 0;\n  font-size: 18px;\n  color: #1e293b;\n}\n\n.close-icon {\n  position: absolute;\n  right: 15px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #666;\n}\n\n.report-loading,\n.report-error {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n  gap: 15px;\n  padding: 20px;\n}\n\n.report-content {\n  flex-grow: 1;\n  overflow-y: auto;\n  padding: 15px;\n}\n\n/* 雷达图样式 */\n.radar-chart-container {\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8fafc;\n  border-radius: 8px;\n}\n\n.chart-title {\n  font-size: 16px;\n  color: #334155;\n  text-align: center;\n  margin-bottom: 10px;\n  font-weight: 500;\n}\n\n.chart-wrapper {\n  width: 100%;\n  height: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n/* 能力详情样式 */\n.ability-details-container {\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8fafc;\n  border-radius: 8px;\n}\n\n.details-title {\n  font-size: 16px;\n  color: #334155;\n  text-align: center;\n  margin-bottom: 10px;\n  font-weight: 500;\n}\n\n.details-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 10px;\n}\n\n.detail-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 10px;\n  background: #fff;\n  border-radius: 6px;\n  font-size: 14px;\n}\n\n.indicator-name {\n  color: #334155;\n}\n\n.score-value {\n  font-weight: bold;\n}\n\n.excellent {\n  color: #2ecc71;\n}\n\n.good {\n  color: #f39c12;\n}\n\n.average {\n  color: #3498db;\n}\n\n.poor {\n  color: #e74c3c;\n}\n\n/* 分析内容样式 */\n.analysis-container {\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8fafc;\n  border-radius: 8px;\n}\n\n.analysis-title {\n  font-size: 16px;\n  color: #334155;\n  margin-bottom: 15px;\n  font-weight: 500;\n}\n\n.analysis-section {\n  margin-bottom: 15px;\n  padding-bottom: 15px;\n  border-bottom: 1px dashed #e2e8f0;\n}\n\n.analysis-section:last-child {\n  margin-bottom: 0;\n  padding-bottom: 0;\n  border-bottom: none;\n}\n\n.analysis-section h4 {\n  margin: 0 0 8px 0;\n  font-size: 14px;\n  color: #1e293b;\n}\n\n.analysis-section p {\n  margin: 0;\n  font-size: 13px;\n  color: #475569;\n  line-height: 1.5;\n}\n\n/* 综合评价样式 */\n.summary-container {\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8fafc;\n  border-radius: 8px;\n}\n\n.summary-title {\n  font-size: 16px;\n  color: #334155;\n  margin-bottom: 15px;\n  font-weight: 500;\n}\n\n.summary-content {\n  background: #fff;\n  padding: 15px;\n  border-radius: 6px;\n}\n\n.summary-content p {\n  margin: 0 0 10px 0;\n  font-size: 13px;\n  color: #475569;\n  line-height: 1.5;\n}\n\n.summary-content h4 {\n  margin: 15px 0 8px 0;\n  font-size: 14px;\n  color: #1e293b;\n}\n\n.summary-content ul {\n  margin: 0;\n  padding-left: 20px;\n}\n\n.summary-content li {\n  font-size: 13px;\n  color: #475569;\n  margin-bottom: 5px;\n  line-height: 1.5;\n}\n\n/* 响应体展示样式 */\n.response-body-container {\n  margin-top: 20px;\n  padding: 15px;\n  background: #f8fafc;\n  border-radius: 8px;\n}\n\n.response-body-title {\n  font-size: 16px;\n  color: #334155;\n  margin-bottom: 10px;\n  font-weight: 500;\n}\n\n.response-body-content {\n  background: #fff;\n  padding: 15px;\n  border-radius: 6px;\n  max-height: 200px;\n  overflow-y: auto;\n  font-family: monospace;\n}\n\n.response-body-content pre {\n  margin: 0;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  font-size: 12px;\n  color: #334155;\n}\n\n/* Markdown渲染样式 */\n.markdown-bubble {\n  padding: 12px 15px;\n  line-height: 1.8;\n}\n\n.markdown-render h1 {\n  font-size: 1.5rem;\n  margin: 1rem 0 0.5rem;\n  color: #333;\n}\n\n.markdown-render h2 {\n  font-size: 1.3rem;\n  margin: 0.8rem 0 0.4rem;\n  color: #444;\n}\n\n.markdown-render h3 {\n  font-size: 1.1rem;\n  margin: 0.6rem 0 0.3rem;\n  color: #555;\n}\n\n.markdown-render ul {\n  margin: 0.5rem 0;\n  padding-left: 1.5rem;\n}\n\n.markdown-render li {\n  margin: 0.3rem 0;\n}\n\n.markdown-render strong {\n  font-weight: bold;\n  color: #222;\n}\n\n.markdown-render em {\n  color: #666;\n  font-style: italic;\n}\n\n.markdown-render p {\n  margin: 0.5rem 0;\n}\n\n/* 修复可能的样式冲突 */\n.markdown-render * {\n  box-sizing: border-box;\n}\n\n.formatted-content {\n\n  color: #111827;\n}\n\n\n.formatted-content div[style*=\"color: rgba(107, 114, 128, 0.7)\"] {\n  color: rgba(107, 114, 128, 0.7) !important;\n  background-color: rgba(243, 244, 246, 0.3) !important;\n}\n.van-popup.dragging {\n  user-select: none;\n}\n</style>\n","import { render } from \"./MessageCom.vue?vue&type=template&id=78e65a3a&scoped=true\"\nimport script from \"./MessageCom.vue?vue&type=script&lang=js\"\nexport * from \"./MessageCom.vue?vue&type=script&lang=js\"\n\nimport \"./MessageCom.vue?vue&type=style&index=0&id=78e65a3a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78e65a3a\"]])\n\nexport default __exports__","<template>\n  <div class=\"container\">\n    <h1>Lip Sync Video Generation Test</h1>\n\n    <!-- Audio Generation Section -->\n    <div class=\"section\">\n      <h2>1. Generate Audio</h2>\n      <form @submit.prevent=\"handleAudioGenerate\">\n        <div class=\"form-group\">\n          <label for=\"promptText\">Input Text (for voice generation)</label>\n          <textarea \n            id=\"promptText\" \n            v-model=\"promptText\"\n            placeholder=\"Enter text to be converted to speech, e.g., Explain the concept of neural networks\" \n            required\n          ></textarea>\n        </div>\n        <button \n          type=\"submit\" \n          id=\"audioGenerateButton\"\n          :disabled=\"isAudioGenerating\"\n        >\n          Generate Audio\n        </button>\n        <span id=\"audioLoading\" class=\"loading\" v-if=\"isAudioGenerating\"></span>\n      </form>\n      <div \n        id=\"chatResponse\" \n        class=\"api-response\" \n        v-if=\"showChatResponse\"\n      >\n        <strong>AI Interviewer Response:</strong>\n        <div id=\"chatResponseContent\">{{ chatResponseText }}</div>\n      </div>\n      <div \n        id=\"audioResult\" \n        class=\"result\" \n        v-if=\"showAudioResult\"\n      >\n        {{ audioResultText }}\n      </div>\n      <div class=\"preview\" id=\"audioPreview\" v-html=\"audioPreviewHtml\"></div>\n    </div>\n\n    <!-- Video Processing Section -->\n    <div class=\"section\">\n      <h2>2. Process Video</h2>\n      <form @submit.prevent=\"handleProcessVideo\">\n        <div class=\"form-group\">\n          <label for=\"minResolution\">Minimum Resolution</label>\n          <select \n            id=\"minResolution\" \n            v-model=\"minResolution\"\n          >\n            <option value=\"2\">2 (Default)</option>\n            <option value=\"1\">1</option>\n            <option value=\"3\">3</option>\n            <option value=\"4\">4</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"ifRes\">Maintain Resolution</label>\n          <select \n            id=\"ifRes\" \n            v-model=\"ifRes\"\n          >\n            <option value=\"false\">No (Default)</option>\n            <option value=\"true\">Yes</option>\n          </select>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"steps\">Processing Steps</label>\n          <select \n            id=\"steps\" \n            v-model=\"steps\"\n          >\n            <option value=\"4\">4 (Default)</option>\n            <option value=\"2\">2</option>\n            <option value=\"6\">6</option>\n            <option value=\"8\">8</option>\n          </select>\n        </div>\n        <button \n          type=\"submit\" \n          id=\"processButton\"\n          :disabled=\"!canProcessVideo\"\n        >\n          Start Processing\n        </button>\n        <button \n          type=\"button\" \n          id=\"cancelButton\"\n          @click=\"handleCancelProcessing\"\n          :disabled=\"!isProcessing\"\n        >\n          Cancel Processing\n        </button>\n        <span id=\"processLoading\" class=\"loading\" v-if=\"isProcessing\"></span>\n      </form>\n      \n      <div \n        id=\"processStatus\" \n        class=\"result\" \n        v-if=\"showProcessStatus\"\n      >\n        {{ processStatusText }}\n      </div>\n      \n      <div class=\"progress-container\">\n        <div \n          id=\"progressBar\" \n          class=\"progress-bar\"\n          :style=\"{ width: progressBarWidth + '%' }\"\n        ></div>\n      </div>\n      \n      <!-- Optional Video Preview Section -->\n      <div class=\"optional-preview\">\n        <h3>Video to Watch While Waiting</h3>\n        <p>While waiting for processing, you can watch this video:</p>\n        <button \n          id=\"showPreviewVideo\" \n          type=\"button\"\n          @click=\"togglePreviewVideo\"\n        >\n          {{ showPreviewVideo ? 'Hide Preview Video' : 'Show Preview Video' }}\n        </button>\n        <div \n          id=\"previewVideoContainer\" \n          v-if=\"showPreviewVideo\"\n          style=\"margin-top: 10px;\"\n        >\n          <video controls :src=\"optionalVideoUrl\">\n            Your browser does not support video playback\n          </video>\n          <div class=\"file-info\">\n            Video file: julibzhan.mp4\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"preview\" id=\"outputVideoPreview\" v-html=\"videoPreviewHtml\"></div>\n    </div>\n\n    <!-- Debug Information Section -->\n    <div class=\"section\">\n      <h2>Debug Information</h2>\n      <div id=\"debugInfo\" class=\"debug-info\">{{ debugInfo }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LipSyncGenerator',\n  data() {\n    return {\n      // Configuration\n      HTTPS_BASE_URL: 'https://123.56.203.202',\n      PROXY_FILE_PATH: '/proxy_gradio_file/',\n      RECENT_FILES_PATH: '/proxy_gradio_file/recent',\n      PROCESS_VIDEO_PATH: '/lip_sync/process_video',\n      CHAT_API_PATH: '/api/chat',\n      CHAT_RESULT_PATH: '/api/chat/result',\n      TTS_API_PATH: '/gpt-sovites/tts_english',\n      GET_LATEST_AUDIO_URL: '/gpt-sovites/get_latest_audio_url',\n      POLL_INTERVAL: 3000,\n      MAX_POLL_ATTEMPTS: 600,\n      AUDIO_POLL_INTERVAL: 2000,\n      MAX_AUDIO_ATTEMPTS: 180,\n      CHAT_POLL_INTERVAL: 2000,\n      MAX_CHAT_ATTEMPTS: 120,\n      OPTIONAL_VIDEO_URL: 'https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Cjulibzhan.mp4',\n\n      // Form data\n      promptText: 'Explain the difference between supervised and unsupervised learning, and provide examples of each',\n      minResolution: '2',\n      ifRes: 'false',\n      steps: '4',\n\n      // State\n      chatResponseText: '',\n      showChatResponse: false,\n      audioUrl: null,\n      audioPreviewHtml: '',\n      isAudioGenerating: false,\n      audioResultText: '',\n      showAudioResult: false,\n      audioFolderPrefix: null,\n      currentTaskId: null,\n      \n      isProcessing: false,\n      processStartTime: null,\n      pollAttempts: 0,\n      pollTimer: null,\n      abortController: null,\n      processStatusText: '',\n      showProcessStatus: false,\n      progressBarWidth: 0,\n      videoPreviewHtml: '',\n      showPreviewVideo: false,\n      \n      debugInfo: '',\n      optionalVideoUrl: 'https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Cjulibzhan.mp4'\n    }\n  },\n  computed: {\n    canProcessVideo() {\n      return !this.isAudioGenerating && !!this.audioUrl && !this.isProcessing\n    }\n  },\n  methods: {\n    showDebugInfo(message) {\n      const timestamp = new Date().toISOString();\n      this.debugInfo += `[${timestamp}] ${message}\\n`;\n      // Auto-scroll to bottom\n      this.$nextTick(() => {\n        const el = document.getElementById('debugInfo');\n        if (el) el.scrollTop = el.scrollHeight;\n      });\n    },\n\n    fetchWithTimeout(url, options = {}, timeout = 500000) {\n      return Promise.race([\n        fetch(url, options),\n        new Promise((_, reject) => \n          setTimeout(() => reject(new Error('Request timed out')), timeout)\n        )\n      ]);\n    },\n\n    startAudioPolling(folderPrefix) {\n      let attempts = 0;\n      \n      const pollTimer = setInterval(async () => {\n        attempts++;\n        this.showDebugInfo(`Polling for audio, attempt ${attempts}`);\n        \n        try {\n          const url = new URL(this.GET_LATEST_AUDIO_URL, this.HTTPS_BASE_URL).href;\n          const response = await this.fetchWithTimeout(url, { method: 'GET' });\n          \n          const result = await response.json();\n          this.showDebugInfo(`Polling result: ${JSON.stringify(result)}`);\n          \n          if (result.status === 'success') {\n            if (result.folder_path.includes(folderPrefix)) {\n              clearInterval(pollTimer);\n              this.audioUrl = result.audio_url;\n              \n              this.audioPreviewHtml = `\n                <p>Audio preview:</p>\n                <audio controls src=\"${this.audioUrl}\"></audio>\n                <div class=\"file-info\">\n                    Generation time: ${result.created_time}<br>\n                    <a href=\"${this.audioUrl}\" download=\"generated_audio.wav\">Download audio</a>\n                </div>\n              `;\n              \n              // Try to get audio duration\n              this.$nextTick(() => {\n                const audioElement = document.querySelector('#audioPreview audio');\n                if (audioElement) {\n                  audioElement.onloadedmetadata = () => {\n                    const duration = audioElement.duration.toFixed(2);\n                    const fileInfo = document.querySelector('#audioPreview .file-info');\n                    if (fileInfo) {\n                      fileInfo.innerHTML = `\n                        Generation time: ${result.created_time}<br>\n                        Audio length: ${duration} seconds<br>\n                        <a href=\"${this.audioUrl}\" download=\"generated_audio.wav\">Download audio</a>\n                      `;\n                    }\n                  };\n                }\n              });\n              \n              this.audioResultText = 'Audio generated successfully';\n              this.isAudioGenerating = false;\n              this.showAudioResult = true;\n            } else {\n              this.showDebugInfo(`Waiting for target folder ${folderPrefix}...`);\n            }\n            \n          } else if (result.status === 'pending') {\n            this.audioResultText = `Generating audio (${attempts}/${this.MAX_AUDIO_ATTEMPTS})...`;\n            this.showAudioResult = true;\n            \n          } else {\n            clearInterval(pollTimer);\n            this.audioResultText = `Polling error: ${result.message}`;\n            this.showAudioResult = true;\n            this.isAudioGenerating = false;\n          }\n          \n          if (attempts >= this.MAX_AUDIO_ATTEMPTS) {\n            clearInterval(pollTimer);\n            this.audioResultText = 'Audio generation timed out, please try again';\n            this.showAudioResult = true;\n            this.isAudioGenerating = false;\n          }\n          \n        } catch (error) {\n          this.showDebugInfo(`Polling error: ${error.message}`);\n          if (attempts >= this.MAX_AUDIO_ATTEMPTS) {\n            clearInterval(pollTimer);\n            this.audioResultText = `Polling failed: ${error.message}`;\n            this.showAudioResult = true;\n            this.isAudioGenerating = false;\n          }\n        }\n      }, this.AUDIO_POLL_INTERVAL);\n    },\n\n    pollForChatResult(taskId) {\n      return new Promise((resolve, reject) => {\n        let attempts = 0;\n        \n        const poll = async () => {\n          attempts++;\n          this.showDebugInfo(`Polling for chat result (task ID: ${taskId}), attempt ${attempts}`);\n          \n          try {\n            const resultUrl = new URL(`${this.CHAT_RESULT_PATH}/${taskId}`, this.HTTPS_BASE_URL).href;\n            const response = await this.fetchWithTimeout(resultUrl, { method: 'GET' }, 10000);\n            \n            if (!response.ok) {\n              throw new Error(`Result API error: ${response.status} ${response.statusText}`);\n            }\n            \n            const resultData = await response.json();\n            this.showDebugInfo(`Chat result response: ${JSON.stringify(resultData)}`);\n            \n            if (resultData.status === 'processing') {\n              this.audioResultText = `Waiting for AI response (${attempts}/${this.MAX_CHAT_ATTEMPTS})...`;\n              this.showAudioResult = true;\n              \n              if (attempts >= this.MAX_CHAT_ATTEMPTS) {\n                reject(new Error('Timeout waiting for chat response'));\n                return;\n              }\n              \n              setTimeout(poll, this.CHAT_POLL_INTERVAL);\n              \n            } else if (resultData.status === 'success') {\n              resolve(resultData.result);\n              \n            } else if (resultData.status === 'error') {\n              reject(new Error(`Processing error: ${resultData.result}`));\n              \n            } else {\n              reject(new Error(`Unknown status: ${resultData.status}`));\n            }\n            \n          } catch (error) {\n            this.showDebugInfo(`Chat result polling error: ${error.message}`);\n            \n            if (attempts >= this.MAX_CHAT_ATTEMPTS) {\n              reject(new Error(`Polling failed after ${this.MAX_CHAT_ATTEMPTS} attempts: ${error.message}`));\n            } else {\n              setTimeout(poll, this.CHAT_POLL_INTERVAL);\n            }\n          }\n        };\n        \n        poll();\n      });\n    },\n\n    async handleAudioGenerate() {\n      const userInput = this.promptText.trim();\n      if (!userInput) return;\n      \n      const interviewerPrompt = `You are a senior AI technical interviewer conducting a technical interview with a candidate. Based on the following input, provide a professional technical response in ENGLISH ONLY. Focus on areas related to artificial intelligence, machine learning, deep learning, and maintain professional and targeted interview tone: ${userInput}`;\n      \n      this.isAudioGenerating = true;\n      this.currentTaskId = null;\n      this.audioResultText = 'Sending request to AI...';\n      this.showAudioResult = true;\n      this.showChatResponse = false;\n      this.audioPreviewHtml = '';\n      \n      try {\n        this.showDebugInfo(`Calling Chat API as AI technical interviewer: ${this.CHAT_API_PATH}`);\n        const chatUrl = new URL(this.CHAT_API_PATH, this.HTTPS_BASE_URL).href;\n        \n        const chatResponse = await this.fetchWithTimeout(\n          chatUrl,\n          {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ prompt: interviewerPrompt })\n          },\n          30000\n        );\n        \n        if (!chatResponse.ok) {\n          throw new Error(`Chat API error: ${chatResponse.status} ${chatResponse.statusText}`);\n        }\n        \n        const chatResult = await chatResponse.json();\n        this.showDebugInfo(`Chat API returned: ${JSON.stringify(chatResult)}`);\n        \n        if (chatResult.status !== 'success' || !chatResult.task_id) {\n          throw new Error(`Chat API returned invalid result: ${JSON.stringify(chatResult)}`);\n        }\n        \n        this.currentTaskId = chatResult.task_id;\n        this.audioResultText = `Received task ID: ${this.currentTaskId}, waiting for response...`;\n        \n        const aiResponse = await this.pollForChatResult(this.currentTaskId);\n        \n        this.chatResponseText = aiResponse;\n        this.showChatResponse = true;\n        \n        this.showDebugInfo(`Calling TTS API: ${this.TTS_API_PATH}`);\n        const ttsUrl = new URL(this.TTS_API_PATH, this.HTTPS_BASE_URL).href;\n        \n        const ttsData = {\n          text: this.chatResponseText,\n          reference_text: this.chatResponseText\n        };\n        \n        const ttsResponse = await this.fetchWithTimeout(\n          ttsUrl,\n          {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(ttsData)\n          },\n          600000\n        );\n        \n        if (!ttsResponse.ok) {\n          throw new Error(`TTS API error: ${ttsResponse.status} ${ttsResponse.statusText}`);\n        }\n        \n        const ttsResult = await ttsResponse.json();\n        this.showDebugInfo(`TTS API returned: ${JSON.stringify(ttsResult)}`);\n        \n        if (ttsResult.status !== 'success') {\n          throw new Error(`Audio synthesis failed: ${ttsResult.message}`);\n        }\n        \n        this.audioResultText = 'Audio synthesis in progress, waiting for result...';\n        this.audioFolderPrefix = ttsResult.folder_prefix;\n        this.startAudioPolling(ttsResult.folder_prefix);\n        \n      } catch (error) {\n        this.audioResultText = `Error: ${error.message}`;\n        this.showDebugInfo(`Audio generation failed: ${error.message}`);\n        this.isAudioGenerating = false;\n        this.currentTaskId = null;\n      }\n    },\n\n    pollForRecentFiles() {\n      if (this.pollAttempts >= this.MAX_POLL_ATTEMPTS) {\n        this.processStatusText = `Processing timed out, could not generate video within ${(this.MAX_POLL_ATTEMPTS * this.POLL_INTERVAL / 1000).toFixed(0)} seconds`;\n        this.showProcessStatus = true;\n        this.showDebugInfo(`Polling timed out, attempted ${this.pollAttempts} times`);\n        this.resetProcessingState();\n        return;\n      }\n\n      this.pollAttempts++;\n      this.showDebugInfo(`Polling for recent files, attempt ${this.pollAttempts}`);\n\n      const recentFilesUrl = new URL(this.RECENT_FILES_PATH, this.HTTPS_BASE_URL);\n      \n      if (!this.processStartTime) {\n        this.showDebugInfo(\"Warning: processStartTime not set, using current time as default\");\n        this.processStartTime = Math.floor(Date.now() / 1000);\n      }\n      \n      recentFilesUrl.searchParams.append('since', this.processStartTime.toString());\n      recentFilesUrl.searchParams.append('max', '10');\n\n      this.fetchWithTimeout(recentFilesUrl.toString(), { method: 'GET' }, 1000000)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(`File query failed: ${response.status} ${response.statusText}`);\n          }\n          return response.json();\n        })\n        .then(data => {\n          this.showDebugInfo(`Found ${data.count} new files`);\n          \n          if (data.status === 'success' && data.count > 0) {\n            const latestFile = data.files[0];\n            const videoUrl = `${this.HTTPS_BASE_URL}${this.PROXY_FILE_PATH}${encodeURIComponent(latestFile.path)}`;\n            \n            this.showDebugInfo(`Found latest file: ${videoUrl}`);\n            this.processStatusText = 'Video processing complete, loading preview...';\n            this.showProcessStatus = true;\n            this.progressBarWidth = 100;\n            \n            this.videoPreviewHtml = `\n              <p>Processed video:</p>\n              <video controls src=\"${videoUrl}\"></video>\n              <div class=\"file-info\">\n                  Name: ${latestFile.name}<br>\n                  Size: ${(latestFile.size / (1024 * 1024)).toFixed(2)} MB<br>\n                  <a href=\"${videoUrl}\" download=\"${latestFile.name}\">Download video</a>\n              </div>\n            `;\n            \n            this.resetProcessingState();\n          } else {\n            const elapsedMinutes = Math.floor((this.pollAttempts * this.POLL_INTERVAL) / 60000);\n            const totalMinutes = Math.floor((this.MAX_POLL_ATTEMPTS * this.POLL_INTERVAL) / 60000);\n            this.processStatusText = `Processing... Waiting for ${elapsedMinutes} minutes (of maximum ${totalMinutes} minutes)`;\n            this.showProcessStatus = true;\n            \n            this.progressBarWidth = Math.min(90, (this.pollAttempts / this.MAX_POLL_ATTEMPTS) * 100);\n            \n            this.pollTimer = setTimeout(() => this.pollForRecentFiles(), this.POLL_INTERVAL);\n          }\n        })\n        .catch(error => {\n          this.showDebugInfo(`Polling error: ${error.message}`);\n          this.processStatusText = `Polling error: ${error.message}, will continue retrying...`;\n          this.showProcessStatus = true;\n          \n          this.pollTimer = setTimeout(() => this.pollForRecentFiles(), this.POLL_INTERVAL);\n        });\n    },\n\n    resetProcessingState() {\n      this.isProcessing = false;\n      this.processStartTime = null;\n      this.pollAttempts = 0;\n      \n      if (this.pollTimer) {\n        clearTimeout(this.pollTimer);\n        this.pollTimer = null;\n      }\n      \n      this.progressBarWidth = 0;\n    },\n\n    async handleProcessVideo() {\n      if (!this.audioUrl) {\n        this.processStatusText = 'Please generate audio first';\n        this.showProcessStatus = true;\n        this.showDebugInfo('No audio generated, terminating processing');\n        return;\n      }\n      \n      this.isProcessing = true;\n      this.processStartTime = Math.floor(Date.now() / 1000);\n      this.pollAttempts = 0;\n      \n      this.processStatusText = 'Submitting processing request...';\n      this.showProcessStatus = true;\n      \n      this.progressBarWidth = 0;\n      this.videoPreviewHtml = '';\n      \n      this.abortController = new AbortController();\n      \n      try {\n        const processUrl = new URL(this.PROCESS_VIDEO_PATH, this.HTTPS_BASE_URL).href;\n        this.showDebugInfo(`Submitting video processing request to: ${processUrl}`);\n        \n        const requestData = {\n          min_resolution: parseInt(this.minResolution),\n          if_res: this.ifRes === 'true',\n          steps: parseInt(this.steps)\n        };\n        \n        const response = await this.fetchWithTimeout(\n          processUrl,\n          {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(requestData),\n            signal: this.abortController.signal\n          },\n          1800000\n        );\n        \n        if (!response.ok) {\n          this.showDebugInfo(`Processing request returned non-success status: ${response.status} ${response.statusText}`);\n          const errorText = await response.text().catch(() => 'Could not get error details');\n          this.showDebugInfo(`Error content: ${errorText}`);\n          this.processStatusText = `Processing request returned error, but will continue waiting for results...`;\n          this.showProcessStatus = true;\n        } else {\n          try {\n            const result = await response.json();\n            this.showDebugInfo(`Processing request response: ${JSON.stringify(result)}`);\n            if (result.used_video_file) {\n              this.showDebugInfo(`Fixed video path used by backend: ${result.used_video_file}`);\n            }\n            this.processStatusText = 'Processing request submitted, waiting for video generation...';\n            this.showProcessStatus = true;\n          } catch (e) {\n            this.showDebugInfo(`Failed to parse processing response: ${e.message}`);\n            this.processStatusText = 'Processing request submitted, waiting for video generation...';\n            this.showProcessStatus = true;\n          }\n        }\n      } catch (error) {\n        if (error.name !== 'AbortError') {\n          this.showDebugInfo(`Error in processing request: ${error.message}`);\n          this.processStatusText = `Error in processing request, but will continue waiting for results...`;\n          this.showProcessStatus = true;\n        } else {\n          this.processStatusText = 'Processing cancelled';\n          this.showProcessStatus = true;\n          this.resetProcessingState();\n          return;\n        }\n      }\n      \n      this.progressBarWidth = 10;\n      this.pollForRecentFiles();\n    },\n\n    handleCancelProcessing() {\n      this.showDebugInfo('User clicked to cancel processing');\n      if (this.isProcessing && this.abortController) {\n        this.abortController.abort();\n        this.processStatusText = 'Processing cancelled';\n        this.showProcessStatus = true;\n        this.progressBarWidth = 0;\n        this.resetProcessingState();\n      }\n    },\n\n    togglePreviewVideo() {\n      this.showPreviewVideo = !this.showPreviewVideo;\n      this.showDebugInfo(`${this.showPreviewVideo ? 'Showing' : 'Hiding'} optional preview video`);\n    }\n  },\n  mounted() {\n    this.showDebugInfo('Page loaded completely, ready');\n  },\n  beforeUnmount() {\n    if (this.pollTimer) {\n      clearTimeout(this.pollTimer);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n    font-family: Arial, sans-serif;\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\n.section {\n    margin-bottom: 30px;\n    padding: 20px;\n    border: 1px solid #ddd;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\nh1, h2, h3 {\n    color: #333;\n}\n\n.form-group {\n    margin-bottom: 15px;\n}\n\nlabel {\n    display: block;\n    margin-bottom: 5px;\n    font-weight: bold;\n    color: #555;\n}\n\ninput, select, textarea {\n    width: 100%;\n    padding: 8px;\n    box-sizing: border-box;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\ntextarea {\n    min-height: 100px;\n    resize: vertical;\n}\n\nbutton {\n    background-color: #4CAF50;\n    color: white;\n    padding: 10px 15px;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background-color 0.3s;\n    margin-right: 10px;\n}\n\nbutton:hover {\n    background-color: #45a049;\n}\n\nbutton:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n}\n\n.result {\n    margin-top: 20px;\n    padding: 10px;\n    background-color: #f5f5f5;\n    border-radius: 4px;\n    overflow-x: auto;\n}\n\n.file-info {\n    margin-top: 10px;\n    color: #666;\n    font-size: 0.9em;\n}\n\n.preview {\n    margin-top: 15px;\n    padding: 10px;\n    background-color: #f9f9f9;\n    border-radius: 4px;\n}\n\nvideo, audio {\n    max-width: 100%;\n    margin-top: 10px;\n    border-radius: 4px;\n}\n\n.loading {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    border: 3px solid rgba(76, 175, 80, 0.3);\n    border-radius: 50%;\n    border-top-color: #4CAF50;\n    animation: spin 1s ease-in-out infinite;\n    margin-left: 10px;\n}\n\n@keyframes spin {\n    to { transform: rotate(360deg); }\n}\n\n.progress-container {\n    margin-top: 15px;\n    width: 100%;\n    background-color: #e0e0e0;\n    border-radius: 5px;\n    overflow: hidden;\n}\n\n.progress-bar {\n    height: 20px;\n    background-color: #4CAF50;\n    width: 0%;\n    transition: width 0.3s ease;\n}\n\n.debug-info {\n    margin-top: 20px;\n    padding: 10px;\n    background-color: #f0f0f0;\n    border-radius: 4px;\n    font-family: monospace;\n    font-size: 0.9em;\n    max-height: 200px;\n    overflow-y: auto;\n    white-space: pre-wrap;\n}\n\n.api-response {\n    margin-top: 15px;\n    padding: 10px;\n    background-color: #f0f7ff;\n    border-radius: 4px;\n    font-size: 0.9em;\n    max-height: 200px;\n    overflow-y: auto;\n}\n\n.optional-preview {\n    margin-top: 20px;\n    padding: 15px;\n    border: 1px dashed #ccc;\n    border-radius: 4px;\n}\n\n.optional-preview h3 {\n    margin-top: 0;\n    color: #666;\n    font-size: 1.1em;\n}\n</style>\n","import { render } from \"./FriendsCom.vue?vue&type=template&id=302a22ff&scoped=true\"\nimport script from \"./FriendsCom.vue?vue&type=script&lang=js\"\nexport * from \"./FriendsCom.vue?vue&type=script&lang=js\"\n\nimport \"./FriendsCom.vue?vue&type=style&index=0&id=302a22ff&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-302a22ff\"]])\n\nexport default __exports__","<template>\n    <div class=\"nav-container\">\n        \n        \n        <!-- 加载状态 -->\n        <div v-if=\"isLoading\" class=\"loading\">\n            <p>正在加载动态...</p>\n        </div>\n        \n        <!-- 错误提示 -->\n        <div v-if=\"errorMessage\" class=\"error\">\n            <p>⚠️ {{ errorMessage }}</p>\n        </div>\n        \n        <!-- 无数据提示 -->\n        <div v-if=\"!isLoading && !errorMessage && sortedBlogs.length === 0\" class=\"no-data\">\n            <p>暂无博客内容</p>\n        </div>\n        \n        <!-- 博客列表 -->\n        <div class=\"blog-container\" v-if=\"!isLoading && !errorMessage && sortedBlogs.length > 0\">\n            <el-card v-for=\"blog in sortedBlogs\" :key=\"blog.id || blog.date\" @click=\"openBlogModal(blog)\" class=\"blog-card\">\n                <template #header>\n                    <h3>题目：{{ blog.title }}</h3>\n                    <h4>作者：{{ blog.username }}</h4>\n                    <span class=\"blog-date\">发布时间：{{ formatDate(blog.date) }}</span>\n                    <p class=\"comment-count\">评论数量：{{ getCommentsForBlog(blog.date).length }}</p>\n                </template>\n                <!-- 显示博客内容摘要 -->\n                <div class=\"blog-content\">\n                    {{ blog.content ? (blog.content.length > 150 ? blog.content.slice(0, 150) + '... 点击查看全文' : blog.content) : '无内容' }}\n                </div>\n            </el-card>\n        </div>\n        \n        <!-- 博客详情弹窗 -->\n        <div v-if=\"showBlogModal\" class=\"modal-overlay\" @click=\"closeBlogModal\">\n            <div class=\"modal-content\" @click.stop>\n                <div class=\"modal-header\">\n                    <h2>{{ currentBlog.title }}</h2>\n                    <button class=\"close-btn\" @click=\"closeBlogModal\">×</button>\n                </div>\n                <div class=\"modal-body\">\n                    <div class=\"blog-meta\">\n                        <span class=\"author\">作者：{{ currentBlog.username }}</span>\n                        <span class=\"date\">发布时间：{{ formatDate(currentBlog.date) }}</span>\n                    </div>\n                    <div class=\"full-content\">\n                        {{ currentBlog.content || '该博客暂无内容' }}\n                    </div>\n                </div>\n                <div class=\"modal-footer\">\n                    <button class=\"close-modal-btn\" @click=\"closeBlogModal\">关闭</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue';\nimport axios from 'axios';\n\n// 核心数据\nconst sortedBlogs = ref([]);\nconst allComments = ref([]);\nconst isLoading = ref(true);      // 加载状态\nconst errorMessage = ref('');     // 错误信息\nconst showBlogModal = ref(false); // 弹窗显示状态\nconst currentBlog = ref({});      // 当前选中的博客\n\n// 格式化日期\nconst formatDate = (dateString) => {\n    try {\n        return new Date(dateString).toLocaleString('zh-CN', {\n            year: 'numeric',\n            month: '2-digit',\n            day: '2-digit',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit'\n        });\n    } catch (error) {\n        console.error('日期格式化失败:', error);\n        return dateString; // 格式化失败时显示原始字符串\n    }\n};\n\n// 获取指定博客的评论\nconst getCommentsForBlog = computed(() => (blogDate) => {\n    if (!allComments.value) return [];\n    return allComments.value.filter(comment => comment && comment.blogDate === blogDate);\n});\n\n// 获取博客数据\nconst fetchBlogs = async () => {\n    try {\n        isLoading.value = true;\n        errorMessage.value = '';\n        \n        console.log('开始请求博客数据...');\n        const [blogsRes, commentsRes] = await Promise.all([\n            axios.get('https://123.56.203.202/getBlogs'),\n            axios.get('https://123.56.203.202/getComments')\n        ]);\n        \n        console.log('获取到博客数据:', blogsRes.data);\n        console.log('获取到评论数据:', commentsRes.data);\n        \n        // 确保数据是数组格式\n        sortedBlogs.value = Array.isArray(blogsRes.data) ? blogsRes.data : [];\n        allComments.value = Array.isArray(commentsRes.data) ? commentsRes.data : [];\n        \n    } catch (error) {\n        console.error('获取数据失败:', error);\n        errorMessage.value = '加载博客失败，请稍后重试';\n        if (error.response) {\n            console.error('请求错误:', error.response.status, error.response.data);\n        } else if (error.request) {\n            console.error('无响应:', error.request);\n        }\n    } finally {\n        isLoading.value = false;\n    }\n};\n\n// 打开博客详情弹窗\nconst openBlogModal = (blog) => {\n    currentBlog.value = { ...blog }; // 复制博客数据\n    showBlogModal.value = true;\n    document.body.style.overflow = 'hidden'; // 禁止背景滚动\n};\n\n// 关闭博客详情弹窗 - 移除未使用的参数\nconst closeBlogModal = () => {\n    showBlogModal.value = false;\n    document.body.style.overflow = ''; // 恢复背景滚动\n    currentBlog.value = {};\n};\n\n// 页面加载时获取博客数据\nonMounted(async () => {\n    await fetchBlogs();\n});\n</script>\n\n<style scoped>\n/* 样式部分保持不变 */\n.nav-container {\n    background: #e3e9f3;\n    padding: 15px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    min-height: 100vh;\n}\n\n.center-content {\n    text-align: center;\n    margin-bottom: 20px;\n}\n\n.title {\n    font-size: 28px;\n    color: #4CAF50;\n    margin: 0;\n    font-weight: 600;\n    padding: 10px 0;\n}\n\n.loading, .error, .no-data {\n    text-align: center;\n    padding: 50px 0;\n    font-size: 16px;\n}\n\n.error {\n    color: #ff4d4f;\n}\n\n.blog-container {\n    padding: 20px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-around;\n    gap: 20px;\n}\n\n.blog-card {\n    width: calc(24% - 10px);\n    margin-bottom: 20px;\n    transition: all 0.3s ease;\n    cursor: pointer;\n    border-radius: 8px;\n    overflow: hidden;\n}\n\n.blog-card:hover {\n    background-color: #fff;\n    transform: translateY(-5px);\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n}\n\n.blog-card:hover h3 {\n    color: #409eff;\n}\n\n.blog-date {\n    float: right;\n    color: #999;\n    font-size: 12px;\n}\n\n.blog-card h3 {\n    font-size: 18px;\n    font-weight: bold;\n    color: #333333;\n    margin-bottom: 10px;\n}\n\n.blog-card h4 {\n    font-size: 14px;\n    color: #666666;\n    margin-bottom: 15px;\n}\n\n.comment-count {\n    margin-top: 10px;\n    color: #666;\n    font-size: 14px;\n}\n\n.blog-content {\n    margin-top: 15px;\n    color: #333;\n    line-height: 1.6;\n    font-size: 14px;\n}\n\n/* 弹窗样式 */\n.modal-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n    padding: 20px;\n}\n\n.modal-content {\n    background-color: #fff;\n    width: 100%;\n    max-width: 800px;\n    max-height: 90vh;\n    border-radius: 8px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n}\n\n.modal-header {\n    padding: 20px;\n    border-bottom: 1px solid #eee;\n    position: relative;\n}\n\n.modal-header h2 {\n    margin: 0;\n    color: #333;\n    font-size: 22px;\n}\n\n.close-btn {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    background: none;\n    border: none;\n    font-size: 24px;\n    cursor: pointer;\n    color: #999;\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    transition: all 0.2s;\n}\n\n.close-btn:hover {\n    background-color: #f5f5f5;\n    color: #333;\n}\n\n.modal-body {\n    padding: 20px;\n    overflow-y: auto;\n    flex: 1;\n}\n\n.blog-meta {\n    margin-bottom: 20px;\n    padding-bottom: 10px;\n    border-bottom: 1px solid #eee;\n    display: flex;\n    justify-content: space-between;\n    color: #666;\n    font-size: 14px;\n}\n\n.full-content {\n    line-height: 1.8;\n    color: #333;\n    font-size: 16px;\n    white-space: pre-wrap; /* 保留换行和空格 */\n}\n\n.modal-footer {\n    padding: 15px 20px;\n    border-top: 1px solid #eee;\n    text-align: right;\n}\n\n.close-modal-btn {\n    padding: 8px 16px;\n    background-color: #409eff;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background-color 0.2s;\n}\n\n.close-modal-btn:hover {\n    background-color: #66b1ff;\n}\n\n@media (max-width: 1200px) {\n    .blog-card {\n        width: calc(33% - 10px);\n    }\n}\n\n@media (max-width: 768px) {\n    .blog-card {\n        width: 100%;\n    }\n    \n    .modal-content {\n        max-width: 100%;\n    }\n}\n</style>\n    ","import script from \"./DiscoverCom.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DiscoverCom.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DiscoverCom.vue?vue&type=style&index=0&id=9c0dfe74&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9c0dfe74\"]])\n\nexport default __exports__","<template>\n    <!-- 个性名片页面 -->\n    <div id=\"card\">\n        <van-nav-bar :title=\"title\" right-text=\"设置\" :fixed=\"true\" :placeholder=\"true\" left-arrow @click-left=\"back()\" />\n        <div id=\"card_content\">\n            <div id=\"card_content_head\">\n                <van-image\n                    round\n                    width=\"85px\"\n                    height=\"85px\"\n                    :src=\"require(`@/assets/images/${user.profile}`)\"\n                    @click=\"profilePreview()\"\n                    style=\"float:left; margin-right:15px;\" />\n                <span style=\"font-size:22px; font-weight:bold;\">{{user.name}}</span>\n                <van-icon :name=\"require('@/assets/icon/icon_card_点赞0.png')\" size=\"30px\" style=\"position:absolute; top:70px; right:10px;\" />\n                <br>\n                <span style=\"font-size:14px;\">QQ：{{user.qq}}</span>\n                <van-cell center clickable style=\"width:170px; padding:0;\">\n                    <template #icon>\n                        <van-image :src=\"require('@/assets/images/qq等级.png')\" />\n                    </template>\n                </van-cell>\n            </div>\n            <div id=\"card_content_info\">\n                <van-cell center is-link :title=\"user.gender + ' ' + user.age + '岁 &nbsp;|&nbsp; ' + user.birth_month + '月' + user.birth_day + '日 ' + user.constellation + '座 &nbsp;|&nbsp; 现居' +  user.place\" style=\"padding:5px 10px; font-size:13px;\">\n                    <template #icon>\n                        <van-icon :name=\"require('@/assets/icon/icon_card_个人信息.png')\" size=\"18px\" style=\"margin-right:15px;\" />\n                    </template>\n                </van-cell>\n                <van-cell center is-link :title=\"user.sign\" style=\"padding:5px 10px; font-size:13px;\">\n                    <template #icon>\n                        <van-icon :name=\"require('@/assets/icon/icon_card_个性签名.png')\" size=\"18px\" style=\"margin-right:15px\" />\n                    </template>\n                </van-cell>\n                <van-cell center is-link title=\"TA还未开通任何特权服务\" style=\"padding:5px 10px; font-size:13px;\">\n                    <template #icon>\n                        <van-icon :name=\"require('@/assets/icon/icon_card_特权服务.png')\" size=\"18px\" style=\"margin-right:15px\" />\n                    </template>\n                </van-cell>\n                <van-cell center is-link :title=\"who + '的空间'\" style=\"padding:5px 10px; font-size:13px;\">\n                    <template #icon>\n                        <van-icon :name=\"require('@/assets/icon/icon_card_QQ空间.png')\" size=\"18px\" style=\"margin-right:15px\" />\n                    </template>\n                </van-cell>\n                <van-cell center is-link title=\"精选照片\" style=\"margin-top:15px; padding:10px; font-size:17px; font-weight:bold;\" />\n            </div>\n            <div id=\"card_content_picture\" class=\"ui-feeds\">\n                <ul>\n                    <li> <span :style=\"{backgroundImage:`url(${pictures[0]})`}\" @click=\"picturesPreview(0)\"></span> </li>\n                    <li> <span :style=\"{backgroundImage:`url(${pictures[1]})`}\" @click=\"picturesPreview(1)\"></span> </li>\n                    <li> <span :style=\"{backgroundImage:`url(${pictures[2]})`}\" @click=\"picturesPreview(2)\"></span> </li>\n                    <li> <span :style=\"{backgroundImage:`url(${pictures[3]})`}\" @click=\"picturesPreview(3)\"></span> </li>\n                    <li> <span :style=\"{backgroundImage:`url(${pictures[4]})`}\" @click=\"picturesPreview(4)\"></span> </li>\n                    <li> <span :style=\"{backgroundImage:`url(${pictures[5]})`}\" @click=\"picturesPreview(5)\"></span> </li>\n                </ul>\n            </div>\n        </div>\n        <div id=\"card_bottombar\">\n            <div id=\"card_bottombar_inside\">\n                <van-button type=\"default\" color=\"#EBECF4\" :style=\"[bottom_button_style, blackText]\">{{button1}}</van-button>\n                <van-button type=\"default\" color=\"#EBECF4\" :style=\"[bottom_button_style, blackText]\">{{button2}}</van-button>\n                <van-button type=\"primary\" color=\"#5BC7F6\" :style=\"bottom_button_style\" :to=\"'/dialog/'+user.name\">发消息</van-button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ImagePreview } from 'vant';\nexport default {\n    data() {\n        return {\n            // 该个性名片的用户信息\n            user: {\n                profile: this.$route.query.profile==undefined ? \"default_profile.png\" : this.$route.query.profile, //头像\n                name: '且听风吟', //名字\n                qq: '1243114903', //qq号\n                gender: '男', //性别\n                age: '20', //年龄\n                birth_month: '2005年', //出生月份\n                birth_day: '3月23', //出生日\n                constellation: '白羊', //星座\n                place: '绍兴', //现居地\n                sign: this.$route.query.sign==undefined ? \"个性签名\" : '此心光明，亦复何虑。' //个性签名\n            },\n            // 我/他/她的空间\n            who: \"我\",\n            // 我的资料/个人资料\n            title: \"\",\n            // 名片/音视频通话\n            button1: \"\",\n            // 编辑资料/礼物\n            button2: \"\",\n            // 底部按钮样式\n            bottom_button_style: {\n                margin: \"5px 2.5px\",\n                width: window.innerWidth / 3.2 + \"px\",\n                borderRadius: \"5px\",\n                letterSpacing: \"2px\",\n                fontWeight: \"bold\"\n            },\n            // 底部左边两个按钮字体颜色\n            blackText: {\n                color: \"black\"\n            },\n            // 精选照片\n            pictures: [\n    require(\"@/assets/images/QQ图片20250719201652.jpg\"),\n    require(\"@/assets/images/QQ图片20250719201659.jpg\"),\n    require(\"@/assets/images/QQ图片20250719201704.jpg\"),\n    require(\"@/assets/images/QQ图片20250719201708.jpg\"),\n    require(\"@/assets/images/QQ图片20250719201714.jpg\"),\n    require(\"@/assets/images/QQ图片20250719201723.jpg\"),\n    require(\"@/assets/images/QQ图片20250719201727.jpg\"),\n    require(\"@/assets/images/QQ图片20250719201731.jpg\"),\n    require(\"@/assets/images/QQ图片20250719201735.jpg\"),\n    require(\"@/assets/images/QQ图片20250719201739.png\")\n]\n        };\n    },\n    methods: {\n        // 返回\n        back() {\n            history.back();\n        },\n        //预览“头像”\n        profilePreview() {\n            ImagePreview([require(`@/assets/images/${this.user.profile}`)]);\n        },\n        //预览“精选照片”\n        picturesPreview(i) {\n            ImagePreview({\n                images: this.pictures,\n                startPosition: i\n            });\n        }\n    },\n    mounted() {\n        if(this.user.profile != \"my_profile.jpg\") {\n            this.who = this.user.gender==\"女\" ? \"她\" : \"他\";\n            this.title = \"个人资料\";\n            this.button1 = \"音视频通话\";\n            this.button2 = \"礼物\";\n        }\n        else {\n            this.title = \"我的资料\";\n            this.button1 = \"名片\";\n            this.button2 = \"编辑资料\";\n        }\n    }\n}\n</script>\n\n<style>\n#card {\n    --van-nav-bar-arrow-size: 20px;\n    --van-nav-bar-icon-color: black;\n    --van-nav-bar-text-color: black;\n    --van-nav-bar-title-text-color: black;\n    background-color: white;\n}\n#card_content {\n    margin: 20px 0;\n}\n#card_content_head {\n    height: 100px;\n    padding: 0 10px;\n}\n#card_content_picture ul {\n    padding: 0 10px;\n}\n#card_bottombar {\n    height: 54px;\n}\n#card_bottombar_inside {\n    position: fixed;\n    bottom: 0px;\n    width: 100%;\n    background-color: #F9F9F9;\n    text-align: center;\n    z-index: 99;\n}\n</style>","import { render } from \"./CardView.vue?vue&type=template&id=937127d4\"\nimport script from \"./CardView.vue?vue&type=script&lang=js\"\nexport * from \"./CardView.vue?vue&type=script&lang=js\"\n\nimport \"./CardView.vue?vue&type=style&index=0&id=937127d4&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div id=\"dialog\">\n    <!-- 顶部导航导航栏 -->\n    <van-nav-bar :fixed=\"true\" :placeholder=\"true\" left-arrow @click-left=\"backToHomeMessage()\"\n      custom-style=\"z-index: 999;\">\n      <template #right>\n        <van-icon name=\"wap-nav\" size=\"20\" />\n      </template>\n      <template #title>\n        <div style=\"line-height: 20px;\">\n          {{ name }}\n          <br>\n          \n        </div>\n      </template>\n    </van-nav-bar>\n\n    <!-- 聊天会话内容区域 -->\n    <div id=\"dialog_content\" class=\"chat-container\">\n      <div class=\"messages\" ref=\"messagesContainer\">\n        <!-- 初始欢迎消息 -->\n        <div class=\"message-item ai-message\">\n\n          <div class=\"message-bubble\">\n            你好！我是{{ name }}\n          </div>\n        </div>\n\n        <!-- 动态消息列表 -->\n        <div v-for=\"(msg, index) in messages\" :key=\"index\"\n          :class=\"['message-item', msg.sender === 'user' ? 'user-message flex-row-reverse' : 'ai-message']\">\n\n\n\n          <!-- 文本消息 -->\n          <div v-if=\"msg.type === 'text'\" class=\"message-bubble\" :class=\"msg.isError ? 'error-message' : ''\">\n            {{ msg.content }}\n          </div>\n          <!-- 新增：格式化消息（Markdown） -->\n          <div v-if=\"msg.type === 'formatted'\" class=\"message-bubble markdown-bubble\">\n            <div v-html=\"msg.content\" class=\"markdown-render\"></div>\n          </div>\n          <!-- 语音消息 -->\n          <div v-if=\"msg.type === 'voice'\" class=\"voice-bubble\">\n            <div class=\"voice-controls\">\n              <van-icon :name=\"msg.isPlaying ? 'pause-circle' : 'play-circle'\" size=\"20\"\n                @click=\"toggleVoicePlayback(index)\" class=\"play-icon\" />\n              <div class=\"voice-wave\">\n                <div :style=\"{ height: '100%' }\"></div>\n                <div :style=\"{ height: '60%' }\"></div>\n                <div :style=\"{ height: '80%' }\"></div>\n                <div :style=\"{ height: '40%' }\"></div>\n              </div>\n              <span class=\"voice-duration\">{{ formatDuration(msg.duration) }}</span>\n            </div>\n\n            <!-- 语音操作按钮 -->\n            <div class=\"voice-actions\" v-if=\"msg.sender === 'user'\">\n              <van-button size=\"mini\" type=\"primary\" @click=\"convertVoiceToText(index)\" round>\n                转文字\n              </van-button>\n              <van-button size=\"mini\" type=\"info\" @click=\"analyzeVoiceTone(index)\" round>\n                分析语调\n              </van-button>\n              <van-button size=\"mini\" type=\"warning\" @click=\"calculateSpeechSpeed(index)\" round\n                :disabled=\"!msg.textResult\">\n                语速\n              </van-button>\n              <van-button size=\"mini\" type=\"success\" @click=\"analyzeLanguageLogic(index)\" round\n                :disabled=\"!msg.textResult\">\n                语言逻辑\n              </van-button>\n            </div>\n\n            <!-- 语音转文字结果 -->\n            <div v-if=\"msg.textResult\" class=\"voice-text-result\">\n              {{ msg.textResult }}\n            </div>\n\n            <!-- 语速计算结果 -->\n            <div v-if=\"msg.speechSpeed\" class=\"voice-speed-result\">\n              语速: {{ msg.speechSpeed }} 字/秒 (约 {{ Math.round(msg.speechSpeed * 60) }} 字/分钟)\n            </div>\n\n            <!-- 语调分析结果 -->\n            <div v-if=\"msg.toneResult\" class=\"voice-tone-result\">\n              <div>语调: {{ msg.toneResult.tone_type }}</div>\n              <div>基频均值: {{ msg.toneResult.f0_mean }}Hz</div>\n              <div>基频范围: {{ msg.toneResult.f0_min }}-{{ msg.toneResult.f0_max }}Hz</div>\n            </div>\n\n            <!-- 语言逻辑分析结果 -->\n            <div v-if=\"msg.logicResult\" class=\"voice-logic-result\">\n              <div><strong>语言逻辑分析:</strong></div>\n              <div>{{ msg.logicResult.analysis }}</div>\n              <div v-if=\"msg.logicResult.score\"><strong>连贯性评分:</strong> {{ msg.logicResult.score }}/10</div>\n            </div>\n          </div>\n\n          <!-- 表情和姿态分析消息 -->\n          <div v-if=\"msg.type === 'expression'\" class=\"expression-bubble\">\n            <div class=\"expression-image-container\">\n              <img :src=\"msg.imageUrl\" class=\"expression-image\" alt=\"表情和姿态分析截图\">\n            </div>\n\n            <!-- 表情分析结果 -->\n            <div  class=\"expression-results\">\n              <div><strong>表情与动作分析:</strong></div>\n              \n              <div>{{ msg.expressionResults.result }}</div>\n            </div>\n\n            <!-- 姿态分析结果 -->\n            <div v-if=\"msg.poseResult\" class=\"pose-result\">\n              <div><strong>姿态分析:</strong></div>\n              <div>动作: {{ msg.poseResult.pose }}</div>\n              <div>置信度: {{ (msg.poseResult.score * 100).toFixed(1) }}%</div>\n              <div>帧率: {{ msg.poseResult.fps }}fps</div>\n            </div>\n\n            <!-- 综合分析结果 -->\n            <div v-if=\"msg.comprehensiveAnalysis\" class=\"comprehensive-analysis\">\n              <div><strong>综合分析:</strong></div>\n              <div>{{ msg.comprehensiveAnalysis }}</div>\n            </div>\n\n            <!-- 操作按钮 -->\n            <div class=\"expression-actions\" v-if=\"msg.sender === 'user'\">\n              <van-button size=\"mini\" type=\"primary\" @click=\"analyzeComprehensive(index)\" round>\n                综合分析\n              </van-button>\n              <van-button size=\"mini\" type=\"success\" @click=\"saveAnalysisToStorage(msg)\" round>\n                保存分析\n              </van-button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 正在输入指示器 -->\n        <div v-if=\"isTyping\" :id=\"typingId\" class=\"message-item ai-message\">\n          <div class=\"avatar\">\n\n          </div>\n          <div class=\"message-bubble typing\">\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 底部输入栏 -->\n    <div id=\"dialog_bottombar\">\n      <div id=\"dialog_bottombar_inside\">\n        <!-- 使用flex布局将输入框和发送按钮放在同一行 -->\n        <div style=\"display: flex; align-items: flex-end; gap: 8px;\">\n          <van-field type=\"textarea\" rows=\"1\" :autosize=\"{ maxHeight: 100, minHeight: 40 }\" v-model=\"message\"\n            style=\"border-radius:25px; padding:10px; flex: 1;\" @keypress.enter.prevent=\"sendMessage\"\n            placeholder=\"输入消息...\" />\n\n          <!-- 发送按钮移至输入框右侧 -->\n          <van-button round type=\"primary\" size=\"small\" @click=\"sendMessage\"\n            style=\"width:60px; height:60px; padding:0; display:flex; align-items:center; justify-content:center;\"\n            :disabled=\"!message.trim()\">\n            发送\n            <van-icon name=\"paper-plane-o\" size=\"16\" style=\"margin-left: 2px;\" />\n          </van-button>\n        </div>\n\n        <van-row style=\"padding-top: 8px;\">\n          <van-col span=\"8\" style=\"text-align:center;\">\n            <van-icon :name=\"isRecording ? 'stop' : require('@/assets/icon/icon_dialog_语音.png')\" size=\"20\"\n              @click=\"startInterviewProcess()\" />\n          </van-col>\n          <van-col span=\"8\" style=\"text-align:center;\">\n            <van-icon name=\"image\" size=\"20\" />\n          </van-col>\n          <van-col span=\"4\" style=\"text-align:center;\">\n            <van-icon :name=\"require('@/assets/icon/icon_dialog_相机.png')\" size=\"20\" @click=\"toggleCamera\"\n              :class=\"isCameraActive ? 'camera-active' : ''\" />\n          </van-col>\n          <van-col span=\"4\" style=\"text-align:center;\">\n            <van-icon name=\"red-envelope\" size=\"20\" />\n          </van-col>\n          \n          <!-- 移除原发送按钮所在的van-col -->\n        </van-row>\n      </div>\n\n    </div>\n\n    <van-popup \n      v-model:show=\"isCameraModalVisible\" \n      :style=\"{\n        width: popupWidth + 'px',   // 动态宽度\n        height: popupHeight + 'px', // 动态高度\n        left: popupLeft + 'px',     // 动态左偏移\n        top: popupTop + 'px',       // 动态上偏移\n        'z-index': 100,\n        background: 'white',\n        borderRadius: '12px',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n        overflow: 'hidden',\n        position: 'fixed',  // 固定定位，支持自由移动\n        margin: 0           // 清除默认margin\n      }\" \n      :overlay=\"false\"\n      :position=\"null\"\n    >\n      <!-- 弹窗头部（可拖拽区域） -->\n      <!-- 开始拖拽 -->\n      <div \n        class=\"camera-header\"\n        style=\"padding: 12px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; cursor: move;\"\n        @mousedown=\"startDrag\"\n      >\n        <h3 style=\"margin: 0; font-size: 16px;\">表情与姿态识别</h3>\n        <van-icon name=\"close\" @click=\"toggleCamera\" style=\"font-size: 20px; cursor: pointer;\" />\n      </div>\n\n      <!-- 相机预览区域 -->\n      <div class=\"camera-preview\" style=\"flex: 1; padding: 10px; box-sizing: border-box; position: relative;\">\n        <video ref=\"videoElement\" autoplay playsinline class=\"camera-video\"\n          style=\"width: 100%; height: 100%; object-fit: cover; border-radius: 8px;\"></video>\n\n        <!-- 加载中状态 -->\n        <div v-if=\"isLoadingCamera\"\n          style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;\">\n          <van-loading type=\"spinner\" color=\"#1677ff\" />\n          <p style=\"margin-top: 8px; color: #666;\">正在初始化相机...</p>\n        </div>\n\n        <!-- 错误提示 -->\n        <div v-if=\"cameraError\"\n          style=\"position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; color: #f53f3f;\">\n          <van-icon name=\"warning-circle\" color=\"#f53f3f\" size=\"24\" />\n          <p style=\"margin-top: 8px;\">{{ cameraError }}</p>\n        </div>\n      </div>\n\n      <!-- 相机控制按钮 -->\n      <div class=\"camera-controls\" style=\"padding: 12px; display: flex; gap: 10px; justify-content: center;\">\n        <van-button type=\"primary\" round @click=\"captureImage\" :disabled=\"!isCameraActive || isProcessingImage\"\n          style=\"padding: 8px 20px;\">\n          <van-icon name=\"camera\" size=\"18\" style=\"margin-right: 5px;\" />\n          {{ isProcessingImage ? '处理中...' : '拍照分析' }}\n        </van-button>\n\n        <van-button type=\"info\" round @click=\"startContinuousAnalysis\"\n          :disabled=\"!isCameraActive || isAnalyzingContinuously\" style=\"padding: 8px 20px;\">\n          <van-icon name=\"play\" size=\"18\" style=\"margin-right: 5px;\" />\n          {{ isAnalyzingContinuously ? '停止连续分析' : '连续分析' }}\n        </van-button>\n      </div>\n\n      <!-- 右下角 resize 手柄（用于调整大小） -->\n      <div \n        class=\"resize-handle\"\n        style=\"position: absolute; right: 0; bottom: 0; width: 15px; height: 15px; cursor: nwse-resize; background: #1677ff; border-radius: 0 0 12px 0;\"\n        @mousedown=\"startResize\"\n      ></div>\n    </van-popup>\n\n\n    <!-- 评测报告弹窗 -->\n    <van-popup v-model:show=\"isReportVisible\" position=\"center\"\n      :style=\"{ width: '90%', maxWidth: '800px', height: '90%', overflow: 'auto' }\">\n      <div class=\"report-container\">\n        <div class=\"report-header\">\n          <h2>面试多维度评估报告</h2>\n          <van-icon name=\"close\" @click=\"isReportVisible = false\" class=\"close-icon\" />\n        </div>\n\n        <div v-if=\"reportLoading\" class=\"report-loading\">\n          <van-loading type=\"spinner\" color=\"#1677ff\" size=\"30\" />\n          <p>正在生成评估报告...</p>\n        </div>\n\n        <div v-else-if=\"reportError\" class=\"report-error\">\n          <van-icon name=\"warning-circle\" color=\"#f53f3f\" size=\"24\" />\n          <p>{{ reportError }}</p>\n          <van-button @click=\"generateReportFromStorage\" type=\"primary\" round>重试</van-button>\n        </div>\n\n        <div v-else class=\"report-content\">\n          <!-- 雷达图区域 -->\n          <div class=\"radar-chart-container\">\n            <h3 class=\"chart-title\">多维度能力雷达图</h3>\n            <div class=\"chart-wrapper\">\n              <canvas ref=\"radarChart\" width=\"400\" height=\"300\"></canvas>\n            </div>\n          </div>\n\n          <!-- 能力详情区域 -->\n          <div class=\"ability-details-container\">\n            <h3 class=\"details-title\">各维度评分详情</h3>\n            <div class=\"details-list\">\n              <div v-for=\"(item, index) in reportIndicators\" :key=\"index\" class=\"detail-item\">\n                <span class=\"indicator-name\">{{ item }}</span>\n                <span class=\"score-value\" :class=\"getScoreClass(reportValues[index])\">\n                  {{ reportValues[index] }}分 ({{ getScoreLevel(reportValues[index]) }})\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <!-- 详细分析区域 -->\n          <div class=\"analysis-container\">\n            <h3 class=\"analysis-title\">详细分析</h3>\n\n            <div class=\"analysis-section\">\n              <h4>专业知识水平</h4>\n              <p>{{ professionalKnowledgeAnalysis || '暂无数据' }}</p>\n              <p v-if=\"firstQuestion\"><strong>问题:</strong> {{ firstQuestion }}</p>\n              <p v-if=\"firstResult\"><strong>回答:</strong> {{ firstResult }}</p>\n            </div>\n\n            <div class=\"analysis-section\">\n              <h4>技能匹配度</h4>\n              <p>{{ skillMatchAnalysis || '暂无数据' }}</p>\n              <p v-if=\"secondQuestion\"><strong>问题:</strong> {{ secondQuestion }}</p>\n              <p v-if=\"secondResult\"><strong>回答:</strong> {{ secondResult }}</p>\n            </div>\n\n            <div class=\"analysis-section\">\n              <h4>语言表达能力</h4>\n              <p>{{ languageExpressionAnalysis || '暂无数据' }}</p>\n              <p v-if=\"thirdQuestion\"><strong>问题:</strong> {{ thirdQuestion }}</p>\n              <p v-if=\"thirdResult\"><strong>回答:</strong> {{ thirdResult }}</p>\n            </div>\n\n            <div class=\"analysis-section\">\n              <h4>逻辑思维能力</h4>\n              <p>{{ logicalThinkingAnalysis || '暂无数据' }}</p>\n              <p v-if=\"fourthQuestion\"><strong>问题:</strong> {{ fourthQuestion }}</p>\n              <p v-if=\"fourthResult\"><strong>回答:</strong> {{ fourthResult }}</p>\n            </div>\n\n            <div class=\"analysis-section\">\n              <h4>创新能力</h4>\n              <p>{{ innovationAbilityAnalysis || '暂无数据' }}</p>\n              <p v-if=\"fifthQuestion\"><strong>问题:</strong> {{ fifthQuestion }}</p>\n              <p v-if=\"fifthResult\"><strong>回答:</strong> {{ fifthResult }}</p>\n            </div>\n          </div>\n          <!-- 在报告的详细分析区域下方添加新内容 -->\n          <div class=\"analysis-container\">\n            <h3 class=\"analysis-title\">关键问题定位</h3>\n            <div class=\"issue-location\">\n              <p>{{ keyIssues || '暂无关键问题定位' }}</p>\n\n              <div v-if=\"issueExamples && issueExamples.length\">\n                <h4>具体表现示例:</h4>\n                <ul>\n                  <li v-for=\"(example, index) in issueExamples\" :key=\"index\">\n                    {{ example }}\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"analysis-container\">\n            <h3 class=\"analysis-title\">反馈建议</h3>\n            <div class=\"feedback-suggestions\">\n              <div v-if=\"feedbackCategories && feedbackCategories.length\">\n                <div v-for=\"(category, catIndex) in feedbackCategories\" :key=\"catIndex\" class=\"feedback-category\">\n                  <h4>{{ category.title }}</h4>\n                  <ul>\n                    <li v-for=\"(suggestion, sugIndex) in category.suggestions\" :key=\"sugIndex\">\n                      {{ suggestion }}\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <p v-else>暂无具体反馈建议</p>\n            </div>\n          </div>\n          <!-- 综合评价 -->\n          <div class=\"summary-container\">\n            <h3 class=\"summary-title\">综合评价与建议</h3>\n            <div class=\"summary-content\">\n              <p>{{ comprehensiveEvaluation || '暂无综合评价' }}</p>\n\n              <h4>改进建议</h4>\n              <ul v-if=\"improvementSuggestions.length\">\n                <li v-for=\"(suggestion, index) in improvementSuggestions\" :key=\"index\">\n                  {{ suggestion }}\n                </li>\n              </ul>\n              <p v-else>暂无建议</p>\n            </div>\n          </div>\n\n          <!-- 响应体展示区域 -->\n          <div class=\"response-body-container\">\n            <h3 class=\"response-body-title\">原始响应数据</h3>\n            <div class=\"response-body-content\">\n              <pre>{{ formattedReportResponse }}</pre>\n            </div>\n          </div>\n        </div>\n      </div>\n    </van-popup>\n\n    <!-- 录音提示 -->\n    <div v-if=\"isRecording\" class=\"recording-indicator\">\n      <div class=\"recording-dot\"></div>\n      <p>正在录音...{{ recordingSeconds }}s</p>\n      <p>松开结束录音</p>\n    </div>\n\n    <!-- 服务状态提示 -->\n    <div class=\"status-bar\" :class=\"statusClass\" style=\"z-index: 998;\">\n      {{ statusText }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Chart, registerables, RadarController } from 'chart.js';\n\nexport default {\n  data() {\n    return {\n    // 弹窗初始位置和尺寸（可根据需求调整）\n      popupWidth: 300,\n      popupHeight: 600,\n      popupLeft: 500,\n      popupTop: 100,\n      \n      // 拖拽相关状态\n      isDragging: false,\n      startX: 0,\n      startY: 0,\n      \n      // 调整大小相关状态\n      isResizing: false,\n      startWidth: 0,\n      startHeight: 0,\n      msg: {\n        // 提前初始化 expressionResults 为数组，避免 undefined\n        expressionResults: []\n      },\n      // 关键问题定位\n      keyIssues: '',\n      issueExamples: [],\n\n      // 反馈建议\n      feedbackCategories: [],\n\n      name: this.$route.params.name,\n      message: \"\",\n      messages: [],\n      isTyping: false,\n      typingId: \"\",\n      API_BASE_URL: 'https://123.56.203.202',\n      statusText: '连接中...',\n      statusClass: 'text-xs text-gray-500 mt-2 text-center',\n      commonHeaders: {\n        'ngrok-skip-browser-warning': '1'\n      },\n\n      // 语音相关状态\n      isRecording: false,\n      mediaRecorder: null,\n      audioBlob: null,\n      recordingSeconds: 0,\n      recordingTimer: null,\n      audioContext: null,\n      audioElements: {},\n      mediaStream: null,\n      audioChunks: [],\n      transcribeCount: 0, // 转写计数，用于跟踪是第几次转写\n\n      // 相机相关状态\n      isCameraModalVisible: false,\n      isCameraActive: false,\n      isLoadingCamera: false,\n      cameraError: null,\n      isProcessingImage: false,\n      isAnalyzingContinuously: false,\n      continuousAnalysisTimer: null,\n      detectionInterval: null,\n      videoStream: null,\n\n      // 评测报告相关状态\n      isReportVisible: false,\n      reportLoading: false,\n      reportError: '',\n      chart: null,\n      reportResponse: null, // 存储原始响应数据\n\n      // 报告数据 - 五个维度\n      reportIndicators: [\n        '专业知识水平',\n        '技能匹配度',\n        '语言表达能力',\n        '逻辑思维能力',\n        '创新能力'\n      ],\n      reportValues: [60, 60, 60, 60, 60],\n\n      // 问题和答案存储\n      firstQuestion: '',\n      secondQuestion: '',\n      thirdQuestion: '',\n      fourthQuestion: '',\n      fifthQuestion: '',\n      firstResult: '',\n      secondResult: '',\n      thirdResult: '',\n      fourthResult: '',\n      fifthResult: '',\n\n      // 详细分析数据\n      professionalKnowledgeAnalysis: '', // 专业知识水平\n      skillMatchAnalysis: '', // 技能匹配度\n      languageExpressionAnalysis: '', // 语言表达能力\n      logicalThinkingAnalysis: '', // 逻辑思维能力\n      innovationAbilityAnalysis: '', // 创新能力\n      comprehensiveEvaluation: '',\n      improvementSuggestions: []\n    };\n  },\n  computed: {\n    // 格式化响应体数据用于展示\n    formattedReportResponse() {\n      if (!this.reportResponse) return '无响应数据';\n      return JSON.stringify(this.reportResponse, null, 2);\n    }\n  },\n  mounted() {\n    this.testConnection();\n    this.initContainerHeight();\n    window.addEventListener('resize', this.initContainerHeight);\n    this.checkRecordingSupport();\n\n    // 从localStorage加载已保存的问题和答案\n    this.loadStoredQuestionsAndAnswers();\n\n    // 注册Chart.js组件\n    Chart.register(...registerables);\n    Chart.register(RadarController);\n    window.Chart = Chart;\n\n\n\n  },\n  beforeUnmount() {\n    window.removeEventListener('resize', this.initContainerHeight);\n    this.stopRecording();\n    Object.values(this.audioElements).forEach(audio => {\n      if (audio) {\n        audio.pause();\n      }\n    });\n\n    // 清理相机相关资源\n    this.stopCamera();\n    if (this.continuousAnalysisTimer) {\n      clearInterval(this.continuousAnalysisTimer);\n    }\n    if (this.detectionInterval) {\n      clearInterval(this.detectionInterval);\n    }\n\n    // 销毁图表\n    if (this.chart) {\n      this.chart.destroy();\n    }\n  },\n  methods: {\n     // 开始拖拽弹窗\n    startDrag(e) {\n      this.isDragging = true;\n      // 记录初始鼠标位置和弹窗位置\n      this.startX = e.clientX;\n      this.startY = e.clientY;\n      \n      // 绑定鼠标移动和释放事件\n      document.addEventListener('mousemove', this.handleDrag);\n      document.addEventListener('mouseup', this.stopDrag);\n      e.preventDefault(); // 防止拖动时选中文本\n    },\n    \n    // 处理拖拽逻辑\n    handleDrag(e) {\n      if (!this.isDragging) return;\n      \n      // 计算鼠标移动距离\n      const deltaX = e.clientX - this.startX;\n      const deltaY = e.clientY - this.startY;\n      \n      // 更新弹窗位置（限制在可视区域内）\n      const newLeft = this.popupLeft + deltaX;\n      const newTop = this.popupTop + deltaY;\n      \n      // 限制左边界不小于0\n      this.popupLeft = Math.max(0, newLeft);\n      // 限制上边界不小于0\n      this.popupTop = Math.max(0, newTop);\n      // 限制右边界不超过窗口宽度\n      this.popupLeft = Math.min(window.innerWidth - this.popupWidth, this.popupLeft);\n      // 限制下边界不超过窗口高度\n      this.popupTop = Math.min(window.innerHeight - this.popupHeight, this.popupTop);\n      \n      // 更新初始位置（用于下一次计算）\n      this.startX = e.clientX;\n      this.startY = e.clientY;\n    },\n    \n    // 停止拖拽\n    stopDrag() {\n      this.isDragging = false;\n      document.removeEventListener('mousemove', this.handleDrag);\n      document.removeEventListener('mouseup', this.stopDrag);\n    },\n    \n    // 开始调整大小\n    startResize(e) {\n      this.isResizing = true;\n      // 记录初始鼠标位置和弹窗尺寸\n      this.startX = e.clientX;\n      this.startY = e.clientY;\n      this.startWidth = this.popupWidth;\n      this.startHeight = this.popupHeight;\n      \n      // 绑定鼠标移动和释放事件\n      document.addEventListener('mousemove', this.handleResize);\n      document.addEventListener('mouseup', this.stopResize);\n      e.preventDefault(); // 防止拖动时选中文本\n    },\n    \n    // 处理调整大小逻辑\n    handleResize(e) {\n      if (!this.isResizing) return;\n      \n      // 计算鼠标移动距离（控制宽高变化）\n      const deltaWidth = e.clientX - this.startX;\n      const deltaHeight = e.clientY - this.startY;\n      \n      // 计算新的宽高（设置最小尺寸限制，避免过小）\n      const minWidth = 200;\n      const minHeight = 300;\n      this.popupWidth = Math.max(minWidth, this.startWidth + deltaWidth);\n      this.popupHeight = Math.max(minHeight, this.startHeight + deltaHeight);\n      \n      // 限制最大尺寸不超过窗口\n      this.popupWidth = Math.min(window.innerWidth - 50, this.popupWidth);\n      this.popupHeight = Math.min(window.innerHeight - 50, this.popupHeight);\n    },\n    \n    // 停止调整大小\n    stopResize() {\n      this.isResizing = false;\n      document.removeEventListener('mousemove', this.handleResize);\n      document.removeEventListener('mouseup', this.stopResize);\n    },\n    // 从localStorage加载已保存的问题和答案\n    loadStoredQuestionsAndAnswers() {\n      // 硬编码设置指定的五个问题到localStorage（如果不存在）\n      const defaultQuestions = [\n        {\n          id: \"firstQuestion\",\n          content: \"请详细阐述您对人工智能技术岗领域中核心概念和技术的理解，以及您在实际项目中如何应用这些知识解决问题。\"\n        },\n        {\n          id: \"secondQuestion\",\n          content: \"在人工智能技术岗岗位上，您认为哪些关键技能是必不可少的？请举例说明您在这些技能方面的掌握程度和实际应用经验。\"\n        },\n        {\n          id: \"thirdQuestion\",\n          content: \"请描述一次您需要向非技术团队成员清晰解释人工智能技术岗相关复杂技术概念的经历。您采用了什么方法确保对方理解？\"\n        },\n        {\n          id: \"fourthQuestion\",\n          content: \"在人工智能技术岗工作中，当面对一个复杂问题时，您的分析和解决问题的逻辑步骤是什么？请分享一个具体案例。\"\n        },\n        {\n          id: \"fifthQuestion\",\n          content: \"请分享一个您在人工智能技术岗相关项目中提出创新解决方案的经历。您是如何发现问题并提出新颖的解决思路的？\"\n        }\n      ];\n\n      // 初始化localStorage中的问题（如果不存在）\n      defaultQuestions.forEach(question => {\n        if (!localStorage.getItem(question.id)) {\n          localStorage.setItem(question.id, question.content);\n        }\n      });\n\n      // 从localStorage加载问题到组件\n      this.firstQuestion = localStorage.getItem(\"firstQuestion\") || '';\n      this.secondQuestion = localStorage.getItem(\"secondQuestion\") || '';\n      this.thirdQuestion = localStorage.getItem(\"thirdQuestion\") || '';\n      this.fourthQuestion = localStorage.getItem(\"fourthQuestion\") || '';\n      this.fifthQuestion = localStorage.getItem(\"fifthQuestion\") || '';\n\n      // 从localStorage加载答案到组件\n      this.firstResult = localStorage.getItem(\"firstResult\") || '';\n      this.secondResult = localStorage.getItem(\"secondResult\") || '';\n      this.thirdResult = localStorage.getItem(\"thirdResult\") || '';\n      this.fourthResult = localStorage.getItem(\"fourthResult\") || '';\n      this.fifthResult = localStorage.getItem(\"fifthResult\") || '';\n    },\n\n    startInterviewProcess() {\n  // 模拟avatarPlatform2已实例化\n  const avatarPlatform2 = true;\n\n  if (avatarPlatform2) {\n    // 初始调用 - 问候语（带自动播放视频）\n    let username = localStorage.getItem(\"username\") || \"候选人\";\n    let career = localStorage.getItem(\"career\") || \"相关岗位\";\n    let text = `你好，${username}，欢迎面试${career}。接下来将进行面试环节，共有五道题目，涉及专业知识水平、技能匹配度、语言表达能力、逻辑思维能力和创新能力五个维度。请认真思考后回答。`;\n\n    // 创建视频元素并设置自动播放\n    const videoElement = document.createElement('video');\n    videoElement.controls = true; // 显示播放控件\n    videoElement.autoplay = true; // 自动播放\n    videoElement.muted = false; // 不静音\n    videoElement.style.width = \"100%\";\n    videoElement.style.maxWidth = \"600px\";\n    videoElement.style.marginTop = \"15px\";\n\n    // 添加视频源\n    const sourceElement = document.createElement('source');\n    sourceElement.src = \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang.mp4\";\n    sourceElement.type = \"video/mp4\";\n    videoElement.appendChild(sourceElement);\n\n    // 处理自动播放限制的兼容方案\n    videoElement.addEventListener('canplaythrough', () => {\n      // 尝试播放，处理浏览器自动播放政策限制\n      videoElement.play().catch(e => {\n        console.log('自动播放被浏览器限制，需要用户交互后播放:', e);\n        // 显示提示让用户手动播放\n        const playPrompt = document.createElement('p');\n        playPrompt.style.color = '#666';\n        playPrompt.style.fontSize = '14px';\n        playPrompt.textContent = '提示：请点击播放按钮观看面试说明';\n        messageContainer.appendChild(playPrompt);\n      });\n    });\n\n    // 创建包含文本和视频的容器\n    const messageContainer = document.createElement('div');\n    messageContainer.innerHTML = `<p>${text}</p>`;\n    messageContainer.appendChild(videoElement);\n\n    // 添加不支持视频的提示\n    const fallbackText = document.createTextNode(\"您的浏览器不支持视频播放功能\");\n    messageContainer.appendChild(fallbackText);\n\n    // 添加消息到界面\n    this.addMessage('ai', text, 'text');\n\n    // 设置30秒后自动显示面试题弹窗（横向单题展示）\n    setTimeout(() => {\n      // 硬编码岗位为人工智能技术岗\n      const career = \"人工智能技术岗\";\n\n      // 五道题目的文本内容\n      const questions = [\n        {\n          title: \"第一道题\",\n          text: '',\n          videoUrl: \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang1.mp4\",\n          id: \"first\"\n        },\n        {\n          title: \"第二道题\",\n          text: '',\n          videoUrl: \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang2.mp4\",\n          id: \"second\"\n        },\n        {\n          title: \"第三道题\",\n          text: '',\n          videoUrl: \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang3.mp4\",\n          id: \"third\"\n        },\n        {\n          title: \"第四道题\",\n          text: '',\n          videoUrl: \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang4.mp4\",\n          id: \"fourth\"\n        },\n        {\n          title: \"第五道题\",\n          text: '',\n          videoUrl: \"https://123.56.203.202/proxy_files?path=D%3A%5CTemp%5Crengongzhinengjishugang5.mp4\",\n          id: \"fifth\"\n        }\n      ];\n\n      // 当前题目索引\n      let currentIndex = 0;\n\n      // 弹窗位置和大小的默认值\n      const defaultWidth = 800;\n      const defaultHeight = 600;\n      const defaultLeft = (window.innerWidth - defaultWidth) / 2;\n      const defaultTop = (window.innerHeight - defaultHeight) / 2;\n\n      // 创建弹窗元素（背景遮罩）\n      const modal = document.createElement('div');\n      modal.style.cssText = `\nposition: fixed;\ntop: 0;\nleft: 0;\nwidth: 100%;\nheight: 100%;\nbackground: rgba(0,0,0,0.5);\n\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nbackground: rgba(0,0,0,0.1); /* 降低透明度 */\n  z-index: 999; /* 降低z-index，确保主页面元素可交互 */\n  pointer-events: none; /* 关键：允许点击穿透遮罩层 */\n`;\n\n      // 创建可拖拽的弹窗容器\n      const draggableModal = document.createElement('div');\n      draggableModal.style.cssText = `\nwidth: ${defaultWidth}px;\nheight: ${defaultHeight}px;\nleft: ${defaultLeft}px;\ntop: ${defaultTop}px;\nposition: absolute;\nbox-shadow: 0 4px 20px rgba(0,0,0,0.15);\nborder-radius: 12px;\noverflow: hidden;\ndisplay: flex;\nflex-direction: column;\nz-index: 1000; /* 确保弹窗在遮罩层上方 */\n  pointer-events: auto; /* 确保弹窗自身可交互 */\n`;\n\n      // 弹窗标题栏（可拖拽区域）\n      const modalHeader = document.createElement('div');\n      \n      modalHeader.style.cssText = `\nbackground: #f8f9fa;\npadding: 15px 20px;\nborder-bottom: 1px solid #eee;\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\ncursor: move;\n`;\n      \n      // 标题文本\n      const headerTitle = document.createElement('h3');\n      headerTitle.textContent = '面试题目';\n      headerTitle.style.cssText = `\nmargin: 0;\nfont-size: 16px;\ncolor: #333;\n`;\n      \n      // 关闭按钮\n      const closeButton = document.createElement('button');\n      closeButton.innerHTML = '×';\n      closeButton.style.cssText = `\nbackground: none;\nborder: none;\nfont-size: 20px;\ncursor: pointer;\ncolor: #666;\npadding: 0 10px;\nline-height: 1;\n`;\n      \n      modalHeader.appendChild(headerTitle);\n      modalHeader.appendChild(closeButton);\n      // 就在这里添加关闭按钮的点击事件（这是关键的添加位置）\ncloseButton.addEventListener('click', () => {\n  if (confirm('确定要关闭吗？已填写的回答可能会丢失。')) {\n    document.body.removeChild(modal);\n  }\n});\n\n      // 弹窗内容容器\n      const modalContainer = document.createElement('div');\n      modalContainer.style.cssText = `\nbackground: white;\nflex: 1;\ndisplay: flex;\nflex-direction: column;\noverflow: hidden;\n`;\n\n      // 题目导航指示器\n      const progressIndicator = document.createElement('div');\n      progressIndicator.id = 'progressIndicator';\n      progressIndicator.style.cssText = `\ndisplay: flex;\njustify-content: center;\nmargin: 15px 0;\ngap: 8px;\npadding: 0 20px;\n`;\n\n      // 创建进度点\n      questions.forEach((_, index) => {\n        const dot = document.createElement('div');\n        dot.id = `progress-${index}`;\n        dot.style.cssText = `\nwidth: 12px;\nheight: 12px;\nborder-radius: 50%;\nbackground: #ddd;\ntransition: all 0.3s ease;\n`;\n        progressIndicator.appendChild(dot);\n      });\n\n      // 题目内容区域 - 添加滚动功能\n      const questionContentWrapper = document.createElement('div');\n      questionContentWrapper.style.cssText = `\nflex: 1;\noverflow-y: auto;\npadding: 0 20px;\n`;\n\n      // 题目内容容器\n      const questionContent = document.createElement('div');\n      questionContent.id = 'questionContent';\n      questionContentWrapper.appendChild(questionContent);\n\n      // 按钮区域\n      const buttonContainer = document.createElement('div');\n      buttonContainer.style.cssText = `\ndisplay: flex;\njustify-content: space-between;\npadding: 15px 20px;\nborder-top: 1px solid #eee;\n`;\n\n      // 上一题按钮\n      const prevButton = document.createElement('button');\n      prevButton.textContent = '上一题';\n      prevButton.style.cssText = `\nbackground: #f0f0f0;\ncolor: #333;\nborder: none;\npadding: 10px 20px;\nborder-radius: 6px;\ncursor: pointer;\nfont-size: 14px;\ntransition: background 0.3s;\n`;\n      prevButton.addEventListener('mouseover', () => prevButton.style.background = '#e0e0e0');\n      prevButton.addEventListener('mouseout', () => prevButton.style.background = '#f0f0f0');\n\n      // 下一题/提交按钮\n      const nextButton = document.createElement('button');\n      nextButton.textContent = '下一题';\n      nextButton.style.cssText = `\nbackground: #4CAF50;\ncolor: white;\nborder: none;\npadding: 10px 20px;\nborder-radius: 6px;\ncursor: pointer;\nfont-size: 14px;\ntransition: background 0.3s;\n`;\n      nextButton.addEventListener('mouseover', () => nextButton.style.background = '#45a049');\n      nextButton.addEventListener('mouseout', () => nextButton.style.background = '#4CAF50');\n\n      // 右下角调整大小手柄\n      const resizeHandle = document.createElement('div');\n      resizeHandle.style.cssText = `\nposition: absolute;\nright: 0;\nbottom: 0;\nwidth: 15px;\nheight: 15px;\ncursor: nwse-resize;\nbackground: #4CAF50;\nborder-radius: 4px 0 0 0;\n`;\n\n      // 组装弹窗\n      buttonContainer.appendChild(prevButton);\n      buttonContainer.appendChild(nextButton);\n      modalContainer.appendChild(progressIndicator);\n      modalContainer.appendChild(questionContentWrapper);\n      modalContainer.appendChild(buttonContainer);\n      draggableModal.appendChild(modalHeader);\n      draggableModal.appendChild(modalContainer);\n      draggableModal.appendChild(resizeHandle);\n      modal.appendChild(draggableModal);\n      document.body.appendChild(modal);\n\n      // 渲染当前题目\n      function renderCurrentQuestion() {\n        const question = questions[currentIndex];\n\n        // 更新进度指示器\n        document.querySelectorAll('#progressIndicator div').forEach((dot, index) => {\n          if (index < currentIndex) {\n            dot.style.background = '#4CAF50'; // 已完成\n          } else if (index === currentIndex) {\n            dot.style.background = '#2196F3'; // 当前\n            dot.style.transform = 'scale(1.2)';\n          } else {\n            dot.style.background = '#ddd'; // 未完成\n            dot.style.transform = 'scale(1)';\n          }\n        });\n\n        // 检查是否有已保存的回答\n        const savedAnswer = localStorage.getItem(`${question.id}Result`) || '';\n\n        // 渲染题目内容，包含语音识别控件\n        questionContent.innerHTML = `\n<h2 style=\"margin-top: 0; color: #333; font-size: 20px;\">${question.title}</h2>\n<p style=\"font-size: 16px; line-height: 1.6; color: #555; margin: 15px 0;\">${question.text}</p>\n\n<div style=\"margin: 20px 0;\">\n  <p style=\"margin-bottom: 10px; font-weight: 500;\">相关视频参考：</p>\n  <video controls style=\"width: 100%; max-height: 300px; object-fit: contain;\">\n    <source src=\"${question.videoUrl}\" type=\"video/mp4\">\n    您的浏览器不支持视频播放\n   </video>\n</div>\n\n<!-- 语音输入控件 -->\n<div style=\"margin: 15px 0; padding: 15px; background: #f9f9f9; border-radius: 6px;\">\n  <div style=\"display: flex; gap: 10px; margin-bottom: 15px;\">\n    <button id=\"startRecord\" style=\"background: #4CAF50; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;\">\n      开始录音\n    </button>\n    <button id=\"stopRecord\" style=\"background: #f44336; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; display: none;\">\n      停止录音\n    </button>\n  </div>\n  \n  <!-- 语音分析结果展示 -->\n  <div style=\"font-size: 14px; color: #666; margin-top: 10px;\">\n    <p>语调状态：<span id=\"toneStatus\">未检测</span></p>\n    <p>语速：<span id=\"speedStatus\">未计算</span>（字/秒）</p>\n    <p>录音时长：<span id=\"recordTime\">0秒</span></p>\n  </div>\n</div>\n\n<textarea id=\"${question.id}Answer\" style=\"width: 100%; height: 200px; margin: 15px 0; padding: 12px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; resize: vertical;\" placeholder=\"请输入您的回答...\">${savedAnswer}</textarea>\n`;\n\n        // 初始化语音识别和音频分析\n        initSpeechRecognition(question.id);\n\n        // 更新按钮状态\n        prevButton.disabled = currentIndex === 0;\n        prevButton.style.opacity = currentIndex === 0 ? '0.5' : '1';\n        prevButton.style.cursor = currentIndex === 0 ? 'not-allowed' : 'pointer';\n\n        // 最后一题显示提交按钮\n        if (currentIndex === questions.length - 1) {\n          nextButton.textContent = '提交回答';\n          nextButton.style.background = '#2196F3';\n        } else {\n          nextButton.textContent = '下一题';\n          nextButton.style.background = '#4CAF50';\n        }\n\n        // 重置滚动位置到顶部\n        questionContentWrapper.scrollTop = 0;\n      }\n\n      // 初始化语音识别和音频分析\n      function initSpeechRecognition(questionId) {\n        const startBtn = document.getElementById('startRecord');\n        const stopBtn = document.getElementById('stopRecord');\n        const toneStatus = document.getElementById('toneStatus');\n        const speedStatus = document.getElementById('speedStatus');\n        const recordTime = document.getElementById('recordTime');\n        const answerTextarea = document.getElementById(`${questionId}Answer`);\n\n        // 语音识别相关变量\n        let recognition;\n        let isRecording = false;\n        let recordStartTime = 0;\n        let recordDuration = 0; // 录音时长（秒）\n        let mediaRecorder;\n        let audioContext;\n        let analyser;\n        let dataArray;\n        let animationId;\n\n        // 初始化语音识别（基于Web Speech API）\n        function initRecognition() {\n          const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n          if (!SpeechRecognition) {\n            alert('您的浏览器不支持语音识别功能，请使用Chrome等现代浏览器');\n            return null;\n          }\n          const rec = new SpeechRecognition();\n          rec.continuous = true; // 持续识别\n          rec.interimResults = true; // 返回中间结果\n          rec.lang = 'zh-CN'; // 中文识别\n          return rec;\n        }\n\n        // 初始化音频分析器（检测语调）\n        function initAudioAnalyser(stream) {\n          audioContext = new (window.AudioContext || window.webkitAudioContext)();\n          analyser = audioContext.createAnalyser();\n          const source = audioContext.createMediaStreamSource(stream);\n          source.connect(analyser);\n          analyser.fftSize = 256; // 快速傅里叶变换大小\n          const bufferLength = analyser.frequencyBinCount;\n          dataArray = new Uint8Array(bufferLength);\n        }\n\n        // 实时分析语调（基于频率）\n        function analyzeTone() {\n          if (!isRecording) return;\n          analyser.getByteFrequencyData(dataArray);\n\n          // 计算平均频率（简单模拟语调：频率越高，语调越高）\n          let sum = 0;\n          dataArray.forEach(value => sum += value);\n          const averageFreq = sum / dataArray.length;\n\n          // 更新语调状态\n          if (averageFreq > 80) {\n            toneStatus.textContent = '语调偏高（情绪较激动）';\n            toneStatus.style.color = '#e53935';\n          } else if (averageFreq > 40) {\n            toneStatus.textContent = '语调适中';\n            toneStatus.style.color = '#43a047';\n          } else {\n            toneStatus.textContent = '语调偏低（情绪较平稳）';\n            toneStatus.style.color = '#1e88e5';\n          }\n\n          animationId = requestAnimationFrame(analyzeTone);\n        }\n\n        // 开始录音\n        startBtn.addEventListener('click', async () => {\n          if (isRecording) return;\n          isRecording = true;\n          startBtn.style.display = 'none';\n          stopBtn.style.display = 'inline-block';\n          recordStartTime = Date.now();\n\n          // 启动语音识别\n          recognition = initRecognition();\n          if (!recognition) return;\n          recognition.start();\n          recognition.onresult = (event) => {\n            // 拼接识别结果\n            let transcript = '';\n            for (let i = 0; i < event.results.length; i++) {\n              transcript += event.results[i][0].transcript;\n            }\n            answerTextarea.value = transcript; // 填充到文本框\n          };\n\n          // 启动音频流和分析器\n          try {\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n            mediaRecorder = new MediaRecorder(stream);\n            mediaRecorder.start();\n            initAudioAnalyser(stream);\n            analyzeTone(); // 开始实时语调分析\n\n            // 实时更新录音时长\n            function updateRecordTime() {\n              if (!isRecording) return;\n              recordDuration = Math.floor((Date.now() - recordStartTime) / 1000);\n              recordTime.textContent = `${recordDuration}秒`;\n              requestAnimationFrame(updateRecordTime);\n            }\n            updateRecordTime();\n          } catch (err) {\n            console.error('录音权限获取失败：', err);\n            alert('请允许麦克风权限以使用语音输入功能');\n            stopRecording();\n          }\n        });\n\n        // 停止录音\n        function stopRecording() {\n          if (!isRecording) return;\n          isRecording = false;\n          startBtn.style.display = 'inline-block';\n          stopBtn.style.display = 'none';\n          cancelAnimationFrame(animationId);\n\n          // 停止语音识别\n          if (recognition) recognition.stop();\n          // 停止录音\n          if (mediaRecorder) mediaRecorder.stop();\n          // 关闭音频上下文\n          if (audioContext) audioContext.close();\n\n          // 计算语速（字数 / 录音时长）\n          const text = answerTextarea.value.trim();\n          const charCount = text.length; // 文本长度（字数）\n          if (recordDuration > 0) {\n            const speed = (charCount / recordDuration).toFixed(1); // 保留1位小数\n            speedStatus.textContent = `${speed}字/秒`;\n\n            // 语速提示（参考：正常中文语速约2-3字/秒）\n            if (speed < 1.5) {\n              speedStatus.style.color = '#e53935';\n              speedStatus.textContent += '（偏慢）';\n            } else if (speed > 3.5) {\n              speedStatus.style.color = '#e53935';\n              speedStatus.textContent += '（偏快）';\n            } else {\n              speedStatus.style.color = '#43a047';\n              speedStatus.textContent += '（正常）';\n            }\n          }\n        }\n\n        stopBtn.addEventListener('click', stopRecording);\n      }\n\n      // 上一题按钮事件\n      prevButton.addEventListener('click', () => {\n        if (currentIndex > 0) {\n          // 保存当前回答\n          saveCurrentAnswer();\n          currentIndex--;\n          renderCurrentQuestion();\n        }\n      });\n\n      // 下一题/提交按钮事件\n      nextButton.addEventListener('click', () => {\n        const currentAnswer = document.querySelector(`#${questions[currentIndex].id}Answer`).value.trim();\n\n        // 验证当前回答\n        if (!currentAnswer) {\n          alert(`请完成${questions[currentIndex].title}的回答`);\n          return;\n        }\n\n        // 保存当前回答\n        saveCurrentAnswer();\n\n        // 最后一题则提交所有\n        if (currentIndex === questions.length - 1) {\n          // 提交所有回答\n          questions.forEach(question => {\n            const answer = localStorage.getItem(`${question.id}Result`) || '';\n            this.addMessage('user', `【${question.title}回答】${answer}`, 'text');\n          });\n\n          alert('所有回答已提交成功！');\n          document.body.removeChild(modal);\n        } else {\n          // 进入下一题\n          currentIndex++;\n          renderCurrentQuestion();\n        }\n      });\n\n      // 保存当前题目的回答\n      function saveCurrentAnswer() {\n        const question = questions[currentIndex];\n        const answer = document.querySelector(`#${question.id}Answer`).value.trim();\n        if (answer) {\n          localStorage.setItem(`${question.id}Result`, answer);\n        }\n      }\n\n      \n      // 拖拽功能实现\n      let isDragging = false;\n      let startX, startY, initialLeft, initialTop;\n\n      modalHeader.addEventListener('mousedown', (e) => {\n        isDragging = true;\n        startX = e.clientX;\n        startY = e.clientY;\n        initialLeft = parseInt(draggableModal.style.left);\n        initialTop = parseInt(draggableModal.style.top);\n        \n        // 添加拖拽时的样式\n        draggableModal.style.transition = 'none';\n        modalHeader.style.background = '#e9ecef';\n        \n        document.addEventListener('mousemove', handleDrag);\n        document.addEventListener('mouseup', stopDrag);\n        \n        e.preventDefault();\n      });\n\n      function handleDrag(e) {\n        if (!isDragging) return;\n        \n        const deltaX = e.clientX - startX;\n        const deltaY = e.clientY - startY;\n        \n        // 计算新位置并限制在窗口内\n        let newLeft = initialLeft + deltaX;\n        let newTop = initialTop + deltaY;\n        \n        // 限制在窗口内\n        newLeft = Math.max(0, Math.min(newLeft, window.innerWidth - draggableModal.offsetWidth));\n        newTop = Math.max(0, Math.min(newTop, window.innerHeight - draggableModal.offsetHeight));\n        \n        draggableModal.style.left = `${newLeft}px`;\n        draggableModal.style.top = `${newTop}px`;\n      }\n\n      function stopDrag() {\n        isDragging = false;\n        modalHeader.style.background = '';\n        document.removeEventListener('mousemove', handleDrag);\n        document.removeEventListener('mouseup', stopDrag);\n      }\n\n      // 调整大小功能实现\n      let isResizing = false;\n      let startWidth, startHeight;\n\n      resizeHandle.addEventListener('mousedown', (e) => {\n        isResizing = true;\n        startX = e.clientX;\n        startY = e.clientY;\n        startWidth = draggableModal.offsetWidth;\n        startHeight = draggableModal.offsetHeight;\n        \n        // 移除过渡效果，使调整更流畅\n        draggableModal.style.transition = 'none';\n        \n        document.addEventListener('mousemove', handleResize);\n        document.addEventListener('mouseup', stopResize);\n        \n        e.preventDefault();\n      });\n\n      function handleResize(e) {\n        if (!isResizing) return;\n        \n        // 计算新尺寸\n        const minWidth = 500;\n        const minHeight = 400;\n        const newWidth = Math.max(minWidth, startWidth + (e.clientX - startX));\n        const newHeight = Math.max(minHeight, startHeight + (e.clientY - startY));\n        \n        // 限制最大尺寸不超过窗口\n        const maxWidth = window.innerWidth - 50;\n        const maxHeight = window.innerHeight - 50;\n        \n        draggableModal.style.width = `${Math.min(newWidth, maxWidth)}px`;\n        draggableModal.style.height = `${Math.min(newHeight, maxHeight)}px`;\n      }\n\n      function stopResize() {\n        isResizing = false;\n        document.removeEventListener('mousemove', handleResize);\n        document.removeEventListener('mouseup', stopResize);\n      }\n\n      // 初始化显示第一题\n      renderCurrentQuestion();\n    }, 40000);\n  } else {\n    this.showStatus(\"请先实例化SDK\", 'error');\n  }\n},\n    \n\n\n\n    // 返回主页面消息界面\n    backToHomeMessage() {\n      this.$router.push('/home/message');\n    },\n\n    // 发送文本消息\n    async sendMessage() {\n      let prompt = this.message.trim();\n      if (!prompt) return;\n\n      // 检测输入是否为特定指令\n      const isLogicAnalysis = prompt.toLowerCase().includes('分析语言逻辑');\n      const isGenerateReport = prompt.toLowerCase().includes('生成可视化评测报告');\n      let constructedPrompt = prompt;\n\n      // 处理\"分析语言逻辑\"指令\n      if (isLogicAnalysis) {\n        constructedPrompt = this.buildLogicAnalysisPrompt();\n      }\n      // 处理\"生成可视化评测报告\"指令\n      else if (isGenerateReport) {\n        constructedPrompt = this.buildEvaluationReportPrompt();\n      }\n\n      this.addMessage('user', prompt, 'text');\n      this.message = '';\n      this.scrollToBottom();\n\n      const typingId = this.addTypingIndicator();\n\n      try {\n        fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: constructedPrompt })\n        }).then(response => {\n          this.removeTypingIndicator(typingId);\n\n          if (!response.ok) {\n            throw new Error(`请求失败: ${response.status}`);\n          }\n\n          return response.json();\n        }).then(data => {\n          if (data.status === 'success') {\n            const taskId = data.task_id;\n            const pollInterval = 20000; // 20秒轮询一次\n            const maxAttempts = 150;\n            let attempts = 0;\n\n            const pollForFile = () => {\n              if (attempts >= maxAttempts) {\n                this.addMessage('ai', '请求超时，请稍后再试', 'text', true);\n                this.scrollToBottom();\n                return;\n              }\n\n              attempts++;\n\n              fetch(`${this.API_BASE_URL}/get_task_file_url`, {\n                method: 'POST',\n                headers: {\n                  ...this.commonHeaders,\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({ task_id: taskId })\n              })\n                .then(response => {\n                  return response.json().then(data => ({ data, response }));\n                })\n                .then(({ data, response }) => {\n                  console.log('文件查询响应:', data);\n\n                  // 成功获取到文件信息\n                  if (data.status === 'success') {\n                    // 优先使用Markdown文件（如果存在）\n                    const targetFile = data.markdown || data.txt;\n\n                    if (targetFile && targetFile.file_url) {\n                      fetch(targetFile.file_url, {\n                        method: 'GET',\n                        headers: this.commonHeaders\n                      })\n                        .then(fileResponse => {\n                          if (!fileResponse.ok) {\n                            throw new Error(`文件加载失败: ${fileResponse.status}`);\n                          }\n                          return fileResponse.text();\n                        })\n                        .then(fileContent => {\n                          if (fileContent.trim() === 'processing') {\n                            // 处理中，继续轮询\n                            this.addMessage('ai', `处理中...((${attempts}/${maxAttempts}))`, 'text');\n                            this.scrollToBottom();\n                            setTimeout(pollForFile, pollInterval);\n                          } else {\n                            // 处理完成，根据文件类型和指令类型选择渲染方式\n                            if (isGenerateReport) {\n                              // 评测报告额外处理雷达图数据\n                              this.addMessage('ai', `已生成可视化评测报告:`, 'text');\n                              this.processAndRenderReport(fileContent, data.markdown ? true : false);\n                            } else if (data.markdown) {\n                              // Markdown内容使用格式化渲染\n                              this.addMessage('ai', `已获取分析结果（Markdown格式）:`, 'text');\n                              this.addFormattedMessageWithSpaces(fileContent);\n                            } else {\n                              // TXT内容直接显示\n                              this.addMessage('ai', `已获取分析结果:`, 'text');\n                              this.addMessage('ai', fileContent, 'text');\n                            }\n                            this.scrollToBottom();\n                          }\n                        })\n                        .catch(() => {\n                          this.addMessage('ai', `文件加载中...((${attempts}/${maxAttempts}))`, 'text');\n                          this.scrollToBottom();\n                          setTimeout(pollForFile, pollInterval);\n                        });\n                    } else {\n                      // 未找到有效文件URL\n                      this.addMessage('ai', `未找到文件...((${attempts}/${maxAttempts}))`, 'text');\n                      this.scrollToBottom();\n                      setTimeout(pollForFile, pollInterval);\n                    }\n                  }\n                  // 未找到文件但可能在处理中\n                  else if (response.status === 404 ||\n                    (data.status === 'error' && data.message.includes('未找到'))) {\n                    this.addMessage('ai', `内容生成中...((${attempts}/${maxAttempts}))`, 'text');\n                    this.scrollToBottom();\n                    setTimeout(pollForFile, pollInterval);\n                  }\n                  // 其他错误\n                  else {\n                    this.addMessage('ai', `获取文件失败: ${data.message || '未知错误'}`, 'text', true);\n                    this.scrollToBottom();\n                  }\n                })\n                .catch(error => {\n                  console.error('轮询错误:', error);\n                  this.addMessage('ai', `连接中...((${attempts}/${maxAttempts}))`, 'text');\n                  this.scrollToBottom();\n                  setTimeout(pollForFile, pollInterval);\n                });\n            };\n\n            pollForFile();\n          } else {\n            this.addMessage('ai', `错误: ${data.result}`, 'text', true);\n          }\n          this.scrollToBottom();\n        }).catch(error => {\n          this.removeTypingIndicator(typingId);\n          this.addMessage('ai', `请求失败: ${error.message}`, 'text', true);\n          this.scrollToBottom();\n          console.error('发送消息失败:', error);\n        });\n      } catch (error) {\n        this.removeTypingIndicator(typingId);\n        this.addMessage('ai', `请求失败: ${error.message}`, 'text', true);\n        this.scrollToBottom();\n        console.error('发送消息失败:', error);\n      }\n    },\n\n    // 构建语言逻辑分析的prompt\n    buildLogicAnalysisPrompt() {\n      const questions = this.getInterviewQuestions();\n\n      let prompt = \"请以下面试问题及对应的回答，分析回答的语言逻辑和连贯性，并给出评分(0-100分)和简要分析：\\n\\n\";\n\n      questions.forEach((item, i) => {\n        if (item.answer) {\n          prompt += `第${i + 1}题：${item.question}\\n`;\n          prompt += `回答：${item.answer}\\n\\n`;\n        }\n      });\n\n      return prompt;\n    },\n\n    // 构建生成可视化评测报告的prompt（优化版）\n    buildEvaluationReportPrompt() {\n      const questions = this.getInterviewQuestions();\n      const dimensions = [\n        \"专业知识水平\",\n        \"技能匹配度\",\n        \"语言表达能力\",\n        \"逻辑思维能力\",\n        \"创新能力\"\n      ];\n\n      // 生成唯一标识符，用于精确界定雷达数据的位置\n      const radarDataMarker = `RADAR_DATA_${Date.now()}_START`;\n      const radarDataEndMarker = `RADAR_DATA_${Date.now()}_END`;\n\n      let prompt = \"请基于以下5个面试问题及对应回答，生成一份详细的可视化评测报告。\\n\\n\";\n      prompt += \"【格式要求非常严格，请严格遵守，否则将导致报告无法正常解析】\\n\";\n      prompt += \"报告必须包含以下几个部分，且按以下顺序排列：\\n\\n\";\n\n      // 1. 雷达图数据部分 - 格式严格限定\n      prompt += \"1. 能力雷达图数据：\\n\";\n      prompt += `   请在${radarDataMarker}和${radarDataEndMarker}标记之间，为以下5个维度分别评分(0-100分)，\\n`;\n      prompt += \"   每个维度单独一行，格式必须为【维度名称: 评分】，不允许有其他内容或格式变化\\n\";\n      prompt += `   维度名称：${dimensions.join('、')}\\n`;\n      prompt += `   示例格式：\\n`;\n      prompt += `   ${radarDataMarker}\\n`;\n      prompt += `   专业知识水平: 80\\n`;\n      prompt += `   技能匹配度: 70\\n`;\n      prompt += `   语言表达能力: 90\\n`;\n      prompt += `   逻辑思维能力: 60\\n`;\n      prompt += `   创新能力: 80\\n`;\n      prompt += `   ${radarDataEndMarker}\\n\\n`;\n\n      // 2. 关键问题定位\n      prompt += \"2. 关键问题定位：\\n\";\n      prompt += \"   请使用项目符号(-)列出回答中存在的主要问题，每条问题单独一行\\n\";\n      prompt += \"   例如：\\n\";\n      prompt += \"   - 回答缺乏STAR结构\\n\";\n      prompt += \"   - 对专业术语的解释不够清晰\\n\\n\";\n\n      // 3. 企业决策建议\n      prompt += \"3. 企业决策建议：\\n\";\n      prompt += \"   请明确给出是否推荐录用的建议，并提供3-5条具体理由，使用项目符号(-)列出\\n\\n\";\n\n      // 4. 求职者个性化改进建议\n      prompt += \"4. 求职者个性化改进建议：\\n\";\n      prompt += \"   针对每个维度的不足，提供具体可行的改进方法，每个维度单独成段，开头注明维度名称\\n\\n\";\n\n      // 5. Markdown格式要求\n      prompt += \"5. 整体使用Markdown格式输出，包含适当的标题层级：\\n\";\n      prompt += \"   - 主标题：# 人工智能技术岗面试可视化评测报告\\n\";\n      prompt += \"   - 各部分标题：## 1. 能力雷达图数据、## 2. 关键问题定位等\\n\\n\";\n\n      // 面试问题与回答\n      prompt += \"【面试问题及回答】\\n\";\n      questions.forEach((item, i) => {\n        if (item.answer) {\n          prompt += `第${i + 1}题（${dimensions[i]}）：${item.question}\\n`;\n          prompt += `回答：${item.answer}\\n\\n`;\n        }\n      });\n\n      // 存储标记以便后续解析\n      this.radarDataMarkers = {\n        start: radarDataMarker,\n        end: radarDataEndMarker\n      };\n\n      return prompt;\n    },\n\n    // 从localStorage获取面试问题和答案\n    getInterviewQuestions() {\n      return [\n        {\n          question: localStorage.getItem('firstQuestion') || '第一道题',\n          answer: localStorage.getItem('firstResult') || ''\n        },\n        {\n          question: localStorage.getItem('secondQuestion') || '第二道题',\n          answer: localStorage.getItem('secondResult') || ''\n        },\n        {\n          question: localStorage.getItem('thirdQuestion') || '第三道题',\n          answer: localStorage.getItem('thirdResult') || ''\n        },\n        {\n          question: localStorage.getItem('fourthQuestion') || '第四道题',\n          answer: localStorage.getItem('fourthResult') || ''\n        },\n        {\n          question: localStorage.getItem('fifthQuestion') || '第五道题',\n          answer: localStorage.getItem('fifthResult') || ''\n        }\n      ];\n    },\n\n    // 处理并渲染评测报告，包括雷达图\n    processAndRenderReport(content, isMarkdown) {\n      try {\n        // 使用预设的标记提取雷达图数据\n        const { start, end } = this.radarDataMarkers || {};\n        let radarDataSection = '';\n\n        if (start && end) {\n          const startIndex = content.indexOf(start);\n          const endIndex = content.indexOf(end);\n\n          if (startIndex !== -1 && endIndex !== -1 && endIndex > startIndex) {\n            // 提取标记之间的内容\n            radarDataSection = content.substring(\n              startIndex + start.length,\n              endIndex\n            ).trim();\n          } else {\n            console.warn('未找到完整的雷达图数据标记');\n          }\n        } else {\n          console.warn('未设置雷达图数据标记');\n        }\n\n        // 提取雷达图数据\n        const dimensions = [\n          \"专业知识水平\",\n          \"技能匹配度\",\n          \"语言表达能力\",\n          \"逻辑思维能力\",\n          \"创新能力\"\n        ];\n\n        const radarData = {};\n\n        // 按行解析\n        if (radarDataSection) {\n          const lines = radarDataSection.split('\\n');\n          lines.forEach(line => {\n            // 使用严格的正则匹配格式\n            const match = line.match(/^\\s*([^:]+?)\\s*:\\s*(\\d+)\\s*$/);\n            if (match && match[1] && match[2]) {\n              const dimension = match[1].trim();\n              const score = parseInt(match[2], 10);\n\n              // 只处理我们需要的维度，评分范围改为0-100\n              if (dimensions.includes(dimension) && score >= 0 && score <= 100) {\n                radarData[dimension] = score;\n              }\n            }\n          });\n        }\n\n        // 检查是否有缺失的维度\n        dimensions.forEach(dimension => {\n          if (radarData[dimension] === undefined) {\n            console.warn(`维度\"${dimension}\"的分数未找到或格式不正确`);\n            radarData[dimension] = 0; // 默认为0分\n          }\n        });\n\n        // 生成雷达图容器，调整雷达图大小为400px高度\n        const radarContainerId = `radar-chart-${Date.now()}`;\n        let radarChartHtml = `<div class=\"radar-chart-container\">\n      <h3>能力雷达图</h3>\n      <!-- 调整雷达图大小 -->\n      <canvas id=\"${radarContainerId}\" style=\"width: 100%; height: 400px; max-width: 600px; margin: 0 auto;\"></canvas>\n    </div>`;\n\n        // 处理报告内容\n        let processedContent;\n        if (isMarkdown) {\n          processedContent = this.processMarkdownContent(content);\n          processedContent = radarChartHtml + processedContent;\n        } else {\n          processedContent = `<div class=\"report-content\">\n        ${radarChartHtml}\n        <div class=\"text-content\">${content.replace(/\\n/g, '<br>')}</div>\n      </div>`;\n        }\n\n        // 添加到消息列表\n        this.messages.push({\n          sender: 'ai',\n          type: 'formatted',\n          content: processedContent\n        });\n\n        // 确保DOM已更新后再渲染图表\n        this.$nextTick(() => {\n          // 检查Chart.js是否已加载\n          if (typeof Chart === 'undefined') {\n            // 动态加载Chart.js\n            const script = document.createElement('script');\n            script.src = 'https://cdn.jsdelivr.net/npm/chart.js';\n            script.onload = () => this.renderRadarChart(radarContainerId, radarData);\n            script.onerror = () => {\n              document.getElementById(radarContainerId).innerHTML =\n                '<p class=\"error-message\">无法加载图表库，请检查网络连接</p>';\n            };\n            document.head.appendChild(script);\n          } else {\n            this.renderRadarChart(radarContainerId, radarData);\n          }\n        });\n\n      } catch (error) {\n        console.error('处理评测报告失败:', error);\n        this.addMessage('ai', '评测报告处理失败，显示原始内容:', 'text', true);\n        this.addMessage('ai', content, 'text');\n      }\n    },\n\n    // 渲染雷达图\n    renderRadarChart(containerId, data) {\n      // 确保Chart.js已加载\n      if (typeof Chart === 'undefined') {\n        console.error('Chart.js未加载，无法渲染雷达图');\n        return;\n      }\n\n      // 增加重试机制\n      const maxRetries = 5;\n      let retries = 0;\n\n      const tryRender = () => {\n        const container = document.getElementById(containerId);\n\n        // 检查容器是否存在\n        if (!container) {\n          if (retries < maxRetries) {\n            retries++;\n            console.log(`重试获取图表容器 (${retries}/${maxRetries})`);\n            setTimeout(tryRender, 100); // 100ms后重试\n            return;\n          } else {\n            console.error(`无法找到ID为\"${containerId}\"的图表容器`);\n            return;\n          }\n        }\n\n        // 确保容器是canvas元素或包含canvas\n        let canvas;\n        if (container.tagName === 'CANVAS') {\n          canvas = container;\n        } else {\n          // 检查容器内是否已有canvas\n          canvas = container.querySelector('canvas');\n          if (!canvas) {\n            // 创建新的canvas元素\n            canvas = document.createElement('canvas');\n            container.innerHTML = ''; // 清空容器\n            container.appendChild(canvas);\n          }\n        }\n\n        // 准备雷达图数据\n        const labels = [\n          \"专业知识水平\",\n          \"技能匹配度\",\n          \"语言表达能力\",\n          \"逻辑思维能力\",\n          \"创新能力\"\n        ];\n\n        const values = labels.map(label => data[label] || 0);\n\n        // 销毁已存在的图表实例\n        if (container.chartInstance) {\n          container.chartInstance.destroy();\n        }\n\n        // 创建雷达图，将评分范围调整为0-100\n        container.chartInstance = new Chart(canvas.getContext('2d'), {\n          type: 'radar',\n          data: {\n            labels: labels,\n            datasets: [{\n              label: '能力评分',\n              data: values,\n              backgroundColor: 'rgba(54, 162, 235, 0.2)',\n              borderColor: 'rgba(54, 162, 235, 1)',\n              pointBackgroundColor: 'rgba(54, 162, 235, 1)',\n              pointBorderColor: '#fff',\n              pointHoverBackgroundColor: '#fff',\n              pointHoverBorderColor: 'rgba(54, 162, 235, 1)'\n            }]\n          },\n          options: {\n            scales: {\n              r: {\n                angleLines: {\n                  display: true\n                },\n                suggestedMin: 0,\n                suggestedMax: 100, // 评分范围改为0-100\n                ticks: {\n                  stepSize: 20, // 刻度间隔设为20，使0-100显示更合理\n                  callback: function (value) {\n                    return value + '%'; // 显示百分比符号\n                  }\n                }\n              }\n            },\n            plugins: {\n              legend: {\n                position: 'top',\n              },\n              tooltip: {\n                callbacks: {\n                  label: function (context) {\n                    return `${context.label}: ${context.raw}分`;\n                  }\n                }\n              }\n            }\n          }\n        });\n      };\n\n      // 开始尝试渲染\n      tryRender();\n    },\n\n    // 增强的格式化消息方法，支持Markdown渲染\n    addFormattedMessageWithSpaces(content) {\n      try {\n        if (!content || content.trim() === '') {\n          this.addMessage('ai', '没有返回内容', 'text');\n          return;\n        }\n\n        const processedContent = this.processMarkdownContent(content);\n\n        // 添加到消息列表\n        this.messages.push({\n          sender: 'ai',\n          type: 'formatted',\n          content: processedContent\n        });\n\n      } catch (error) {\n        console.error('格式化Markdown失败:', error);\n        this.addMessage('ai', '内容格式化失败，显示原始内容:', 'text', true);\n        this.addMessage('ai', content, 'text');\n      }\n    },\n    // 处理Markdown内容为HTML，确保透明样式生效\n    processMarkdownContent(content) {\n      // 标准化换行符\n      let processed = content.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n\n      // 处理思考内容标签，使用正确的正则表达式和样式\n      processed = processed.replace(\n        /<|FunctionCallBegin|>([\\s\\S]*?)<|FunctionCallEnd|>/g,  // 正确匹配</think>和<|FunctionCallEnd|>标签\n        // 使用明确的透明度样式，确保优先级\n        '<div style=\"color: rgba(107, 114, 128, 0.7); font-style: italic; background-color: rgba(243, 244, 246, 0.3); padding: 12px; border-radius: 0.5rem; border: 1px solid rgba(229, 231, 235, 0.5); margin: 1rem 0; display: block;\">思考过程: $1</div>'\n      );\n\n      // Markdown格式处理\n      processed = processed\n        // 处理标题\n        .replace(/^# (.*?)$/gm, '<h1 class=\"text-2xl font-bold my-4\">$1</h1>')\n        .replace(/^## (.*?)$/gm, '<h2 class=\"text-xl font-bold my-3\">$1</h2>')\n        .replace(/^### (.*?)$/gm, '<h3 class=\"text-lg font-bold my-2\">$1</h3>')\n        // 先处理有序列表\n        .replace(/^\\d+\\. (.*?)$/gm, '<li class=\"list-decimal\">$1</li>')\n        .replace(/(<li class=\"list-decimal\">.*?<\\/li>)+/gs, '<ol class=\"list-decimal pl-6 my-2\">$&</ol>')\n        // 再处理无序列表\n        .replace(/^- (.*?)$/gm, '<li class=\"list-disc\">$1</li>')\n        .replace(/(<li class=\"list-disc\">.*?<\\/li>)+/gs, '<ul class=\"list-disc pl-6 my-2\">$&</ul>')\n        // 处理加粗和斜体\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n        .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n        // 处理链接\n        .replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\" target=\"_blank\" class=\"text-blue-600 underline\">$1</a>')\n        // 处理换行\n        .replace(/(?![^<]*<\\/li>)\\n/g, '<br>');\n\n      // 构建HTML内容，添加容器样式以确保内部样式生效\n      return `<div class=\"formatted-content markdown-content\" style=\"font-family: sans-serif;\">${processed}</div>`;\n    },\n\n\n\n\n\n\n\n    // 停止录音\n    stopRecording() {\n      if (this.isRecording && this.mediaRecorder) {\n        this.mediaRecorder.stop();\n        this.isRecording = false;\n\n        if (this.recordingTimer) {\n          clearInterval(this.recordingTimer);\n          this.recordingTimer = null;\n        }\n\n        if (this.mediaStream) {\n          this.mediaStream.getTracks().forEach(track => track.stop());\n          this.mediaStream = null;\n        }\n\n        this.showStatus('录音已完成', 'success');\n      }\n    },\n\n    // 添加语音消息到列表\n    addVoiceMessage() {\n      if (!this.audioBlob) return;\n\n      const audioUrl = URL.createObjectURL(this.audioBlob);\n      const duration = this.recordingSeconds;\n\n      const audio = new Audio(audioUrl);\n\n      this.messages.push({\n        sender: 'user',\n        type: 'voice',\n        blob: this.audioBlob,\n        url: audioUrl,\n        duration: duration,\n        isPlaying: false,\n        textResult: null,\n        toneResult: null,\n        speechSpeed: null,\n        logicResult: null\n      });\n\n      this.audioElements[this.messages.length - 1] = audio;\n\n      this.scrollToBottom();\n    },\n\n    // 播放或暂停语音\n    toggleVoicePlayback(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'voice') return;\n\n      const audio = this.audioElements[index];\n      if (!audio) return;\n\n      if (msg.isPlaying) {\n        audio.pause();\n        msg.isPlaying = false;\n      } else {\n        this.messages.forEach((m, i) => {\n          if (m.isPlaying && i !== index) {\n            m.isPlaying = false;\n            const otherAudio = this.audioElements[i];\n            if (otherAudio) otherAudio.pause();\n          }\n        });\n\n        audio.play()\n          .then(() => {\n            msg.isPlaying = true;\n            audio.onended = () => {\n              msg.isPlaying = false;\n            };\n          })\n          .catch(error => {\n            console.error('播放失败:', error);\n            this.showStatus('播放失败，请重试', 'error');\n          });\n      }\n    },\n\n    // 语音转文字\n    //找到convertVoiceToText方法，修改如下：\n    async convertVoiceToText(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'voice' || !msg.blob) return;\n\n      this.showStatus('正在转换语音为文字...', 'info');\n\n      try {\n        const formData = new FormData();\n        formData.append('audio', msg.blob, 'recording.wav');\n\n        const response = await fetch(`${this.API_BASE_URL}/recognize_speech`, {\n          method: 'POST',\n          headers: this.commonHeaders,\n          body: formData\n        });\n\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error('语音转文字API错误:', errorText);\n          throw new Error(`服务器错误: ${response.status} - ${errorText.substring(0, 100)}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n          // 1. 确保更新消息对象\n          this.messages.splice(index, 1, {\n            ...this.messages[index],\n            textResult: data.text || '未能识别语音内容'\n          });\n\n          // 2. 转写计数循环使用1-5\n          this.transcribeCount = (this.transcribeCount % 5) + 1;\n\n          // 3. 根据次数存储结果，使用Vue的响应式更新\n          if (this.transcribeCount === 1) {\n            this.firstResult = data.text || '';\n            localStorage.setItem(\"firstResult\", this.firstResult);\n            console.log('第一次转写成功，' + this.firstResult);\n          } else if (this.transcribeCount === 2) {\n            this.secondResult = data.text || '';\n            localStorage.setItem(\"secondResult\", this.secondResult);\n            console.log('第二次转写成功，' + this.secondResult);\n          } else if (this.transcribeCount === 3) {\n            this.thirdResult = data.text || '';\n            localStorage.setItem(\"thirdResult\", this.thirdResult);\n            console.log('第三次转写成功，' + this.thirdResult);\n          } else if (this.transcribeCount === 4) {\n            this.fourthResult = data.text || '';\n            localStorage.setItem(\"fourthResult\", this.fourthResult);\n            console.log('第四次转写成功，' + this.fourthResult);\n          } else if (this.transcribeCount === 5) {\n            this.fifthResult = data.text || '';\n            localStorage.setItem(\"fifthResult\", this.fifthResult);\n            console.log('第五次转写成功，' + this.fifthResult);\n          }\n\n          // 4. 保存语言内容到localStorage\n          localStorage.setItem('interview_response_content', data.text || '');\n\n          this.showStatus('语音转文字成功', 'success');\n        } else {\n          throw new Error(data.message || '语音转文字失败');\n        }\n      } catch (error) {\n        console.error('语音转文字失败:', error);\n        this.showStatus(`转文字失败: ${error.message}`, 'error');\n      }\n    },\n\n\n    // 分析语调\n    async analyzeVoiceTone(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'voice' || !msg.blob) return;\n\n      this.showStatus('正在分析语调...', 'info');\n\n      try {\n        const formData = new FormData();\n        formData.append('audio', msg.blob, 'recording.wav');\n\n        const response = await fetch(`${this.API_BASE_URL}/extract_tone`, {\n          method: 'POST',\n          headers: this.commonHeaders,\n          body: formData\n        });\n\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error('语调分析API错误:', errorText);\n          throw new Error(`服务器错误: ${response.status} - ${errorText.substring(0, 100)}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n          // 使用扩展运算符创建新对象，触发响应式更新\n          this.messages[index] = {\n            ...this.messages[index],\n            toneResult: data.data\n          };\n\n          // 保存情感语调分析到localStorage（追加方式）\n          const existingTone = localStorage.getItem('interview_emotional_tone') || '';\n          const toneAnalysis = `语调类型: ${data.data.tone_type}, 基频均值: ${data.data.f0_mean}Hz, 基频范围: ${data.data.f0_min}-${data.data.f0_max}Hz`;\n          const newToneAnalysis = existingTone ? `${existingTone}\\n${toneAnalysis}` : toneAnalysis;\n          localStorage.setItem('interview_emotional_tone', newToneAnalysis);\n\n          this.showStatus('语调分析成功', 'success');\n        } else {\n          throw new Error(data.message || '语调分析失败');\n        }\n      } catch (error) {\n        console.error('语调分析失败:', error);\n        this.showStatus(`语调分析失败: ${error.message}`, 'error');\n      }\n    },\n\n    // 计算语速\n    calculateSpeechSpeed(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'voice' || !msg.textResult) return;\n\n      // 计算字数（去除空白字符）\n      const text = msg.textResult.trim();\n      const charCount = text.length;\n\n      // 音频时长（秒）\n      const duration = Math.max(msg.duration, 0.1); // 避免除以0\n\n      // 计算语速（字/秒）\n      const speed = (charCount / duration).toFixed(1);\n      const speedPerMinute = Math.round(speed * 60);\n\n      // 使用扩展运算符创建新对象，触发响应式更新\n      this.messages[index] = {\n        ...this.messages[index],\n        speechSpeed: speed\n      };\n\n      // 保存语速分析到localStorage（追加方式）\n      const existingSpeed = localStorage.getItem('interview_speech_rate') || '';\n      const speedAnalysis = `${speed} 字/秒 (约 ${speedPerMinute} 字/分钟)。${this.evaluateSpeechSpeed(speedPerMinute)}`;\n      const newSpeedAnalysis = existingSpeed ? `${existingSpeed}\\n${speedAnalysis}` : speedAnalysis;\n      localStorage.setItem('interview_speech_rate', newSpeedAnalysis);\n\n      this.showStatus('语速计算完成', 'success');\n    },\n\n    // 评估语速是否合理\n    evaluateSpeechSpeed(speedPerMinute) {\n      if (speedPerMinute < 120) {\n        return \"语速偏慢，可能影响表达效率\";\n      } else if (speedPerMinute > 180) {\n        return \"语速偏快，可能影响理解\";\n      } else {\n        return \"语速适中，表达节奏良好\";\n      }\n    },\n\n    // 分析语言逻辑\n    async analyzeLanguageLogic(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'voice' || !msg.textResult) return;\n\n      this.showStatus('正在分析语言逻辑...', 'info');\n\n      try {\n        // 从localStorage获取问题和对应的回答\n        const questions = [\n          {\n            question: localStorage.getItem('firstQuestion') || '第一道题',\n            answer: localStorage.getItem('firstResult') || ''\n          },\n          {\n            question: localStorage.getItem('secondQuestion') || '第二道题',\n            answer: localStorage.getItem('secondResult') || ''\n          },\n          {\n            question: localStorage.getItem('thirdQuestion') || '第三道题',\n            answer: localStorage.getItem('thirdResult') || ''\n          },\n          {\n            question: localStorage.getItem('fourthQuestion') || '第四道题',\n            answer: localStorage.getItem('fourthResult') || ''\n          },\n          {\n            question: localStorage.getItem('fifthQuestion') || '第五道题',\n            answer: localStorage.getItem('fifthResult') || ''\n          }\n        ];\n\n        // 构建包含问题和对应回答的prompt\n        let prompt = \"请以下面试问题及对应的回答，分析回答的语言逻辑和连贯性，并给出评分(1-10分)和简要分析：\\n\\n\";\n\n        questions.forEach((item, i) => {\n          if (item.answer) { // 只包含有回答的问题\n            prompt += `第${i + 1}题：${item.question}\\n`;\n            prompt += `回答：${item.answer}\\n\\n`;\n          }\n        });\n\n        // 添加当前消息的文本结果（如果需要包含）\n        prompt += `当前分析文本：${msg.textResult}\"`;\n\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) {\n          throw new Error(`请求失败: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n          // 提取评分（如果有的话）\n          let score = null;\n          const scoreMatch = data.result.match(/(\\d+(\\.\\d+)?)\\s*\\/\\s*10/);\n          if (scoreMatch && scoreMatch[1]) {\n            score = parseFloat(scoreMatch[1]);\n          }\n\n          // 使用扩展运算符创建新对象，触发响应式更新\n          this.messages[index] = {\n            ...this.messages[index],\n            logicResult: {\n              analysis: data.result,\n              score: score\n            }\n          };\n\n          // 保存语言逻辑分析到localStorage（追加方式）\n          const existingLogic = localStorage.getItem('interview_language_logic') || '';\n          const newLogicAnalysis = existingLogic ? `${existingLogic}\\n${data.result}` : data.result;\n          localStorage.setItem('interview_language_logic', newLogicAnalysis);\n\n          this.showStatus('语言逻辑分析完成', 'success');\n        } else {\n          throw new Error(data.result || '语言逻辑分析失败');\n        }\n      } catch (error) {\n        console.error('语言逻辑分析失败:', error);\n        this.showStatus(`语言逻辑分析失败: ${error.message}`, 'error');\n      }\n    },\n\n    // 保存分析结果到localStorage（追加方式）\n    saveAnalysisToStorage(msg) {\n      if (!msg || msg.type !== 'expression') return;\n\n      // 保存表情分析（追加方式）\n      if (msg.expressionResults && msg.expressionResults.length) {\n        let expressionsText = msg.expressionResults.map(exp =>\n          `${exp.emotion} (${(exp.confidence * 100).toFixed(1)}%)`\n        ).join('、');\n\n        const existingExpressions = localStorage.getItem('interview_expression') || '';\n        const newExpressions = existingExpressions ? `${existingExpressions}\\n检测到的表情: ${expressionsText}` : `检测到的表情: ${expressionsText}`;\n        localStorage.setItem('interview_expression', newExpressions);\n      }\n\n      // 保存姿态分析（追加方式）\n      if (msg.poseResult) {\n        const poseText = `动作: ${msg.poseResult.pose}, 置信度: ${(msg.poseResult.score * 100).toFixed(1)}%`;\n        const existingPose = localStorage.getItem('interview_gesture') || '';\n        const newPose = existingPose ? `${existingPose}\\n${poseText}` : poseText;\n        localStorage.setItem('interview_gesture', newPose);\n      }\n\n      // 保存综合分析（追加方式）\n      if (msg.comprehensiveAnalysis) {\n        const existingAnalysis = localStorage.getItem('interview_expression_gesture_summary') || '';\n        const newAnalysis = existingAnalysis ? `${existingAnalysis}\\n${msg.comprehensiveAnalysis}` : msg.comprehensiveAnalysis;\n        localStorage.setItem('interview_expression_gesture_summary', newAnalysis);\n      }\n\n      this.showStatus('分析结果已保存', 'success');\n    },\n\n    // 添加消息到界面\n    addMessage(sender, content, type = 'text', isError = false) {\n      this.messages.push({\n        sender: sender,\n        content: content,\n        type: type,\n        isError: isError\n      });\n      this.scrollToBottom();\n    },\n\n    // 添加表情和姿态分析消息\n    addExpressionMessage(imageUrl, expressionResults, poseResult) {\n      this.messages.push({\n        sender: 'ai',\n        type: 'expression',\n        imageUrl: imageUrl,\n        expressionResults: expressionResults,\n        poseResult: poseResult,\n        comprehensiveAnalysis: null\n      });\n      this.scrollToBottom();\n    },\n\n    // 添加\"正在输入\"指示器\n    addTypingIndicator() {\n      const typingId = `typing-${Date.now()}`;\n      this.typingId = typingId;\n      this.isTyping = true;\n      return typingId;\n    },\n\n    // 移除\"正在输入\"状态\n    removeTypingIndicator(id) {\n      if (this.typingId === id) {\n        this.isTyping = false;\n        this.typingId = \"\";\n      }\n    },\n\n    // 滚动到最新消息\n    scrollToBottom() {\n      this.$nextTick(() => {\n        const container = this.$refs.messagesContainer;\n        if (container) {\n          container.scrollTop = container.scrollHeight;\n        }\n      });\n    },\n\n    // 测试连接状态\n    async testConnection() {\n      try {\n        await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'OPTIONS',\n          headers: this.commonHeaders\n        });\n\n        this.statusText = ``;\n        this.statusClass = 'text-xs text-green-600 mt-2 text-center';\n      } catch (error) {\n        this.statusText = `连接失败: ${error.message}`;\n        this.statusClass = 'text-xs text-red-600 mt-2 text-center';\n      }\n    },\n\n    // 初始化聊天容器高度\n    initContainerHeight() {\n      const navBarHeight = 46;\n      const bottomBarHeight = document.getElementById('dialog_bottombar_inside')?.offsetHeight || 0;\n      const container = document.getElementById('dialog_content');\n      if (container) {\n        container.style.paddingTop = navBarHeight + 10 + 'px';\n        container.style.paddingBottom = bottomBarHeight + 10 + 'px';\n        container.style.height = `calc(100vh - ${navBarHeight + bottomBarHeight + 20}px)`;\n      }\n    },\n\n    // 格式化时长显示\n    formatDuration(seconds) {\n      if (seconds < 60) {\n        return `${seconds}s`;\n      } else {\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        return `${mins}:${secs < 10 ? '0' + secs : secs}`;\n      }\n    },\n\n    // 显示状态消息\n    showStatus(text, type = 'info') {\n      this.statusText = text;\n      switch (type) {\n        case 'success':\n          this.statusClass = 'text-xs text-green-600 mt-2 text-center';\n          break;\n        case 'error':\n          this.statusClass = 'text-xs text-red-600 mt-2 text-center';\n          break;\n        case 'warning':\n          this.statusClass = 'text-xs text-yellow-600 mt-2 text-center';\n          break;\n        default:\n          this.statusClass = 'text-xs text-blue-600 mt-2 text-center';\n      }\n\n      if (type !== 'error') {\n        setTimeout(() => {\n          this.statusText = '';\n        }, 3000);\n      }\n    },\n\n    // 音频格式转换相关方法\n    async convertToValidWav(blob) {\n      if (await this.isValidWavFile(blob)) {\n        return blob;\n      }\n\n      try {\n        const arrayBuffer = await new Response(blob).arrayBuffer();\n        const audioContext = new (window.AudioContext || window.webkitAudioContext)({\n          sampleRate: 16000\n        });\n\n        const audioBuffer = await audioContext.decodeAudioData(arrayBuffer);\n        const wavBuffer = this.convertToWav(audioBuffer);\n\n        return new Blob([wavBuffer], { type: 'audio/wav' });\n      } catch (error) {\n        console.error('音频格式转换失败:', error);\n        this.showStatus('音频格式转换失败，可能影响识别效果', 'warning');\n        return blob;\n      }\n    },\n\n    async isValidWavFile(blob) {\n      return new Promise((resolve) => {\n        const reader = new FileReader();\n        reader.onloadend = (e) => {\n          if (e.target.readyState === FileReader.DONE) {\n            const arrayBuffer = e.target.result;\n            const uint8Array = new Uint8Array(arrayBuffer);\n\n            if (uint8Array.length >= 4) {\n              const riff = String.fromCharCode(uint8Array[0], uint8Array[1], uint8Array[2], uint8Array[3]);\n              resolve(riff === 'RIFF');\n            } else {\n              resolve(false);\n            }\n          }\n        };\n        reader.readAsArrayBuffer(blob.slice(0, 4));\n      });\n    },\n\n    convertToWav(audioBuffer) {\n      const numberOfChannels = audioBuffer.numberOfChannels;\n      const sampleRate = audioBuffer.sampleRate;\n      const format = 1;\n      const bitDepth = 16;\n\n      let data = new Float32Array(audioBuffer.length);\n      for (let i = 0; i < audioBuffer.length; i++) {\n        let sum = 0;\n        for (let c = 0; c < numberOfChannels; c++) {\n          sum += audioBuffer.getChannelData(c)[i];\n        }\n        data[i] = sum / numberOfChannels;\n      }\n\n      const buffer = new ArrayBuffer(44 + data.length * 2);\n      const view = new DataView(buffer);\n\n      this.writeString(view, 0, 'RIFF');\n      view.setUint32(4, 36 + data.length * 2, true);\n      this.writeString(view, 8, 'WAVE');\n      this.writeString(view, 12, 'fmt ');\n      view.setUint32(16, 16, true);\n      view.setUint16(20, format, true);\n      view.setUint16(22, 1, true);\n      view.setUint32(24, sampleRate, true);\n      view.setUint32(28, sampleRate * 2, true);\n      view.setUint16(32, 2, true);\n      view.setUint16(34, bitDepth, true);\n      this.writeString(view, 36, 'data');\n      view.setUint32(40, data.length * 2, true);\n\n      let index = 44;\n      const volume = 1;\n      for (let i = 0; i < data.length; i++) {\n        const sample = Math.max(-1, Math.min(1, data[i] * volume));\n        view.setInt16(index, sample < 0 ? sample * 0x8000 : sample * 0x7FFF, true);\n        index += 2;\n      }\n\n      return buffer;\n    },\n\n    writeString(view, offset, string) {\n      for (let i = 0; i < string.length; i++) {\n        view.setUint8(offset + i, string.charCodeAt(i));\n      }\n    },\n\n    // 相机相关方法\n    async toggleCamera() {\n      if (this.isCameraActive) {\n        this.stopCamera();\n        this.isCameraModalVisible = false;\n      } else {\n        this.isCameraModalVisible = true;\n        await this.startCamera();\n      }\n    },\n\n    async startCamera() {\n      this.isLoadingCamera = true;\n      this.cameraError = null;\n\n      try {\n        if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n          throw new Error('您的浏览器不支持相机功能，请使用最新浏览器');\n        }\n\n        if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\n          throw new Error('相机功能需要在HTTPS环境下运行');\n        }\n\n        // 相机配置\n        this.videoStream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            width: { ideal: 1280 },\n            height: { ideal: 720 }\n          }\n        });\n\n        const videoElement = this.$refs.videoElement;\n        if (videoElement) {\n          videoElement.srcObject = this.videoStream;\n          this.isCameraActive = true;\n          this.showStatus('相机已启动，可进行表情和姿态识别', 'success');\n        }\n      } catch (error) {\n        console.error('相机启动失败:', error);\n        this.cameraError = error.message;\n\n        // 错误处理\n        if (error.name === 'NotAllowedError') {\n          this.cameraError = '相机权限被拒绝，请在浏览器设置中允许相机访问';\n        } else if (error.name === 'NotFoundError') {\n          this.cameraError = '未找到相机设备';\n        } else if (error.name === 'NotReadableError') {\n          this.cameraError = '相机被占用或不可用';\n        } else if (error.name === 'NotSupportedError') {\n          this.cameraError = '您的浏览器不支持相机功能';\n        }\n\n        this.showStatus(`相机错误: ${this.cameraError}`, 'error');\n      } finally {\n        this.isLoadingCamera = false;\n      }\n    },\n\n    stopCamera() {\n      if (this.videoStream) {\n        this.videoStream.getTracks().forEach(track => track.stop());\n        this.videoStream = null;\n      }\n\n      const videoElement = this.$refs.videoElement;\n      if (videoElement) {\n        videoElement.srcObject = null;\n      }\n\n      this.isCameraActive = false;\n      this.isAnalyzingContinuously = false;\n\n      if (this.continuousAnalysisTimer) {\n        clearInterval(this.continuousAnalysisTimer);\n        this.continuousAnalysisTimer = null;\n      }\n\n      if (this.detectionInterval) {\n        clearInterval(this.detectionInterval);\n        this.detectionInterval = null;\n      }\n\n      this.showStatus('相机已关闭', 'info');\n    },\n\n    // 拍照并分析表情和姿态（仅使用/api/chat接口）\n    async captureImage() {\n      if (!this.isCameraActive || this.isProcessingImage) return;\n\n      this.isProcessingImage = true;\n      this.showStatus('正在分析表情和姿态...', 'info');\n\n      try {\n        const videoElement = this.$refs.videoElement;\n        if (!videoElement) throw new Error('未找到视频元素');\n\n        // 1. 捕获视频帧为base64\n        const canvas = document.createElement('canvas');\n        canvas.width = videoElement.videoWidth;\n        canvas.height = videoElement.videoHeight;\n        const ctx = canvas.getContext('2d');\n        ctx.drawImage(videoElement, 0, 0, canvas.width, canvas.height);\n        const base64Image = canvas.toDataURL('image/jpeg');\n\n        // 2. 仅调用/api/chat接口（符合需求）\n        const analysisResult = await this.analyzePose(base64Image);\n        // 注意：这里复用了analyzePose方法，实际应确保它内部只调用/api/chat\n\n        // 3. 正确转换base64为图片URL（无需fetch）\n        const blob = await (await fetch(base64Image)).blob(); // 修正：先处理base64为blob\n        const imageUrl = URL.createObjectURL(blob);\n\n        // 4. 添加到消息列表（仅传入一个综合结果）\n        this.addExpressionMessage(imageUrl, analysisResult);\n\n        this.showStatus('表情和姿态分析完成', 'success');\n      } catch (error) {\n        console.error('图像分析失败:', error);\n        this.showStatus(`分析失败: ${error.message}`, 'error');\n      } finally {\n        this.isProcessingImage = false;\n      }\n    },\n\n    // 开始/停止连续分析\n    startContinuousAnalysis() {\n      if (this.isAnalyzingContinuously) {\n        // 停止连续分析\n        clearInterval(this.continuousAnalysisTimer);\n        this.continuousAnalysisTimer = null;\n        this.isAnalyzingContinuously = false;\n        this.showStatus('已停止连续分析', 'info');\n      } else {\n        // 开始连续分析，每2秒一次\n        this.showStatus('开始连续分析...', 'info');\n        this.isAnalyzingContinuously = true;\n\n        // 立即执行一次\n        this.captureImage();\n\n        // 设置定时器\n        this.continuousAnalysisTimer = setInterval(() => {\n          if (this.isAnalyzingContinuously) {\n            this.captureImage();\n          }\n        }, 2000);\n      }\n    },\n\n    // 分析表情\n    async analyzeExpression(base64Image) {\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/predict/image`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ base64: base64Image })\n        });\n\n        if (!response.ok) {\n          const errorText = await response.text();\n          throw new Error(`表情分析失败: ${response.status} - ${errorText.substring(0, 100)}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success' && data.predictions) {\n          return data.predictions;\n        } else {\n          throw new Error(data.error || '未获取到表情分析结果');\n        }\n      } catch (error) {\n        console.error('表情分析出错:', error);\n        throw error;\n      }\n    },\n\n    // 分析姿态并处理轮询\n    async analyzePose(base64Image) {\n      try {\n        // 1. 发送图片获取任务ID\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            prompt: '请分析这张图片中人物的姿态动作和表情，用简洁的语言描述',\n            image_base64: base64Image\n          })\n        });\n\n        if (!response.ok) {\n          const errorText = await response.text();\n          throw new Error(`姿态分析请求失败: ${response.status} - ${errorText.substring(0, 100)}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success' && data.task_id) {\n          // 2. 获得task_id后开始轮询\n          return this.startPolling(data.task_id);\n        } else {\n          throw new Error(data.error || '未获取到任务ID');\n        }\n      } catch (error) {\n        console.error('姿态分析出错:', error);\n        throw error;\n      }\n    },\n\n    // 轮询函数 - 修复后版本\n    async startPolling(taskId, interval = 1000) {\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/api/chat/result/${taskId}`, {\n          method: 'GET',\n          headers: this.commonHeaders\n        });\n\n        if (!response.ok) {\n          throw new Error(`轮询失败: ${response.status}`);\n        }\n\n        const result = await response.json();\n\n        if (result.status === 'processing') {\n          console.log(`任务 ${taskId} 处理中，继续等待...`);\n          // 使用箭头函数确保 this 指向组件实例\n          return new Promise(resolve => {\n            setTimeout(() => {\n              resolve(this.startPolling(taskId, interval));\n            }, interval);\n          });\n        } else if (result.status === 'success') {\n          console.log(`任务 ${taskId} 处理完成`);\n          // 此时 this.msg 已初始化，可安全赋值\n          this.msg.expressionResults = [result.result]; // 存入数组，适配v-for\n          console.log('轮询结果:', this.msg.expressionResults);\n\n          return {\n            status: 'completed',\n            taskId,\n            result: result.result,\n            timestamp: new Date()\n          };\n        } else {\n          throw new Error(`任务处理失败: ${result.result || '未知错误'}`);\n        }\n      } catch (error) {\n        console.error(`轮询任务 ${taskId} 出错:`, error);\n        throw error;\n      }\n    },\n\n\n\n\n    // 综合分析表情和姿态\n    async analyzeComprehensive(index) {\n      const msg = this.messages[index];\n      if (!msg || msg.type !== 'expression') return;\n\n      this.showStatus('正在进行综合分析...', 'info');\n\n      try {\n        // 构建提示信息\n        let expressionsText = msg.expressionResults.map(exp =>\n          `${exp.emotion} (${(exp.confidence * 100).toFixed(1)}%)`\n        ).join('、');\n\n        let prompt = `根据以下表情和姿态信息进行综合分析:\n表情: ${expressionsText}\n姿态: ${msg.poseResult.pose} (置信度: ${(msg.poseResult.score * 100).toFixed(1)}%)\n\n请分析这个人可能的情绪状态和意图，并给出简要解读。`;\n\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) {\n          throw new Error(`综合分析请求失败: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n          // 更新消息对象\n          this.messages[index] = {\n            ...this.messages[index],\n            comprehensiveAnalysis: data.result\n          };\n\n          // 保存综合分析到localStorage（追加方式）\n          const existingAnalysis = localStorage.getItem('interview_expression_gesture_analysis') || '';\n          const newAnalysis = existingAnalysis ? `${existingAnalysis}\\n${data.result}` : data.result;\n          localStorage.setItem('interview_expression_gesture_analysis', newAnalysis);\n\n          this.showStatus('综合分析完成', 'success');\n        } else {\n          throw new Error(data.result || '综合分析失败');\n        }\n      } catch (error) {\n        console.error('综合分析失败:', error);\n        this.showStatus(`综合分析失败: ${error.message}`, 'error');\n      }\n    },\n\n    // 打开评测报告弹窗\n    async openEvaluationReport() {\n      this.isReportVisible = true;\n      this.reportLoading = true;\n      this.reportError = '';\n      this.reportResponse = null; // 重置响应数据\n\n      // 延迟执行，确保弹窗已渲染\n      setTimeout(() => {\n        this.generateReportFromStorage();\n      }, 100);\n    },\n\n    // 从localStorage生成评测报告\n    async generateReportFromStorage() {\n      try {\n        this.reportLoading = true;\n\n        // 从localStorage提取数据\n        this.firstResult = localStorage.getItem(\"firstResult\") || '';\n        this.secondResult = localStorage.getItem(\"secondResult\") || '';\n        this.thirdResult = localStorage.getItem(\"thirdResult\") || '';\n        this.fourthResult = localStorage.getItem(\"fourthResult\") || '';\n        this.fifthResult = localStorage.getItem(\"fifthResult\") || '';\n\n        this.firstQuestion = localStorage.getItem(\"firstQuestion\") || '';\n        this.secondQuestion = localStorage.getItem(\"secondQuestion\") || '';\n        this.thirdQuestion = localStorage.getItem(\"thirdQuestion\") || '';\n        this.fourthQuestion = localStorage.getItem(\"fourthQuestion\") || '';\n        this.fifthQuestion = localStorage.getItem(\"fifthQuestion\") || '';\n\n        // 检查是否有足够的数据生成报告\n        if (!this.firstResult && !this.secondResult && !this.thirdResult && !this.fourthResult && !this.fifthResult) {\n          throw new Error('未找到足够的面试回答数据，请先完成面试');\n        }\n\n        // 生成各维度评分\n        this.calculateReportScores();\n\n        // 生成各维度详细分析\n        await this.generateDimensionAnalysis();\n\n        // 生成综合评价\n        await this.generateComprehensiveEvaluation();\n        // 生成关键问题定位\n        await this.generateKeyIssues();\n\n        // 生成反馈建议\n        await this.generateFeedbackSuggestions();\n\n        // 生成综合评价\n        await this.generateComprehensiveEvaluation();\n\n        // 存储完整的报告响应数据\n        this.reportResponse = {\n          indicators: this.reportIndicators,\n          values: this.reportValues,\n          professionalKnowledgeAnalysis: this.professionalKnowledgeAnalysis,\n          skillMatchAnalysis: this.skillMatchAnalysis,\n          languageExpressionAnalysis: this.languageExpressionAnalysis,\n          logicalThinkingAnalysis: this.logicalThinkingAnalysis,\n          innovationAbilityAnalysis: this.innovationAbilityAnalysis,\n          comprehensiveEvaluation: this.comprehensiveEvaluation,\n          improvementSuggestions: this.improvementSuggestions\n        };\n\n        // 确保DOM已更新后再渲染图表\n        this.$nextTick(() => {\n          this.renderRadarChart();\n        });\n\n      } catch (error) {\n        console.error('生成报告失败:', error);\n        this.reportError = error.message;\n      } finally {\n        this.reportLoading = false;\n      }\n    },\n\n    // 计算各维度评分\n    calculateReportScores() {\n      // 专业知识水平评分 (0-100)\n      let knowledgeScore = 60;\n      if (this.firstResult && (this.firstResult.length > 100 ||\n        this.firstResult.includes('项目') ||\n        this.firstResult.includes('技术') ||\n        this.firstResult.includes('经验'))) {\n        knowledgeScore = Math.floor(Math.random() * 20) + 70; // 70-90\n      } else if (this.firstResult && this.firstResult.length < 50) {\n        knowledgeScore = Math.floor(Math.random() * 20) + 40; // 40-60\n      }\n\n      // 技能匹配度评分\n      let skillScore = 60;\n      if (this.secondResult && (this.secondResult.length > 100 ||\n        this.secondResult.includes('技能') ||\n        this.secondResult.includes('掌握') ||\n        this.secondResult.includes('经验'))) {\n        skillScore = Math.floor(Math.random() * 20) + 70;\n      } else if (this.secondResult && this.secondResult.length < 50) {\n        skillScore = Math.floor(Math.random() * 20) + 40;\n      }\n\n      // 语言表达能力评分\n      let languageScore = 60;\n      if (this.thirdResult && (this.thirdResult.length > 100 ||\n        this.thirdResult.includes('解释') ||\n        this.thirdResult.includes('方法') ||\n        this.thirdResult.includes('理解'))) {\n        languageScore = Math.floor(Math.random() * 20) + 70;\n      } else if (this.thirdResult && this.thirdResult.length < 50) {\n        languageScore = Math.floor(Math.random() * 20) + 40;\n      }\n\n      // 逻辑思维能力评分\n      let logicScore = 60;\n      if (this.fourthResult && (this.fourthResult.length > 100 ||\n        this.fourthResult.includes('分析') ||\n        this.fourthResult.includes('步骤') ||\n        this.fourthResult.includes('案例'))) {\n        logicScore = Math.floor(Math.random() * 20) + 70;\n      } else if (this.fourthResult && this.fourthResult.length < 50) {\n        logicScore = Math.floor(Math.random() * 20) + 40;\n      }\n\n      // 创新能力评分\n      let innovationScore = 60;\n      if (this.fifthResult && (this.fifthResult.length > 100 ||\n        this.fifthResult.includes('创新') ||\n        this.fifthResult.includes('解决方案') ||\n        this.fifthResult.includes('思路'))) {\n        innovationScore = Math.floor(Math.random() * 20) + 70;\n      } else if (this.fifthResult && this.fifthResult.length < 50) {\n        innovationScore = Math.floor(Math.random() * 20) + 40;\n      }\n\n      this.reportValues = [\n        knowledgeScore,\n        skillScore,\n        languageScore,\n        logicScore,\n        innovationScore\n      ];\n    },\n\n    // 生成各维度详细分析\n    // 生成各维度详细分析\n    async generateDimensionAnalysis() {\n      // 从localStorage获取问题\n      const firstQuestion = localStorage.getItem(\"firstQuestion\") || '';\n      const secondQuestion = localStorage.getItem(\"secondQuestion\") || '';\n      const thirdQuestion = localStorage.getItem(\"thirdQuestion\") || '';\n      const fourthQuestion = localStorage.getItem(\"fourthQuestion\") || '';\n      const fifthQuestion = localStorage.getItem(\"fifthQuestion\") || '';\n\n      // 专业知识水平分析 - 加入对应问题\n      if (this.firstResult) {\n        const prompt = `请基于以下问题和回答，分析面试者的专业知识水平：\n问题：${firstQuestion}\n回答：${this.firstResult}\n\n请评价面试者对该问题的回答质量、专业知识的掌握程度和深度，并指出优势和不足。`;\n        this.professionalKnowledgeAnalysis = await this.getAnalysisFromAPI(prompt);\n      }\n\n      // 技能匹配度分析 - 加入对应问题\n      if (this.secondResult) {\n        const prompt = `请基于以下问题和回答，分析面试者的技能匹配度：\n问题：${secondQuestion}\n回答：${this.secondResult}\n\n请评价面试者所提及技能与岗位需求的匹配程度，以及技能掌握的实际应用能力。`;\n        this.skillMatchAnalysis = await this.getAnalysisFromAPI(prompt);\n      }\n\n      // 语言表达能力分析 - 加入对应问题\n      if (this.thirdResult) {\n        const prompt = `请基于以下问题和回答，分析面试者的语言表达能力：\n问题：${thirdQuestion}\n回答：${this.thirdResult}\n\n请评价面试者回答的清晰度、条理性、逻辑性和表达流畅度。`;\n        this.languageExpressionAnalysis = await this.getAnalysisFromAPI(prompt);\n      }\n\n      // 逻辑思维能力分析 - 加入对应问题\n      if (this.fourthResult) {\n        const prompt = `请基于以下问题和回答，分析面试者的逻辑思维能力：\n问题：${fourthQuestion}\n回答：${this.fourthResult}\n\n请评价面试者面试者分析问题的思路、推理过程的逻辑性和解决问题的系统性。`;\n        this.logicalThinkingAnalysis = await this.getAnalysisFromAPI(prompt);\n      }\n\n      // 创新能力分析 - 加入对应问题\n      if (this.fifthResult) {\n        const prompt = `请基于以下问题和回答，分析面试者的创新能力：\n问题：${fifthQuestion}\n回答：${this.fifthResult}\n\n请评价面试者提出的解决方案的创新性、独特性和实用性，以及发现问题的敏锐度。`;\n        this.innovationAbilityAnalysis = await this.getAnalysisFromAPI(prompt);\n      }\n    },\n\n\n    // 调用API获取分析结果\n    async getAnalysisFromAPI(prompt) {\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) {\n          throw new Error(`分析请求失败: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success') {\n          const taskId = data.task_id;\n          const pollInterval = 2000; // 轮询间隔2秒\n          const maxAttempts = 150;   // 最多轮询150次（约5分钟）\n\n          // 创建一个Promise来等待最终结果\n          return new Promise((resolve, reject) => {\n            let attempts = 0;\n\n            // 定义轮询函数，直接查询文件接口\n            const pollForFile = () => {\n              // 超过最大尝试次数则拒绝\n              if (attempts >= maxAttempts) {\n                reject(new Error('请求超时，未能获取结果'));\n                return;\n              }\n\n              attempts++;\n\n              // 直接调用文件查询接口\n              fetch(`${this.API_BASE_URL}/get_task_file_url`, {\n                method: 'POST',\n                headers: {\n                  ...this.commonHeaders,\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({ task_id: taskId })\n              })\n                .then(response => {\n                  // 无论响应状态如何，都尝试解析JSON\n                  return response.json().then(data => ({ data, response }));\n                })\n                .then(({ data, response }) => {\n                  // 成功获取到文件URL\n                  if (data.status === 'success' && data.file_url) {\n                    // 加载文件内容\n                    fetch(data.file_url, {\n                      method: 'GET',\n                      headers: this.commonHeaders\n                    })\n                      .then(fileResponse => {\n                        if (!fileResponse.ok) {\n                          throw new Error(`文件加载失败: ${fileResponse.status}`);\n                        }\n                        return fileResponse.text();\n                      })\n                      .then(fileContent => {\n                        // 检查内容是否为\"processing\"\n                        if (fileContent.trim() === 'processing') {\n                          // 仍在处理中，继续轮询\n                          setTimeout(pollForFile, pollInterval);\n                        } else {\n                          // 处理完成，返回结果\n                          resolve(fileContent);\n                        }\n                      })\n                      .catch(() => {\n                        // 文件加载失败，继续轮询\n                        setTimeout(pollForFile, pollInterval);\n                      });\n                  }\n                  // 未找到文件但可能还在处理中，继续轮询\n                  else if (response.status === 404 ||\n                    (data.status === 'error' && data.message.includes('未找到'))) {\n                    setTimeout(pollForFile, pollInterval);\n                  }\n                  // 其他错误情况\n                  else {\n                    reject(new Error(`获取文件失败: ${data.message || '未知错误'}`));\n                  }\n                })\n                .catch(error => {\n                  // 网络错误等情况，继续轮询\n                  setTimeout(pollForFile, pollInterval);\n                });\n            };\n\n            // 开始第一次查询\n            pollForFile();\n          });\n        } else {\n          return '无法生成分析结果';\n        }\n      } catch (error) {\n        console.error('获取分析结果失败:', error);\n        return '分析生成失败';\n      }\n    },\n\n    // 检查录音支持\n    async checkRecordingSupport() {\n      try {\n        // 检查浏览器是否支持媒体录制API\n        if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n          throw new Error('您的浏览器不支持录音功能');\n        }\n\n        // 尝试获取麦克风权限（可选，根据实际需求）\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n\n        // 释放流资源\n        stream.getTracks().forEach(track => track.stop());\n\n        // 可以在这里设置一个标志，表示支持录音\n        this.recordingSupported = true;\n        console.log('浏览器支持录音功能');\n      } catch (error) {\n        this.recordingSupported = false;\n        console.warn('录音功能检查失败:', error.message);\n      }\n    },\n    // 切换录音状态（开始/停止录音）\n    toggleRecording() {\n      if (this.isRecording) {\n        // 停止录音的逻辑\n        this.stopRecording();\n      } else {\n        // 开始录音的逻辑\n        this.startRecording();\n      }\n    },\n\n    // 生成综合评价\n    async generateComprehensiveEvaluation() {\n      // 构建提示信息\n      // 修改prompt，要求结合评分和具体建议\n      const prompt = `基于以下面试者的五维分析数据，生成综合评价和改进建议：\n1. 专业知识水平: ${this.firstResult || '无数据'}（评分：${this.reportValues[0]}）\n2. 技能匹配度: ${this.secondResult || '无数据'}（评分：${this.reportValues[1]}）\n3. 语言表达能力: ${this.thirdResult || '无数据'}（评分：${this.reportValues[2]}）\n4. 逻辑思维能力: ${this.fourthResult || '无数据'}（评分：${this.reportValues[3]}）\n5. 创新能力: ${this.fifthResult || '无数据'}（评分：${this.reportValues[4]}）\n\n请严格按照以下格式输出：\n【综合评价】\n[100字左右，结合评分总结优势和不足]\n\n【改进建议】\n1. [具体可操作的建议，关联专业知识]\n2. [具体可操作的建议，关联技能或表达]\n3. [具体可操作的建议，关联思维或创新]`;\n\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) {\n          throw new Error(`生成综合评价失败: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        if (data.status === 'success' && data.result) {\n          const result = data.result;\n\n          // 提取综合评价\n          const evalMatch = result.match(/【综合评价】\\s*([\\s\\S]*?)(?=【改进建议】)/);\n          this.comprehensiveEvaluation = evalMatch ? evalMatch[1].trim() : '无法生成综合评价';\n\n          // 提取改进建议\n          this.improvementSuggestions = [];\n          const suggestionsMatch = result.match(/【改进建议】\\s*([\\s\\S]*)/);\n          if (suggestionsMatch && suggestionsMatch[1]) {\n            // 按序号提取建议\n            const suggestions = suggestionsMatch[1]\n              .split(/\\n\\d+\\./)\n              .filter(item => item.trim());\n\n            suggestions.forEach(suggestion => {\n              this.improvementSuggestions.push(suggestion.trim());\n            });\n          }\n\n          // 兜底处理（确保至少有3条建议）\n          while (this.improvementSuggestions.length < 3) {\n            this.improvementSuggestions.push('加强对应维度的专项训练');\n          }\n        }\n      } catch (error) {\n        console.error('生成综合评价失败:', error);\n        // 使用默认评价\n        this.comprehensiveEvaluation = '面试者表现中等，各方面能力有提升空间。';\n        this.improvementSuggestions = [\n          \"加强专业知识的深度和广度\",\n          \"提高语言表达的清晰度和逻辑性\",\n          \"在实际应用中培养创新思维\"\n        ];\n      }\n    },\n\n    // 在generateComprehensiveEvaluation方法后添加\n    async generateKeyIssues() {\n      // 生成关键问题定位\n      // 修改prompt，明确要求结构化输出\n      const prompt = `基于以下面试者的表现，分析其在面试中暴露的关键问题和不足:\n专业知识水平: ${this.firstResult || '无数据'}\n技能匹配度: ${this.secondResult || '无数据'}\n语言表达能力: ${this.thirdResult || '无数据'}\n逻辑思维能力: ${this.fourthResult || '无数据'}\n创新能力: ${this.fifthResult || '无数据'}\n\n请严格按照以下格式输出，不要添加额外内容：\n【关键问题定位】\n[用1-2句话总结核心问题]\n\n【具体表现示例】\n1. [第一个具体例子]\n2. [第二个具体例子]\n3. [第三个具体例子]`;\n\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) throw new Error(`生成关键问题失败: ${response.status}`);\n\n        const data = await response.json();\n        if (data.status === 'success' && data.result) {\n          const result = data.result;\n\n          // 提取关键问题定位（匹配【关键问题定位】后的内容）\n          const issueMatch = result.match(/【关键问题定位】\\s*([\\s\\S]*?)(?=【具体表现示例】)/);\n          this.keyIssues = issueMatch ? issueMatch[1].trim() : '未发现明显问题';\n\n          // 提取具体示例（匹配【具体表现示例】后的列表）\n          this.issueExamples = [];\n          const examplesMatch = result.match(/【具体表现示例】\\s*([\\s\\S]*)/);\n          if (examplesMatch && examplesMatch[1]) {\n            // 按序号分割提取每个示例\n            const examples = examplesMatch[1].split(/\\n\\d+\\./).filter(item => item.trim());\n            examples.forEach(example => {\n              this.issueExamples.push(example.trim());\n            });\n            // 限制最多3个示例\n            this.issueExamples = this.issueExamples.slice(0, 3);\n          }\n        }\n      } catch (error) {\n        console.error('生成关键问题失败:', error);\n        this.keyIssues = '无法分析关键问题';\n      }\n    },\n\n    async generateFeedbackSuggestions() {\n      // 生成分类反馈建议\n      // 修改prompt，明确分类和格式要求\n      const prompt = `基于以下面试者的表现，从5个维度给出具体改进建议：\n专业知识水平: ${this.firstResult || '无数据'}\n技能匹配度: ${this.secondResult || '无数据'}\n语言表达能力: ${this.thirdResult || '无数据'}\n逻辑思维能力: ${this.fourthResult || '无数据'}\n创新能力: ${this.fifthResult || '无数据'}\n\n请严格按照以下格式输出（每个维度至少2条建议，用\"-\"开头）：\n【专业知识】\n- 建议1\n- 建议2\n\n【技能提升】\n- 建议1\n- 建议2\n\n【表达能力】\n- 建议1\n- 建议2\n\n【思维逻辑】\n- 建议1\n- 建议2\n\n【创新思维】\n- 建议1\n- 建议2`;\n\n      try {\n        const response = await fetch(`${this.API_BASE_URL}/api/chat`, {\n          method: 'POST',\n          headers: {\n            ...this.commonHeaders,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ prompt: prompt })\n        });\n\n        if (!response.ok) throw new Error(`生成反馈建议失败: ${response.status}`);\n\n        const data = await response.json();\n        if (data.status === 'success' && data.result) {\n          this.feedbackCategories = [];\n          const categories = ['专业知识', '技能提升', '表达能力', '思维逻辑', '创新思维'];\n\n          categories.forEach(category => {\n            // 匹配每个分类的内容（如【专业知识】和下一个分类之间的内容）\n            const regex = new RegExp(`【${category}】\\\\s*([\\\\s\\\\S]*?)(?=【|$)`, 'i');\n            const match = data.result.match(regex);\n\n            if (match && match[1]) {\n              // 提取\"-\"开头的建议列表\n              const suggestions = match[1]\n                .split('\\n')\n                .filter(line => line.trim().startsWith('-'))\n                .map(line => line.trim().replace(/^-/, '').trim());\n\n              this.feedbackCategories.push({\n                title: category,\n                suggestions: suggestions.length ? suggestions : ['暂无具体建议']\n              });\n            }\n          });\n        }\n      } catch (error) {\n        console.error('生成反馈建议失败:', error);\n        this.feedbackCategories = [{\n          title: '通用建议',\n          suggestions: [\n            '加强专业知识学习',\n            '提高语言表达能力',\n            '多练习逻辑思维'\n          ]\n        }];\n      }\n    },\n\n    // 渲染雷达图（修复图表不显示问题）\n    renderRadarChart1() {\n      // 确保DOM元素已存在\n      this.$nextTick(() => {\n        const ctx = this.$refs.radarChart?.getContext('2d');\n        if (!ctx) {\n          console.error('未找到雷达图Canvas元素');\n          return;\n        }\n\n        // 销毁现有图表\n        if (this.chart) {\n          this.chart.destroy();\n        }\n\n        // 确保有数据再绘制图表\n        if (!this.reportIndicators || !this.reportValues || this.reportIndicators.length !== this.reportValues.length) {\n          console.error('雷达图数据不完整');\n          return;\n        }\n\n        // 创建新图表\n        this.chart = new Chart(ctx, {\n          type: 'radar',\n          data: {\n            labels: this.reportIndicators,\n            datasets: [{\n              label: '能力评分',\n              data: this.reportValues,\n              backgroundColor: 'rgba(59, 130, 246, 0.2)',\n              borderColor: 'rgba(59, 130, 246, 1)',\n              pointBackgroundColor: 'rgba(59, 130, 246, 1)',\n              pointBorderColor: '#fff',\n              pointHoverBackgroundColor: '#fff',\n              pointHoverBorderColor: 'rgba(59, 130, 246, 1)'\n            }]\n          },\n          options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            scales: {\n              r: {\n                angleLines: { display: true },\n                suggestedMin: 0,\n                suggestedMax: 100,\n                ticks: { callback: (value) => `${value}分` }\n              }\n            },\n            plugins: {\n              legend: { position: 'top' },\n              tooltip: {\n                callbacks: { label: (context) => `${context.label}: ${context.raw}分` }\n              }\n            }\n          }\n        });\n      });\n    },\n\n    // 获取评分等级文本\n    getScoreLevel(score) {\n      if (score >= 85) return '优秀';\n      if (score >= 75) return '良好';\n      if (score >= 65) return '一般';\n      return '待提高';\n    },\n\n    // 获取评分对应的CSS类\n    getScoreClass(score) {\n      if (score >= 85) return 'excellent';\n      if (score >= 75) return 'good';\n      if (score >= 65) return 'average';\n      return 'poor';\n    }\n  }\n};\n</script>\n\n<style scoped>\n#dialog {\n  position: relative;\n  height: 100vh;\n  overflow: hidden;\n  background-color: #EDEDF5;\n}\n\n.van-nav-bar {\n  --van-nav-bar-background-color: #EFF1FD;\n  --van-nav-bar-title-text-color: black;\n}\n\n.chat-container {\n  width: 100%;\n  overflow-y: auto;\n  box-sizing: border-box;\n}\n\n.messages {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 0 15px;\n}\n\n.message-item {\n  display: flex;\n  align-items: flex-start;\n  margin: 5px 0;\n}\n\n.user-message {\n  justify-content: flex-end;\n\n}\n\n/* 用户消息气泡样式（关键） */\n.user-message .message-bubble,\n.user-message .voice-bubble,\n.user-message .expression-bubble {\n  margin-right: 8px;\n  /* 与头像保持距离 */\n  margin-left: 0;\n  /* 左侧无间距 */\n}\n\n.avatar {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 10px;\n  flex-shrink: 0;\n}\n\n.ai-message .avatar {\n  background-color: #e6f7ff;\n  color: #1890ff;\n}\n\n.user-message .avatar {\n  background-color: #f5f5f5;\n  color: #8c8c8c;\n}\n\n.message-bubble {\n  padding: 10px 15px;\n  border-radius: 18px;\n  max-width: 80%;\n  word-wrap: break-word;\n  position: relative;\n}\n\n.ai-message .message-bubble {\n  background-color: #ffffff;\n  border-top-left-radius: 4px;\n}\n\n.user-message .message-bubble {\n  background-color: #1677ff;\n  color: white;\n  border-top-right-radius: 4px;\n}\n\n.voice-bubble {\n  max-width: 80%;\n  padding: 10px 15px;\n  border-radius: 18px;\n  position: relative;\n}\n\n.ai-message .voice-bubble {\n  background-color: #ffffff;\n  border-top-left-radius: 4px;\n}\n\n.user-message .voice-bubble {\n  background-color: #1677ff;\n  color: white;\n  border-top-right-radius: 4px;\n}\n\n.voice-controls {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  min-width: 150px;\n}\n\n.voice-wave {\n  display: flex;\n  align-items: center;\n  gap: 3px;\n  height: 24px;\n  flex-grow: 1;\n}\n\n.voice-wave div {\n  width: 3px;\n  background-color: currentColor;\n  border-radius: 3px;\n  transition: height 0.2s ease;\n}\n\n.voice-duration {\n  font-size: 12px;\n  color: currentColor;\n  opacity: 0.8;\n}\n\n.play-icon {\n  cursor: pointer;\n}\n\n.voice-actions {\n  display: flex;\n  gap: 5px;\n  margin-top: 8px;\n  flex-wrap: wrap;\n}\n\n.voice-text-result {\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px dashed #eee;\n  font-size: 14px;\n  color: #333;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 5px;\n  border-radius: 4px;\n}\n\n.voice-speed-result {\n  margin-top: 5px;\n  font-size: 12px;\n  color: #666;\n  background-color: rgba(255, 255, 255, 0.5);\n  padding: 3px 5px;\n  border-radius: 4px;\n}\n\n.voice-tone-result {\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px dashed #eee;\n  font-size: 12px;\n  color: #666;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 5px;\n  border-radius: 4px;\n}\n\n.voice-logic-result {\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px dashed #eee;\n  font-size: 13px;\n  color: #333;\n  background-color: rgba(255, 255, 255, 0.7);\n  padding: 5px;\n  border-radius: 4px;\n}\n\n/* 表情和姿态分析样式 */\n.expression-bubble {\n  max-width: 80%;\n  padding: 10px 15px;\n  border-radius: 18px;\n  position: relative;\n}\n\n.ai-message .expression-bubble {\n  background-color: #ffffff;\n  border-top-left-radius: 4px;\n}\n\n.user-message .expression-bubble {\n  background-color: #1677ff;\n  color: white;\n  border-top-right-radius: 4px;\n}\n\n.expression-image-container {\n  width: 100%;\n  border-radius: 8px;\n  overflow: hidden;\n  margin-bottom: 10px;\n}\n\n.expression-image {\n  width: 200px;\n  height: auto;\n  display: block;\n}\n\n.expression-results,\n.pose-result,\n.comprehensive-analysis {\n  margin-top: 8px;\n  font-size: 13px;\n  padding: 5px;\n  border-radius: 4px;\n  background-color: rgba(255, 255, 255, 0.7);\n  color: #333;\n}\n\n.expression-actions {\n  display: flex;\n  gap: 5px;\n  margin-top: 8px;\n  justify-content: flex-end;\n}\n\n.error-message {\n  background-color: #fff2f0 !important;\n  color: #f5222d !important;\n}\n\n.typing {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.typing span {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: #6b7280;\n  animation: typing 1.4s infinite ease-in-out both;\n}\n\n.typing span:nth-child(1) {\n  animation-delay: -0.32s;\n}\n\n.typing span:nth-child(2) {\n  animation-delay: -0.16s;\n}\n\n@keyframes typing {\n\n  0%,\n  80%,\n  100% {\n    transform: scale(0);\n  }\n\n  40% {\n    transform: scale(1);\n  }\n}\n\n\n#dialog_bottombar {\n  width: 100%;\n  background-color: #EFF1FD;\n}\n\n#dialog_bottombar_inside {\n  position: relative;\n  width: 100%;\n  padding: 8px 2.5% 15px;\n  box-sizing: border-box;\n}\n\n.recording {\n  color: #f5222d !important;\n  animation: pulse 1.5s infinite;\n}\n\n.camera-active {\n  color: #00b42a !important;\n  animation: pulse 2s infinite;\n}\n\n.report-icon {\n  color: #722ed1 !important;\n}\n\n@keyframes pulse {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n.recording-indicator {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  padding: 20px 30px;\n  border-radius: 10px;\n  text-align: center;\n  z-index: 1000;\n}\n\n.recording-dot {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background-color: #f5222d;\n  margin: 0 auto 10px;\n  animation: blink 1s infinite;\n}\n\n@keyframes blink {\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.5;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n.status-bar {\n  position: absolute;\n  bottom: 120px;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  transition: opacity 0.3s ease;\n}\n\n/* 相机模态框样式 */\n.camera-modal {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.camera-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  border-bottom: 1px solid #eee;\n}\n\n.camera-preview {\n  flex-grow: 1;\n  position: relative;\n  background-color: #000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.camera-video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.camera-loading,\n.camera-error {\n  position: absolute;\n  color: white;\n  text-align: center;\n  padding: 20px;\n}\n\n.camera-controls {\n  padding: 15px;\n  display: flex;\n  gap: 10px;\n  justify-content: center;\n  background-color: #f5f5f5;\n}\n\n/* 评测报告弹窗样式 */\n.report-container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 10px 0;\n}\n\n.report-header {\n  text-align: center;\n  padding: 10px 20px;\n  position: relative;\n  border-bottom: 1px solid #eee;\n}\n\n.report-header h2 {\n  margin: 0;\n  font-size: 18px;\n  color: #1e293b;\n}\n\n.close-icon {\n  position: absolute;\n  right: 15px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #666;\n}\n\n.report-loading,\n.report-error {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n  gap: 15px;\n  padding: 20px;\n}\n\n.report-content {\n  flex-grow: 1;\n  overflow-y: auto;\n  padding: 15px;\n}\n\n/* 雷达图样式 */\n.radar-chart-container {\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8fafc;\n  border-radius: 8px;\n}\n\n.chart-title {\n  font-size: 16px;\n  color: #334155;\n  text-align: center;\n  margin-bottom: 10px;\n  font-weight: 500;\n}\n\n.chart-wrapper {\n  width: 100%;\n  height: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n/* 能力详情样式 */\n.ability-details-container {\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8fafc;\n  border-radius: 8px;\n}\n\n.details-title {\n  font-size: 16px;\n  color: #334155;\n  text-align: center;\n  margin-bottom: 10px;\n  font-weight: 500;\n}\n\n.details-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 10px;\n}\n\n.detail-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 10px;\n  background: #fff;\n  border-radius: 6px;\n  font-size: 14px;\n}\n\n.indicator-name {\n  color: #334155;\n}\n\n.score-value {\n  font-weight: bold;\n}\n\n.excellent {\n  color: #2ecc71;\n}\n\n.good {\n  color: #f39c12;\n}\n\n.average {\n  color: #3498db;\n}\n\n.poor {\n  color: #e74c3c;\n}\n\n/* 分析内容样式 */\n.analysis-container {\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8fafc;\n  border-radius: 8px;\n}\n\n.analysis-title {\n  font-size: 16px;\n  color: #334155;\n  margin-bottom: 15px;\n  font-weight: 500;\n}\n\n.analysis-section {\n  margin-bottom: 15px;\n  padding-bottom: 15px;\n  border-bottom: 1px dashed #e2e8f0;\n}\n\n.analysis-section:last-child {\n  margin-bottom: 0;\n  padding-bottom: 0;\n  border-bottom: none;\n}\n\n.analysis-section h4 {\n  margin: 0 0 8px 0;\n  font-size: 14px;\n  color: #1e293b;\n}\n\n.analysis-section p {\n  margin: 0;\n  font-size: 13px;\n  color: #475569;\n  line-height: 1.5;\n}\n\n/* 综合评价样式 */\n.summary-container {\n  margin-bottom: 20px;\n  padding: 15px;\n  background: #f8fafc;\n  border-radius: 8px;\n}\n\n.summary-title {\n  font-size: 16px;\n  color: #334155;\n  margin-bottom: 15px;\n  font-weight: 500;\n}\n\n.summary-content {\n  background: #fff;\n  padding: 15px;\n  border-radius: 6px;\n}\n\n.summary-content p {\n  margin: 0 0 10px 0;\n  font-size: 13px;\n  color: #475569;\n  line-height: 1.5;\n}\n\n.summary-content h4 {\n  margin: 15px 0 8px 0;\n  font-size: 14px;\n  color: #1e293b;\n}\n\n.summary-content ul {\n  margin: 0;\n  padding-left: 20px;\n}\n\n.summary-content li {\n  font-size: 13px;\n  color: #475569;\n  margin-bottom: 5px;\n  line-height: 1.5;\n}\n\n/* 响应体展示样式 */\n.response-body-container {\n  margin-top: 20px;\n  padding: 15px;\n  background: #f8fafc;\n  border-radius: 8px;\n}\n\n.response-body-title {\n  font-size: 16px;\n  color: #334155;\n  margin-bottom: 10px;\n  font-weight: 500;\n}\n\n.response-body-content {\n  background: #fff;\n  padding: 15px;\n  border-radius: 6px;\n  max-height: 200px;\n  overflow-y: auto;\n  font-family: monospace;\n}\n\n.response-body-content pre {\n  margin: 0;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  font-size: 12px;\n  color: #334155;\n}\n\n/* Markdown渲染样式 */\n.markdown-bubble {\n  padding: 12px 15px;\n  line-height: 1.8;\n}\n\n.markdown-render h1 {\n  font-size: 1.5rem;\n  margin: 1rem 0 0.5rem;\n  color: #333;\n}\n\n.markdown-render h2 {\n  font-size: 1.3rem;\n  margin: 0.8rem 0 0.4rem;\n  color: #444;\n}\n\n.markdown-render h3 {\n  font-size: 1.1rem;\n  margin: 0.6rem 0 0.3rem;\n  color: #555;\n}\n\n.markdown-render ul {\n  margin: 0.5rem 0;\n  padding-left: 1.5rem;\n}\n\n.markdown-render li {\n  margin: 0.3rem 0;\n}\n\n.markdown-render strong {\n  font-weight: bold;\n  color: #222;\n}\n\n.markdown-render em {\n  color: #666;\n  font-style: italic;\n}\n\n.markdown-render p {\n  margin: 0.5rem 0;\n}\n\n/* 修复可能的样式冲突 */\n.markdown-render * {\n  box-sizing: border-box;\n}\n\n.formatted-content {\n\n  color: #111827;\n}\n\n\n.formatted-content div[style*=\"color: rgba(107, 114, 128, 0.7)\"] {\n  color: rgba(107, 114, 128, 0.7) !important;\n  background-color: rgba(243, 244, 246, 0.3) !important;\n}\n.van-popup.dragging {\n  user-select: none;\n}\n</style>\n","import { render } from \"./DialogView.vue?vue&type=template&id=7240d82e&scoped=true\"\nimport script from \"./DialogView.vue?vue&type=script&lang=js\"\nexport * from \"./DialogView.vue?vue&type=script&lang=js\"\n\nimport \"./DialogView.vue?vue&type=style&index=0&id=7240d82e&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7240d82e\"]])\n\nexport default __exports__","<template>\n    <!-- 侧边页面 -->\n    <div id=\"side\">\n        <div id=\"side_top\">\n            <div id=\"side_top_inside\">\n                <div id=\"side_top_in1\">\n                    <van-icon :name=\"require('@/assets/icon/icon_side_打卡.png')\" size=\"22\" style=\"margin:3px 20px 3px 0;\" />\n                    <van-icon name=\"cross\" size=\"25\" color=\"white\" style=\"float:right;\" @click=\"back()\" />\n                </div>\n                <div id=\"side_top_in2\">\n                    <van-image\n                        round\n                        width=\"60px\"\n                        height=\"60px\"\n                        :src=\"require('@/assets/images/my_profile.jpg')\"\n                        @click=\"openMyCard()\"\n                        style=\"border:2px solid white; float:left; margin-right:15px;\" />\n                    <span style=\"font-size:18px;\">{{ username || '且听风吟' }}</span>\n                    <van-icon :name=\"require('@/assets/icon/icon_side_二维码.png')\" size=\"20\" style=\"float:right; padding:0 5px;\" /><br>\n                    <van-image :src=\"require('@/assets/images/qq等级.png')\" style=\"width:170px;\" /><br>\n                    <van-icon :name=\"require('@/assets/icon/icon_side_个性签名.png')\" size=\"15\" />\n                    <span style=\"margin:0 10px;\">此心光明，亦复何虑。</span>\n                </div>\n            </div>\n        </div>\n        <div id=\"side_content\">\n            <ul>\n                <!-- 诗词内容列表 -->\n                <li v-for=\"(poetry, index) in poetryList\" :key=\"index\">\n                    <van-cell center is-link :title=\"poetry.content\" style=\"padding:10px 20px;\">\n                        <template #icon>\n                            <van-icon :name=\"poetry.icon\" size=\"20\" style=\"margin-right:15px\" />\n                        </template>\n                    </van-cell>\n                </li>\n            </ul>\n        </div>\n        <div id=\"side_bottom\">\n            <div id=\"side_bottom_inside\">\n                <van-row>\n                    <van-col span=\"6\" style=\"text-align:center;\">\n                        <van-icon name=\"book\" size=\"20\" /><br>诗\n                    </van-col>\n                    <van-col span=\"6\" style=\"text-align:center;\">\n                        <van-icon name=\"pen\" size=\"20\" /><br>词\n                    </van-col>\n                    <van-col span=\"6\" style=\"text-align:center;\">\n                        <van-icon name=\"history\" size=\"20\" /><br>典故\n                    </van-col>\n                    <van-col span=\"6\" style=\"text-align:center;\">\n                        <van-icon name=\"share\" size=\"20\" /><br>分享\n                    </van-col>\n                </van-row>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            username: '',\n            // 诗词列表 - 包含岳飞、苏轼、李煜、李白的经典诗句\n            poetryList: [\n                {  content: \"怒发冲冠，凭栏处\" }, // 岳飞《满江红》\n                { icon: 'road', content: \"人生如逆旅，我亦是行人\" }, // 苏轼《临江仙》\n                { icon: 'moon', content: \"世事一场大梦，人生几度秋凉\" }, // 苏轼《西江月》\n                { icon: 'boat', content: \"小舟从此逝，江海寄余生\" }, // 苏轼《临江仙》\n                { icon: 'teardrop', content: \"问君能有几多愁？恰似一江春水向东流\" }, // 李煜《虞美人》\n                { icon: 'laugh', content: \"仰天大笑出门去，我辈岂是蓬蒿人\" }, // 李白《南陵别儿童入京》\n                { icon: 'sword', content: \"莫等闲，白了少年头，空悲切\" }, // 岳飞《满江红》\n                { icon: 'wine', content: \"人生得意须尽欢，莫使金樽空对月\" }, // 李白《将进酒》\n                { icon: 'cloud', content: \"人生如逆旅，我亦是行人\" }, // 苏轼《临江仙》\n                { icon: 'leaf', content: \"剪不断，理还乱，是离愁\" }, // 李煜《相见欢》\n                { icon: 'mountain', content: \"会当凌绝顶，一览众山小\" } // 杜甫《望岳》\n            ]\n        };\n    },\n    methods: {\n        // 返回\n        back() {\n            history.back();\n        },\n        // 打开我的个性名片\n        openMyCard() {\n            this.$router.push('/card?profile=my_profile.jpg&name='+ (this.username || '朽木') +'&qq=1164585349&gender=男&age=21&birth_month=10&birth_day=22&constellation=天秤&place=广东广州&sign=此心光明，亦复何虑。');\n        }\n    },\n    mounted() {\n        // 从localStorage获取用户名\n        const userInfo = localStorage.getItem('currentUser');\n        if (userInfo) {\n            try {\n                const parsedUser = JSON.parse(userInfo);\n                this.username = parsedUser.username || '';\n            } catch (error) {\n                console.error('解析用户信息失败', error);\n                this.username = '';\n            }\n        }\n    }\n}\n</script>\n\n<style>\n#side_top{\n    height: 172px;\n}\n#side_top_inside {\n    position: fixed;\n    top: 0px;\n    width: 100%;\n    color: white;\n    z-index: 99;\n    background-color: rgb(221, 214, 214);\n    background-image: url(@/assets/images/side_background.jpg);\n    background-size: cover;\n}\n#side_top_in1 {\n    padding: 20px;\n}\n#side_top_in2 {\n    padding: 5px 20px 15px;\n}\n#side_content {\n    background-color: white;\n    padding: 15px 0px 10px;\n    margin-bottom: 63px; /* 为底部区域留出空间 */\n}\n#side_bottom {\n    height: 63px;\n}\n#side_bottom_inside {\n    position: fixed;\n    bottom: 0px;\n    width: 100%;\n    padding: 10px 0;\n    font-size: 12px;\n    background-color: white;\n    border-top: 1px solid #eee;\n}\n/* 列表项样式优化 */\n.van-cell {\n    border-bottom: 1px solid #f5f5f5;\n}\n.van-cell__title {\n    font-size: 15px;\n    color: #333;\n    font-family: \"SimSun\", serif; /* 宋体更适合诗词展示 */\n}\n.van-icon {\n    color: #666;\n}\n</style>\n    ","import { render } from \"./SideView.vue?vue&type=template&id=318fd1b6\"\nimport script from \"./SideView.vue?vue&type=script&lang=js\"\nexport * from \"./SideView.vue?vue&type=script&lang=js\"\n\nimport \"./SideView.vue?vue&type=style&index=0&id=318fd1b6&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"container\">\r\n    <h1>RVC语音转换</h1>\r\n    \r\n    <div class=\"status\" :style=\"statusStyle\">\r\n      {{ statusText }}\r\n    </div>\r\n    \r\n    <div class=\"controls\">\r\n      <button \r\n        id=\"startBtn\" \r\n        @click=\"toggleRecording\"\r\n        :class=\"{ recording: isRecording }\"\r\n      >\r\n        {{ isRecording ? '正在录音...点击停止' : '开始录音' }}\r\n      </button>\r\n      <button \r\n        id=\"stopBtn\" \r\n        @click=\"stopRecording\"\r\n        :style=\"{ display: isRecording ? 'block' : 'none' }\"\r\n      >\r\n        停止录音\r\n      </button>\r\n      <button \r\n        id=\"convertBtn\" \r\n        @click=\"convertVoice\"\r\n        :style=\"{ display: hasRecording ? 'block' : 'none' }\"\r\n        :disabled=\"isProcessing\"\r\n      >\r\n        转换语音\r\n      </button>\r\n    </div>\r\n    \r\n    <div>\r\n      <h3>原始录音</h3>\r\n      <audio id=\"originalAudio\" class=\"audio-player\" controls :src=\"originalAudioUrl\"></audio>\r\n    </div>\r\n    \r\n    <div>\r\n      <h3>转换结果</h3>\r\n      <audio id=\"convertedAudio\" class=\"audio-player\" controls :src=\"convertedAudioUrl\"></audio>\r\n    </div>\r\n    \r\n    <div class=\"processing\" v-if=\"isProcessing\">\r\n      <div class=\"spinner\"></div>\r\n      <p>正在处理，请稍候...</p>\r\n    </div>\r\n    \r\n    <div class=\"options\">\r\n      <h3>转换选项</h3>\r\n      \r\n      <div class=\"option-group\">\r\n        <label for=\"voiceSelect\">选择音色</label>\r\n        <select id=\"voiceSelect\" v-model=\"selectedVoice\">\r\n          <option value=\"0\" v-if=\"voices.length === 0\">加载中...</option>\r\n          <option v-for=\"(voice, index) in voices\" :key=\"index\" :value=\"index\">\r\n            {{ voice }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      \r\n      <div class=\"option-group\">\r\n        <label for=\"indexSelect\">选择索引文件</label>\r\n        <select id=\"indexSelect\" v-model=\"selectedIndex\">\r\n          <option value=\"\">无</option>\r\n          <option v-for=\"index in indexes\" :key=\"index\" :value=\"index\">\r\n            {{ index.split('/').pop() }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      \r\n      <div class=\"option-group\">\r\n        <label for=\"pitchInput\">变调 (半音，-12到12)</label>\r\n        <input \r\n          type=\"number\" \r\n          id=\"pitchInput\" \r\n          min=\"-12\" \r\n          max=\"12\" \r\n          v-model.number=\"pitch\"\r\n        >\r\n      </div>\r\n      \r\n      <div class=\"option-group\">\r\n        <label for=\"pitchAlgoSelect\">音高提取算法</label>\r\n        <select id=\"pitchAlgoSelect\" v-model=\"pitchAlgorithm\">\r\n          <option value=\"rmvpe\">rmvpe (推荐)</option>\r\n          <option value=\"pm\">pm</option>\r\n          <option value=\"harvest\">harvest</option>\r\n          <option value=\"crepe\">crepe</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, reactive } from 'vue';\r\n\r\n// 状态管理\r\nconst statusText = ref('准备就绪，请点击\"开始录音\"按钮');\r\nconst statusStyle = reactive({\r\n  backgroundColor: '#f0f7ff',\r\n  color: '#333'\r\n});\r\n\r\n// 录音相关\r\nconst mediaRecorder = ref(null);\r\nconst audioChunks = ref([]);\r\nconst stream = ref(null);\r\nconst recordedBlob = ref(null);\r\nconst isRecording = ref(false);\r\nconst hasRecording = ref(false);\r\nconst originalAudioUrl = ref('');\r\nconst convertedAudioUrl = ref('');\r\nconst isProcessing = ref(false);\r\n\r\n// 转换选项\r\nconst voices = ref([]);\r\nconst indexes = ref([]);\r\nconst selectedVoice = ref(0);\r\nconst selectedIndex = ref('');\r\nconst pitch = ref(0);\r\nconst pitchAlgorithm = ref('rmvpe');\r\n\r\n// 初始化 - 加载可用音色\r\nconst init = async () => {\r\n  try {\r\n    const response = await fetch('/rvc/process', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ action: 'refresh_voices' })\r\n    });\r\n    const result = await response.json();\r\n    \r\n    if (result.status === 'success') {\r\n      voices.value = result.voices || [];\r\n      indexes.value = result.indexes || [];\r\n    } else {\r\n      updateStatus(`加载音色失败: ${result.message}`, 'error');\r\n    }\r\n  } catch (e) {\r\n    updateStatus(`初始化失败: ${e.message}`, 'error');\r\n    console.error('初始化错误:', e);\r\n  }\r\n};\r\n\r\n// 更新状态显示\r\nconst updateStatus = (text, type = 'info') => {\r\n  statusText.value = text;\r\n  switch(type) {\r\n    case 'success':\r\n      statusStyle.backgroundColor = '#e8f5e9';\r\n      break;\r\n    case 'error':\r\n      statusStyle.backgroundColor = '#fff0f0';\r\n      break;\r\n    case 'processing':\r\n      statusStyle.backgroundColor = '#fff8e1';\r\n      break;\r\n    default:\r\n      statusStyle.backgroundColor = '#f0f7ff';\r\n  }\r\n};\r\n\r\n// 切换录音状态\r\nconst toggleRecording = async () => {\r\n  if (isRecording.value) {\r\n    stopRecording();\r\n    return;\r\n  }\r\n  \r\n  try {\r\n    // 请求麦克风权限\r\n    stream.value = await navigator.mediaDevices.getUserMedia({ \r\n      audio: {\r\n        sampleRate: 16000,\r\n        channelCount: 1,\r\n        echoCancellation: true\r\n      } \r\n    });\r\n    \r\n    // 初始化媒体录制器\r\n    mediaRecorder.value = new MediaRecorder(stream.value);\r\n    audioChunks.value = [];\r\n    \r\n    mediaRecorder.value.addEventListener('dataavailable', event => {\r\n      audioChunks.value.push(event.data);\r\n    });\r\n    \r\n    mediaRecorder.value.addEventListener('stop', () => {\r\n      recordedBlob.value = new Blob(audioChunks.value, { type: 'audio/wav' });\r\n      originalAudioUrl.value = URL.createObjectURL(recordedBlob.value);\r\n      hasRecording.value = true;\r\n    });\r\n    \r\n    // 开始录制\r\n    mediaRecorder.value.start();\r\n    isRecording.value = true;\r\n    updateStatus('正在录音...请对着麦克风说话', 'processing');\r\n  } catch (e) {\r\n    updateStatus(`录音失败: ${e.message}`, 'error');\r\n    console.error('录音错误:', e);\r\n  }\r\n};\r\n\r\n// 停止录音\r\nconst stopRecording = () => {\r\n  if (mediaRecorder.value && mediaRecorder.value.state !== 'inactive') {\r\n    mediaRecorder.value.stop();\r\n    stream.value.getTracks().forEach(track => track.stop());\r\n    \r\n    isRecording.value = false;\r\n    updateStatus('录音已停止，点击\"转换语音\"按钮进行处理', 'success');\r\n  }\r\n};\r\n\r\n// 转换语音\r\nconst convertVoice = async () => {\r\n  if (!recordedBlob.value) {\r\n    alert('请先录制语音');\r\n    return;\r\n  }\r\n  \r\n  try {\r\n    // 显示处理中状态\r\n    isProcessing.value = true;\r\n    updateStatus('正在转换语音...请稍候', 'processing');\r\n    \r\n    // 读取录音数据并转换为base64\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(recordedBlob.value);\r\n    \r\n    reader.onloadend = async () => {\r\n      const base64Audio = reader.result;\r\n      \r\n      // 构建请求数据\r\n      const requestData = {\r\n        action: 'convert',\r\n        audio: base64Audio,\r\n        speaker_id: parseInt(selectedVoice.value),\r\n        index_path: selectedIndex.value,\r\n        pitch: parseInt(pitch.value),\r\n        pitch_extraction: pitchAlgorithm.value\r\n      };\r\n      \r\n      // 发送到后端处理\r\n      const response = await fetch('/rvc/process', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(requestData)\r\n      });\r\n      \r\n      const result = await response.json();\r\n      \r\n      // 隐藏处理中状态\r\n      isProcessing.value = false;\r\n      \r\n      if (result.status === 'success' && result.audio) {\r\n        // 显示转换结果\r\n        convertedAudioUrl.value = result.audio;\r\n        updateStatus('语音转换成功', 'success');\r\n      } else {\r\n        updateStatus(`转换失败: ${result.message || '未知错误'}`, 'error');\r\n      }\r\n    };\r\n    \r\n  } catch (e) {\r\n    isProcessing.value = false;\r\n    updateStatus(`转换失败: ${e.message}`, 'error');\r\n    console.error('转换错误:', e);\r\n  }\r\n};\r\n\r\n// 页面加载时初始化\r\nonMounted(init);\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  font-family: 'Microsoft YaHei', sans-serif;\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.container {\r\n  background-color: white;\r\n  padding: 30px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\r\n}\r\n\r\nh1 {\r\n  color: #333;\r\n  text-align: center;\r\n}\r\n\r\n.controls {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  margin: 30px 0;\r\n}\r\n\r\nbutton {\r\n  padding: 12px 24px;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n#startBtn {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n}\r\n\r\n#startBtn.recording {\r\n  background-color: #f44336;\r\n}\r\n\r\n#stopBtn {\r\n  background-color: #ff9800;\r\n  color: white;\r\n  display: none;\r\n}\r\n\r\n#convertBtn {\r\n  background-color: #2196F3;\r\n  color: white;\r\n  display: none;\r\n}\r\n\r\n.status {\r\n  text-align: center;\r\n  margin: 20px 0;\r\n  padding: 15px;\r\n  border-radius: 6px;\r\n}\r\n\r\n.audio-player {\r\n  width: 100%;\r\n  margin: 20px 0;\r\n}\r\n\r\n.options {\r\n  margin-top: 30px;\r\n  padding-top: 20px;\r\n  border-top: 1px solid #eee;\r\n}\r\n\r\n.option-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: 500;\r\n}\r\n\r\nselect, input[type=\"number\"] {\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.processing {\r\n  text-align: center;\r\n  margin: 20px 0;\r\n}\r\n\r\n.spinner {\r\n  border: 4px solid rgba(0, 0, 0, 0.1);\r\n  border-radius: 50%;\r\n  border-top: 4px solid #2196F3;\r\n  width: 30px;\r\n  height: 30px;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n</style>\r\n","import script from \"./DiscoverCom1.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DiscoverCom1.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DiscoverCom1.vue?vue&type=style&index=0&id=7dae3abd&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7dae3abd\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"container\">\r\n    <h1>对口型视频生成测试</h1>\r\n    \r\n    <!-- 上传视频部分 -->\r\n    <div class=\"section\">\r\n      <h2>上传视频</h2>\r\n      <form @submit.prevent=\"handleVideoUpload\">\r\n        <div class=\"form-group\">\r\n          <label for=\"videoFile\">选择视频文件:</label>\r\n          <input \r\n            type=\"file\" \r\n            id=\"videoFile\" \r\n            accept=\"video/*\" \r\n            required\r\n            @change=\"handleVideoFileChange\"\r\n          >\r\n        </div>\r\n        <button type=\"submit\" :disabled=\"isVideoUploading\">\r\n          {{ isVideoUploading ? '上传中...' : '上传视频' }}\r\n          <span class=\"loading\" v-if=\"isVideoUploading\"></span>\r\n        </button>\r\n      </form>\r\n      <div id=\"videoResult\" class=\"result\" v-if=\"videoResult\">{{ videoResult }}</div>\r\n      <div v-if=\"videoFile\" class=\"file-info\">\r\n        已选择视频: {{ videoFile.name }} ({{ formatFileSize(videoFile.size) }})\r\n      </div>\r\n      <!-- 视频预览 -->\r\n      <div v-if=\"videoPreviewUrl\" class=\"preview\">\r\n        <h3>视频预览:</h3>\r\n        <video controls :src=\"videoPreviewUrl\" style=\"max-width: 100%;\"></video>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 上传音频部分 -->\r\n    <div class=\"section\">\r\n      <h2>上传音频</h2>\r\n      <form @submit.prevent=\"handleAudioUpload\">\r\n        <div class=\"form-group\">\r\n          <label for=\"audioFile\">选择音频文件:</label>\r\n          <input \r\n            type=\"file\" \r\n            id=\"audioFile\" \r\n            accept=\"audio/*\" \r\n            required\r\n            @change=\"handleAudioFileChange\"\r\n          >\r\n        </div>\r\n        <button type=\"submit\" :disabled=\"isAudioUploading\">\r\n          {{ isAudioUploading ? '上传中...' : '上传音频' }}\r\n          <span class=\"loading\" v-if=\"isAudioUploading\"></span>\r\n        </button>\r\n      </form>\r\n      <div id=\"audioResult\" class=\"result\" v-if=\"audioResult\">{{ audioResult }}</div>\r\n      <div v-if=\"audioFile\" class=\"file-info\">\r\n        已选择音频: {{ audioFile.name }} ({{ formatFileSize(audioFile.size) }})\r\n      </div>\r\n      <!-- 音频预览 -->\r\n      <div v-if=\"audioPreviewUrl\" class=\"preview\">\r\n        <h3>音频预览:</h3>\r\n        <audio controls :src=\"audioPreviewUrl\" style=\"max-width: 100%;\"></audio>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 处理视频部分 -->\r\n    <div class=\"section\">\r\n      <h2>处理视频</h2>\r\n      <form @submit.prevent=\"handleProcessVideo\">\r\n        <div class=\"form-group\">\r\n          <label for=\"minResolution\">原比例缩小几倍:</label>\r\n          <input \r\n            type=\"number\" \r\n            id=\"minResolution\" \r\n            v-model.number=\"minResolution\"\r\n            min=\"1\" \r\n            step=\"0.5\"\r\n          >\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"ifRes\">是否强制缩小分辨率:</label>\r\n          <select id=\"ifRes\" v-model=\"ifRes\">\r\n            <option value=\"false\">否</option>\r\n            <option value=\"true\">是</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"steps\">处理批次:</label>\r\n          <input \r\n            type=\"number\" \r\n            id=\"steps\" \r\n            v-model.number=\"steps\"\r\n            min=\"1\" \r\n            max=\"20\"\r\n          >\r\n        </div>\r\n        <button \r\n          type=\"submit\" \r\n          id=\"processButton\"\r\n          :disabled=\"isProcessing || !videoFile || !audioFile || !videoUrl || !audioUrl\"\r\n        >\r\n          处理视频\r\n          <span class=\"loading\" v-if=\"isProcessing\"></span>\r\n        </button>\r\n        <button \r\n          type=\"button\" \r\n          id=\"cancelButton\" \r\n          @click=\"handleCancelProcess\"\r\n          :style=\"{ display: isProcessing ? 'inline-block' : 'none', marginLeft: '10px', backgroundColor: '#f44336' }\"\r\n        >\r\n          取消处理\r\n        </button>\r\n      </form>\r\n      <div class=\"status-message\" id=\"processStatus\">{{ processStatus }}</div>\r\n      <div \r\n        class=\"timeout-warning\" \r\n        id=\"timeoutWarning\" \r\n        :style=\"{ display: showTimeoutWarning ? 'block' : 'none' }\"\r\n      >\r\n        注意：系统将在2分钟后超时，之后会自动重试\r\n      </div>\r\n      <div \r\n        class=\"retry-message\" \r\n        id=\"retryMessage\" \r\n        :style=\"{ display: showRetryMessage ? 'block' : 'none' }\"\r\n      >\r\n        {{ retryMessage }}\r\n      </div>\r\n      <div id=\"processResult\" class=\"result\" v-if=\"processResult\">\r\n        <pre>{{ processResultJSON }}</pre>\r\n        <template v-if=\"generatedVideoUrl\">\r\n          <br>\r\n          <h3>生成的视频：</h3>\r\n          <video controls :src=\"generatedVideoUrl\" style=\"max-width: 100%;\"></video>\r\n          <p>视频访问地址：{{ generatedVideoUrl }}</p>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onUnmounted } from 'vue';\r\n\r\n// 配置参数\r\nconst HTTPS_BASE_URL = 'https://123.56.203.202';\r\nconst REQUEST_TIMEOUT = 300000; // 5分钟超时设置（毫秒）\r\nconst MAX_RETRIES = 5; // 最大重试次数\r\nconst RETRY_DELAY = 10000; // 重试延迟（10秒）\r\n\r\n// 状态变量\r\nconst videoFile = ref(null);\r\nconst audioFile = ref(null);\r\nconst videoResult = ref('');\r\nconst audioResult = ref('');\r\nconst videoUrl = ref('');  // 存储上传后的视频URL\r\nconst audioUrl = ref('');  // 存储上传后的音频URL\r\nconst videoPreviewUrl = ref(''); // 本地视频预览URL\r\nconst audioPreviewUrl = ref(''); // 本地音频预览URL\r\nconst minResolution = ref(2);\r\nconst ifRes = ref('false');\r\nconst steps = ref(4);\r\n\r\n// 上传状态\r\nconst isVideoUploading = ref(false);\r\nconst isAudioUploading = ref(false);\r\n\r\n// 处理状态\r\nconst isProcessing = ref(false);\r\nconst processStatus = ref('');\r\nconst showTimeoutWarning = ref(false);\r\nconst showRetryMessage = ref(false);\r\nconst retryMessage = ref('');\r\nconst processResult = ref(null);\r\nconst processResultJSON = ref('');\r\nconst generatedVideoUrl = ref('');\r\n\r\n// 内部状态管理\r\nlet currentAbortController = null;\r\nlet retryCount = 0;\r\nlet countdownInterval = null;\r\nlet requestTimeoutId = null;\r\nlet isManuallyAborted = false;\r\n\r\n// 格式化文件大小显示\r\nconst formatFileSize = (bytes) => {\r\n  if (bytes === 0) return '0 Bytes';\r\n  const k = 1024;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n};\r\n\r\n// 处理视频文件选择 - 增加本地预览功能\r\nconst handleVideoFileChange = (e) => {\r\n  const file = e.target.files[0];\r\n  if (file) {\r\n    videoFile.value = file;\r\n    videoUrl.value = ''; // 重置视频URL\r\n    // 创建本地预览URL\r\n    videoPreviewUrl.value = URL.createObjectURL(file);\r\n  }\r\n};\r\n\r\n// 处理音频文件选择 - 增加本地预览功能\r\nconst handleAudioFileChange = (e) => {\r\n  const file = e.target.files[0];\r\n  if (file) {\r\n    audioFile.value = file;\r\n    audioUrl.value = ''; // 重置音频URL\r\n    // 创建本地预览URL\r\n    audioPreviewUrl.value = URL.createObjectURL(file);\r\n  }\r\n};\r\n\r\n// 带超时的fetch请求函数\r\nconst fetchWithTimeout = async (url, options, timeout = REQUEST_TIMEOUT) => {\r\n  isManuallyAborted = false;\r\n  \r\n  // 取消任何现有的请求和超时\r\n  if (currentAbortController) {\r\n    currentAbortController.abort();\r\n  }\r\n  if (requestTimeoutId) {\r\n    clearTimeout(requestTimeoutId);\r\n  }\r\n  \r\n  const controller = new AbortController();\r\n  currentAbortController = controller;\r\n  \r\n  // 前端主动超时控制\r\n  const timeoutPromise = new Promise((_, reject) => {\r\n    const checkpoints = [30, 60, 90, 110]; // 秒\r\n    let checkpointIndex = 0;\r\n    \r\n    const checkTimeout = () => {\r\n      if (!currentAbortController) return;\r\n      \r\n      const elapsedSeconds = (Date.now() - startTime) / 1000;\r\n      \r\n      // 如果达到目标超时时间，终止请求\r\n      if (elapsedSeconds >= timeout / 1000) {\r\n        console.log(`强制超时: 已超过${timeout/1000}秒`);\r\n        isManuallyAborted = true;\r\n        controller.abort();\r\n        currentAbortController = null;\r\n        reject(new Error(`请求在${timeout/1000}秒后超时`));\r\n        return;\r\n      }\r\n      \r\n      // 检查是否到达下一个检查点\r\n      if (checkpointIndex < checkpoints.length && elapsedSeconds >= checkpoints[checkpointIndex]) {\r\n        console.log(`超时检查点: ${checkpoints[checkpointIndex]}秒`);\r\n        checkpointIndex++;\r\n      }\r\n      \r\n      // 继续检查\r\n      requestTimeoutId = setTimeout(checkTimeout, 1000);\r\n    };\r\n    \r\n    const startTime = Date.now();\r\n    requestTimeoutId = setTimeout(checkTimeout, 1000);\r\n  });\r\n  \r\n  try {\r\n    // 竞赛条件：谁先完成就用谁的结果\r\n    const response = await Promise.race([\r\n      fetch(url, {\r\n        ...options,\r\n        signal: controller.signal,\r\n        headers: {\r\n          ...options.headers,\r\n          'Connection': 'keep-alive',\r\n          'Keep-Alive': 'timeout=120, max=100',\r\n          'X-Timeout': timeout.toString()\r\n        }\r\n      }),\r\n      timeoutPromise\r\n    ]);\r\n    \r\n    clearTimeout(requestTimeoutId);\r\n    currentAbortController = null;\r\n    return response;\r\n  } catch (error) {\r\n    clearTimeout(requestTimeoutId);\r\n    currentAbortController = null;\r\n    // 如果是我们主动终止的，明确标记为超时\r\n    if (isManuallyAborted) {\r\n      error.name = 'TimeoutError';\r\n      error.message = `请求在${timeout/1000}秒后超时`;\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\n// 启动超时倒计时\r\nconst startTimeoutCountdown = () => {\r\n  const totalSeconds = REQUEST_TIMEOUT / 1000;\r\n  let remainingSeconds = totalSeconds;\r\n  \r\n  console.log(`启动倒计时: ${totalSeconds}秒`);\r\n  \r\n  clearInterval(countdownInterval);\r\n  countdownInterval = setInterval(() => {\r\n    remainingSeconds--;\r\n    const minutes = Math.floor(remainingSeconds / 60);\r\n    const seconds = remainingSeconds % 60;\r\n    \r\n    processStatus.value = `视频处理中，请稍候...剩余超时时间: ${minutes}分${seconds}秒`;\r\n    \r\n    // 当倒计时接近结束时提前预警\r\n    if (remainingSeconds <= 10) {\r\n      document.getElementById('processStatus').style.color = '#e67e22';\r\n    } else {\r\n      document.getElementById('processStatus').style.color = '#666';\r\n    }\r\n    \r\n    // 倒计时结束时确保请求被终止\r\n    if (remainingSeconds <= 0) {\r\n      clearInterval(countdownInterval);\r\n      processStatus.value = \"处理已超时，正在准备重试...\";\r\n      document.getElementById('processStatus').style.color = '#666';\r\n      if (currentAbortController) {\r\n        console.log(\"倒计时结束，主动终止请求\");\r\n        isManuallyAborted = true;\r\n        currentAbortController.abort();\r\n      }\r\n    } else if (!currentAbortController) {\r\n      clearInterval(countdownInterval);\r\n    }\r\n  }, 1000);\r\n  \r\n  return countdownInterval;\r\n};\r\n\r\n// 重置处理状态\r\nconst resetProcessState = () => {\r\n  retryCount = 0;\r\n  clearInterval(countdownInterval);\r\n  clearTimeout(requestTimeoutId);\r\n  \r\n  isProcessing.value = false;\r\n  showTimeoutWarning.value = false;\r\n  showRetryMessage.value = false;\r\n  currentAbortController = null;\r\n};\r\n\r\n// 上传视频\r\nconst handleVideoUpload = async () => {\r\n  if (!videoFile.value) return;\r\n  \r\n  isVideoUploading.value = true;\r\n  videoResult.value = '上传中...';\r\n  \r\n  const formData = new FormData();\r\n  formData.append('video', videoFile.value);\r\n  \r\n  try {\r\n    // 确保URL路径正确拼接\r\n    const uploadUrl = new URL('/lip_sync/display_video_path', HTTPS_BASE_URL).href;\r\n    const response = await fetchWithTimeout(\r\n      uploadUrl,\r\n      { method: 'POST', body: formData },\r\n      REQUEST_TIMEOUT\r\n    );\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`HTTP错误: ${response.status} ${response.statusText}`);\r\n    }\r\n    \r\n    const result = await response.json();\r\n    videoResult.value = JSON.stringify(result, null, 2);\r\n    \r\n    // 存储上传成功后的视频URL，确保是完整URL\r\n    if (result.status === 'success' && result.video_path) {\r\n      // 检查是否是完整URL，如果不是则拼接\r\n      videoUrl.value = result.video_path.startsWith('http') \r\n        ? result.video_path \r\n        : new URL(result.video_path, HTTPS_BASE_URL).href;\r\n    }\r\n  } catch (error) {\r\n    if (error.name === 'AbortError' || error.name === 'TimeoutError' || error.message.includes('超时')) {\r\n      videoResult.value = '错误: 请求超时，请重试';\r\n    } else {\r\n      videoResult.value = '错误: ' + error.message;\r\n    }\r\n  } finally {\r\n    isVideoUploading.value = false;\r\n  }\r\n};\r\n\r\n// 上传音频\r\nconst handleAudioUpload = async () => {\r\n  if (!audioFile.value) return;\r\n  \r\n  isAudioUploading.value = true;\r\n  audioResult.value = '上传中...';\r\n  \r\n  const formData = new FormData();\r\n  formData.append('audio', audioFile.value);\r\n  \r\n  try {\r\n    // 确保URL路径正确拼接\r\n    const uploadUrl = new URL('/lip_sync/display_audio_path', HTTPS_BASE_URL).href;\r\n    const response = await fetchWithTimeout(\r\n      uploadUrl,\r\n      { method: 'POST', body: formData },\r\n      REQUEST_TIMEOUT\r\n    );\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`HTTP错误: ${response.status} ${response.statusText}`);\r\n    }\r\n    \r\n    const result = await response.json();\r\n    audioResult.value = JSON.stringify(result, null, 2);\r\n    \r\n    // 存储上传成功后的音频URL，确保是完整URL\r\n    if (result.status === 'success' && result.audio_path) {\r\n      // 检查是否是完整URL，如果不是则拼接\r\n      audioUrl.value = result.audio_path.startsWith('http') \r\n        ? result.audio_path \r\n        : new URL(result.audio_path, HTTPS_BASE_URL).href;\r\n    }\r\n  } catch (error) {\r\n    if (error.name === 'AbortError' || error.name === 'TimeoutError' || error.message.includes('超时')) {\r\n      audioResult.value = '错误: 请求超时，请重试';\r\n    } else {\r\n      audioResult.value = '错误: ' + error.message;\r\n    }\r\n  } finally {\r\n    isAudioUploading.value = false;\r\n  }\r\n};\r\n\r\n// 处理视频\r\nconst processVideo = async () => {\r\n  try {\r\n    // 显示加载状态\r\n    isProcessing.value = true;\r\n    processStatus.value = `视频处理中（第 ${retryCount + 1}/${MAX_RETRIES + 1} 次尝试）...`;\r\n    showTimeoutWarning.value = true;\r\n    showRetryMessage.value = false;\r\n    processResult.value = null;\r\n    processResultJSON.value = '';\r\n    generatedVideoUrl.value = '';\r\n    \r\n    // 启动倒计时\r\n    startTimeoutCountdown();\r\n    \r\n    // 准备JSON数据\r\n    const requestData = {\r\n      audio_file: audioUrl.value,  // 使用上传后的音频URL\r\n      video_file: videoUrl.value,  // 使用上传后的视频URL\r\n      min_resolution: parseFloat(minResolution.value),\r\n      if_res: ifRes.value === 'true',\r\n      steps: parseInt(steps.value)\r\n    };\r\n    \r\n    // 确保URL路径正确拼接\r\n    const processUrl = new URL('/lip_sync/process_video', HTTPS_BASE_URL).href;\r\n    \r\n    // 明确指定Content-Type为application/json\r\n    const response = await fetchWithTimeout(\r\n      processUrl,\r\n      {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(requestData)  // 发送JSON数据\r\n      },\r\n      REQUEST_TIMEOUT\r\n    );\r\n    \r\n    // 清除倒计时和加载状态\r\n    clearInterval(countdownInterval);\r\n    \r\n    // 检查HTTP状态码\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP错误: ${response.status} ${response.statusText}`);\r\n    }\r\n    \r\n    const result = await response.json();\r\n    processResult.value = result;\r\n    processResultJSON.value = JSON.stringify(result, null, 2);\r\n    \r\n    // 处理成功\r\n    if (result.status === 'success' && result.generated_video) {\r\n      const videoFilePath = typeof result.generated_video === 'object' \r\n        ? result.generated_video.video \r\n        : result.generated_video;\r\n      \r\n      // 确保生成的视频URL是完整的\r\n      generatedVideoUrl.value = videoFilePath.startsWith('http')\r\n        ? videoFilePath\r\n        : new URL(`/proxy_gradio_file/${encodeURIComponent(videoFilePath)}`, HTTPS_BASE_URL).href;\r\n      \r\n      processStatus.value = '处理完成';\r\n      showTimeoutWarning.value = false;\r\n      resetProcessState();\r\n      return true;\r\n    } else {\r\n      throw new Error(`处理失败: ${result.message || '未知错误'}`);\r\n    }\r\n  } catch (error) {\r\n    // 明确判断超时错误（包括我们主动触发的超时）\r\n    const isTimeout = error.name === 'AbortError' || \r\n                     error.name === 'TimeoutError' || \r\n                     error.message.includes('超时');\r\n    console.log(`错误类型: ${isTimeout ? '超时错误' : '其他错误'}, 消息: ${error.message}`);\r\n    \r\n    // 超时错误且未达到最大重试次数\r\n    if (isTimeout && retryCount < MAX_RETRIES) {\r\n      retryCount++;\r\n      processStatus.value = `处理超时，将在 ${RETRY_DELAY / 1000} 秒后自动重试（第 ${retryCount + 1}/${MAX_RETRIES + 1} 次尝试）`;\r\n      \r\n      // 显示重试倒计时\r\n      let retrySeconds = RETRY_DELAY / 1000;\r\n      retryMessage.value = `重试倒计时: ${retrySeconds} 秒`;\r\n      showRetryMessage.value = true;\r\n      \r\n      const retryInterval = setInterval(() => {\r\n        retrySeconds--;\r\n        retryMessage.value = `重试倒计时: ${retrySeconds} 秒`;\r\n        \r\n        if (retrySeconds <= 0) {\r\n          clearInterval(retryInterval);\r\n          processVideo(); // 重试处理\r\n        }\r\n      }, 1000);\r\n      \r\n      return false;\r\n    } \r\n    // 其他错误或达到最大重试次数\r\n    else {\r\n      if (isTimeout) {\r\n        processResultJSON.value = `错误: 已达到最大重试次数（${MAX_RETRIES + 1}次），处理仍未完成。请稍后手动检查结果。`;\r\n      } else {\r\n        processResultJSON.value = '错误: ' + error.message;\r\n      }\r\n      \r\n      processStatus.value = '处理失败';\r\n      showTimeoutWarning.value = false;\r\n      resetProcessState();\r\n      return false;\r\n    }\r\n  }\r\n};\r\n\r\n// 处理视频表单提交\r\nconst handleProcessVideo = async () => {\r\n  if (!videoUrl.value || !audioUrl.value) {\r\n    processStatus.value = '请先上传并确认视频和音频文件已成功上传';\r\n    return;\r\n  }\r\n  \r\n  retryCount = 0;\r\n  await processVideo();\r\n};\r\n\r\n// 取消处理\r\nconst handleCancelProcess = () => {\r\n  if (currentAbortController) {\r\n    isManuallyAborted = true;\r\n    currentAbortController.abort();\r\n  }\r\n  resetProcessState();\r\n  processStatus.value = '处理已取消';\r\n  processResult.value = null;\r\n  processResultJSON.value = '';\r\n  generatedVideoUrl.value = '';\r\n};\r\n\r\n// 组件卸载时清理\r\nonUnmounted(() => {\r\n  // 释放URL对象，防止内存泄漏\r\n  if (videoPreviewUrl.value) {\r\n    URL.revokeObjectURL(videoPreviewUrl.value);\r\n  }\r\n  if (audioPreviewUrl.value) {\r\n    URL.revokeObjectURL(audioPreviewUrl.value);\r\n  }\r\n  \r\n  if (currentAbortController) {\r\n    currentAbortController.abort();\r\n  }\r\n  clearInterval(countdownInterval);\r\n  clearTimeout(requestTimeoutId);\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  font-family: Arial, sans-serif;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.section {\r\n  margin-bottom: 30px;\r\n  padding: 20px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\nh1, h2, h3 {\r\n  color: #333;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n  color: #555;\r\n}\r\n\r\ninput, select {\r\n  width: 100%;\r\n  padding: 8px;\r\n  box-sizing: border-box;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\nbutton {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  padding: 10px 15px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\nbutton:disabled {\r\n  background-color: #cccccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.result {\r\n  margin-top: 20px;\r\n  padding: 10px;\r\n  background-color: #f5f5f5;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.file-info {\r\n  margin-top: 10px;\r\n  color: #666;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.preview {\r\n  margin-top: 15px;\r\n  padding: 10px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 4px;\r\n}\r\n\r\nvideo, audio {\r\n  max-width: 100%;\r\n  margin-top: 10px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.loading {\r\n  display: inline-block;\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 3px solid rgba(255,255,255,.3);\r\n  border-radius: 50%;\r\n  border-top-color: white;\r\n  animation: spin 1s ease-in-out infinite;\r\n  margin-left: 8px;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.status-message {\r\n  color: #666;\r\n  margin-top: 10px;\r\n}\r\n\r\n.timeout-warning {\r\n  color: #e67e22;\r\n  margin-top: 5px;\r\n}\r\n\r\n.retry-message {\r\n  color: #3498db;\r\n  margin-top: 5px;\r\n}\r\n\r\npre {\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n  font-family: monospace;\r\n  font-size: 0.9em;\r\n}\r\n</style>\r\n","import script from \"./EmotionView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EmotionView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EmotionView.vue?vue&type=style&index=0&id=3d2d3114&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\浏览器下载\\\\Imitative-Mobile-QQ-master\\\\Imitative-Mobile-QQ-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3d2d3114\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router'\nimport actionview from '../views/ActionView.vue'\nimport WelcomeView from '../views/WelcomeView.vue'\nimport LoginView from '../views/LoginView.vue'\nimport HomeView from '../views/HomeView.vue'\nimport MessageCom from '../components/MessageCom.vue'\nimport FriendsCom from '../components/FriendsCom.vue'\nimport DiscoverCom from '../components/DiscoverCom.vue'\nimport CardView from '../views/CardView.vue'\nimport DialogView from '../views/DialogView.vue'\nimport SideView from '../views/SideView.vue'\nimport discover1 from '../components/DiscoverCom1.vue'\nimport emotion from '../views/EmotionView.vue'\n\n\nconst routes = [\n  {path:'/emotion',name:'emotion',component:emotion},\n  {path:'/action',name:'action',component:actionview},\n  { path: '/', redirect: '/welcome' },\n  { path: '/welcome', name: 'welcome', component: WelcomeView,meta: { \n    hideSidebar: true,  // 隐藏侧边栏\n    hideTopBar: true    // 隐藏右上栏\n  } },\n  { path: '/login', name: 'login', component: LoginView, meta: { \n    hideSidebar: true,  // 隐藏侧边栏\n    hideTopBar: true    // 隐藏右上栏\n  } },\n  { path: '/home', name: 'home', component: HomeView, \n    children: [\n      {path:'/discover1',name:'discoverCom1',compoent:discover1},\n      { path: 'message', component: MessageCom, meta: {keepAlive: true} },\n      { path: 'friends', component: FriendsCom, meta: {keepAlive: true} },\n      { path: 'discover', component: DiscoverCom }\n    ]\n  },\n  { path: '/card', name: 'card', component: CardView },\n  { path: '/dialog/:name', name: 'dialog', component: DialogView },\n  { path: '/side', name: 'side', component: SideView }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\n// 补充引入 List、Popup 和 Loading 组件\nimport { Toast, Button, Form, Field, CellGroup, NavBar, Icon, Image as VanImage,\n    Tabbar, TabbarItem, Popover, SwipeCell, Cell, Tag, Search, PullRefresh, Tab, Tabs,\n    Collapse, CollapseItem, IndexBar, IndexAnchor, Row, Col, Popup, Loading, List,DropdownMenu, DropdownItem } from 'vant'  // 新增List\nimport App from './App.vue'\nimport router from './router'\n// 引入Vant样式（确保添加此行）\nimport 'vant/lib/index.css';\n\nconst app = createApp(App);\n// 注册已有的组件\napp.use(DropdownMenu);\napp.use(DropdownItem);\napp.use(Toast);\napp.use(Button);\napp.use(Form);\napp.use(Field);\napp.use(CellGroup);\napp.use(NavBar);\napp.use(Icon);\napp.use(VanImage);\napp.use(Tabbar);\napp.use(TabbarItem);\napp.use(Popover);\napp.use(SwipeCell);\napp.use(Cell);\napp.use(Tag);\napp.use(Search);\napp.use(PullRefresh);\napp.use(Tab);\napp.use(Tabs);\napp.use(Collapse);\napp.use(CollapseItem);\napp.use(IndexBar);\napp.use(IndexAnchor);\napp.use(Row);\napp.use(Col);\n// 新增：注册 Popup、Loading 和 List 组件\napp.use(Popup);\napp.use(Loading);\napp.use(List);  // 注册List组件\n\napp.use(router);\napp.mount('#app');\n","var map = {\n\t\"./QQ图片20250719201652.jpg\": 4302,\n\t\"./QQ图片20250719201659.jpg\": 6129,\n\t\"./QQ图片20250719201704.jpg\": 2438,\n\t\"./QQ图片20250719201708.jpg\": 0,\n\t\"./QQ图片20250719201714.jpg\": 7933,\n\t\"./QQ图片20250719201723.jpg\": 3272,\n\t\"./QQ图片20250719201727.jpg\": 9739,\n\t\"./QQ图片20250719201731.jpg\": 244,\n\t\"./QQ图片20250719201735.jpg\": 3263,\n\t\"./QQ图片20250719201739.png\": 5285,\n\t\"./StarrySky.png\": 7093,\n\t\"./my_profile.jpg\": 8326,\n\t\"./my_profile0.jpg\": 7202,\n\t\"./picture_克蕾赫.png\": 241,\n\t\"./picture_刹那.png\": 6235,\n\t\"./picture_回复术士的重来人生.png\": 2759,\n\t\"./picture_夏娃.png\": 1845,\n\t\"./picture_芙蕾雅.png\": 3437,\n\t\"./picture_诺伦.png\": 9278,\n\t\"./profile_02.jpg\": 4541,\n\t\"./profile_五河琴里.jpg\": 5348,\n\t\"./profile_八舞夕弦.jpg\": 3586,\n\t\"./profile_八舞耶俱矢.jpg\": 1059,\n\t\"./profile_发现新设备.jpg\": 9344,\n\t\"./profile_四糸乃.jpg\": 301,\n\t\"./profile_夜刀神十香.jpg\": 4025,\n\t\"./profile_我的电脑.jpg\": 3551,\n\t\"./profile_拉菲.jpg\": 4875,\n\t\"./profile_拉菲0.jpg\": 4,\n\t\"./profile_时崎狂三.jpg\": 5192,\n\t\"./profile_星宫六喰.jpg\": 8262,\n\t\"./profile_本条二亚.jpg\": 2657,\n\t\"./profile_栗山未来.jpg\": 2852,\n\t\"./profile_王者荣耀.jpg\": 5137,\n\t\"./profile_英雄联盟.jpg\": 3539,\n\t\"./profile_诱宵美九.jpg\": 4030,\n\t\"./profile_镜野七罪.jpg\": 1753,\n\t\"./profile_鸢一折纸.jpg\": 6800,\n\t\"./qq等级.png\": 7277,\n\t\"./side_background.jpg\": 5014,\n\t\"./side_background0.jpg\": 9165,\n\t\"./手机在线.png\": 3522\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 990;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/qq/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmobile_qq\"] = self[\"webpackChunkmobile_qq\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2039); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","_createElementVNode","_createElementBlock","_ctx","meta","hideSidebar","_createVNode","_component_van_image","round","width","height","src","require","alt","onClick","$options","_toDisplayString","$data","_component_van_popover","show","$event","actions","placement","offset","onSelect","reference","_component_van_icon","name","color","size","_hoisted_7","_Transition","_Fragment","_renderList","item","index","key","profile","_hoisted_14","_hoisted_15","_component_router_view","data","messageDropdownOpen","friendMessageList","active","titleMap","message","friends","discover","showPopover","text","icon","username","computed","currentTitle","this","methods","toggleMessageDropdown","handleMessageItemClick","indexOf","career","substring","localStorage","setItem","$router","push","navigateTo","path","handleLeftClick","handleTopAvatarClick","handleSidebarAvatarClick","handleActionSelect","action","window","location","href","loadUsernameFromLocalStorage","userInfo","getItem","parsedUser","JSON","parse","error","console","watch","newPath","pathMap","mounted","$route","__exports__","render","API_BASE_URL","frameInterval","captureInterval","frameIndex","pendingRequests","Map","videoElement","ref","canvasElement","streamRef","hasVideoStream","isAnalyzing","status","statusText","statusClass","frameResults","latestEmotion","latestPose","errorMessage","lastRequestStatus","formatTime","timestamp","date","Date","getMinutes","toString","padStart","getSeconds","captureFrame","async","value","nextTick","readyState","Promise","resolve","onloadedmetadata","document","createElement","canvas","videoWidth","videoHeight","ctx","getContext","drawImage","base64","toDataURL","log","length","checkAnalysisResult","taskId","response","axios","setTimeout","Error","stringify","resultText","result","emotionMatch","match","poseMatch","frameData","now","emotion","trim","pose","raw","delete","errorMsg","request","uploadFrame","frameBase64","currentFrameIndex","prompt","image_base64","headers","timeout","task_id","set","toggleCamera","getTracks","forEach","track","stop","navigator","mediaDevices","getUserMedia","video","ideal","facingMode","audio","srcObject","startAnalysis","clear","initialFrame","setInterval","stopAnalysis","clearInterval","newStatus","onMounted","warn","onUnmounted","imgStyle","innerHeight","marginTop","created","type","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_2","loop","playsinline","poster","onError","onPlay","onPause","onLoadeddata","onLoadedmetadata","style","display","_hoisted_8","_hoisted_9","onSubmit","required","placeholder","autocomplete","_hoisted_16","password","_hoisted_17","_hoisted_19","_hoisted_21","_hoisted_23","email","_hoisted_24","_hoisted_26","api","baseURL","withCredentials","isLogin","loading","loadingText","messageType","loginForm","registerForm","videoError","showPlayPrompt","hasUserInteracted","isVideoLoaded","videoPlayedOnce","videoDebugInfo","addEventListener","handleUserInteraction","checkVideoElementExists","initVideo","playbackCheckInterval","checkPlayPromptVisibility","beforeUnmount","removeEventListener","$refs","backgroundVideo","$nextTick","offsetHeight","showMessage","paused","tryPlayVideo","videoPaused","play","then","catch","markVideoLoaded","handleVideoPlay","handleVideoPause","checkVideoDimensions","handleVideoError","event","target","code","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","post","success","clearMessage","_component_top_bar","title","_component_van_pull_refresh","onRefresh","Component","_createBlock","_KeepAlive","_resolveDynamicComponent","_component_bottom_bar","onSetTitle","script","topbar_title","setTitle","components","TopBar","_hoisted_36","_hoisted_37","autoplay","_hoisted_4","msg","sender","isError","content","innerHTML","isPlaying","duration","_component_van_button","disabled","textResult","speechSpeed","Math","toneResult","tone_type","f0_mean","f0_min","f0_max","logicResult","_hoisted_20","analysis","score","_hoisted_22","imageUrl","_hoisted_27","expressionResults","poseResult","_hoisted_29","toFixed","fps","comprehensiveAnalysis","_hoisted_31","_component_van_field","rows","autosize","maxHeight","minHeight","onKeypress","_component_van_row","_component_van_col","span","_component_van_popup","overlay","position","onMousedown","_hoisted_43","_component_van_loading","_hoisted_47","maxWidth","overflow","_hoisted_53","_hoisted_55","_hoisted_60","_hoisted_64","_hoisted_68","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_100","_hoisted_102","_hoisted_103","example","_hoisted_105","_hoisted_107","category","catIndex","suggestions","suggestion","sugIndex","_hoisted_108","_hoisted_110","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_116","_hoisted_119","_hoisted_120","popupWidth","popupHeight","popupLeft","popupTop","isDragging","startX","startY","isResizing","startWidth","startHeight","keyIssues","issueExamples","feedbackCategories","params","messages","isTyping","typingId","commonHeaders","isRecording","mediaRecorder","audioBlob","recordingSeconds","recordingTimer","audioContext","audioElements","mediaStream","audioChunks","transcribeCount","isCameraModalVisible","isCameraActive","isLoadingCamera","cameraError","isProcessingImage","isAnalyzingContinuously","continuousAnalysisTimer","detectionInterval","videoStream","isReportVisible","reportLoading","reportError","chart","reportResponse","reportIndicators","reportValues","firstQuestion","secondQuestion","thirdQuestion","fourthQuestion","fifthQuestion","firstResult","secondResult","thirdResult","fourthResult","fifthResult","professionalKnowledgeAnalysis","skillMatchAnalysis","languageExpressionAnalysis","logicalThinkingAnalysis","innovationAbilityAnalysis","comprehensiveEvaluation","improvementSuggestions","formattedReportResponse","testConnection","initContainerHeight","checkRecordingSupport","loadStoredQuestionsAndAnswers","Chart","registerables","RadarController","stopRecording","Object","values","pause","stopCamera","destroy","startDrag","e","clientX","clientY","handleDrag","stopDrag","preventDefault","deltaX","deltaY","newLeft","newTop","max","min","innerWidth","startResize","handleResize","stopResize","deltaWidth","deltaHeight","minWidth","defaultQuestions","question","startInterviewProcess","avatarPlatform2","controls","muted","sourceElement","appendChild","playPrompt","fontSize","textContent","messageContainer","fallbackText","createTextNode","addMessage","questions","videoUrl","currentIndex","defaultWidth","defaultHeight","defaultLeft","defaultTop","modal","cssText","draggableModal","modalHeader","headerTitle","closeButton","confirm","body","removeChild","modalContainer","progressIndicator","_","dot","questionContentWrapper","questionContent","buttonContainer","prevButton","background","nextButton","resizeHandle","renderCurrentQuestion","querySelectorAll","transform","savedAnswer","initSpeechRecognition","opacity","cursor","scrollTop","questionId","startBtn","getElementById","stopBtn","toneStatus","speedStatus","recordTime","answerTextarea","recognition","analyser","dataArray","animationId","recordStartTime","recordDuration","initRecognition","SpeechRecognition","webkitSpeechRecognition","alert","rec","continuous","interimResults","lang","initAudioAnalyser","stream","AudioContext","webkitAudioContext","createAnalyser","source","createMediaStreamSource","connect","fftSize","bufferLength","frequencyBinCount","Uint8Array","analyzeTone","getByteFrequencyData","sum","averageFreq","requestAnimationFrame","cancelAnimationFrame","close","charCount","speed","start","onresult","transcript","i","results","updateRecordTime","floor","MediaRecorder","err","saveCurrentAnswer","answer","querySelector","currentAnswer","initialLeft","initialTop","offsetWidth","left","top","parseInt","transition","newWidth","newHeight","showStatus","backToHomeMessage","isLogicAnalysis","toLowerCase","includes","isGenerateReport","constructedPrompt","buildLogicAnalysisPrompt","buildEvaluationReportPrompt","scrollToBottom","addTypingIndicator","fetch","method","removeTypingIndicator","ok","json","pollInterval","maxAttempts","attempts","pollForFile","targetFile","markdown","txt","file_url","fileResponse","fileContent","processAndRenderReport","addFormattedMessageWithSpaces","getInterviewQuestions","dimensions","radarDataMarker","radarDataEndMarker","join","radarDataMarkers","end","isMarkdown","radarDataSection","startIndex","endIndex","radarData","lines","split","line","dimension","undefined","radarContainerId","processedContent","radarChartHtml","processMarkdownContent","replace","onload","renderRadarChart","onerror","head","containerId","maxRetries","retries","tryRender","container","tagName","labels","map","label","chartInstance","datasets","backgroundColor","borderColor","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","options","scales","r","angleLines","suggestedMin","suggestedMax","ticks","stepSize","callback","plugins","legend","tooltip","callbacks","context","processed","addVoiceMessage","audioUrl","URL","createObjectURL","Audio","blob","url","toggleVoicePlayback","m","otherAudio","onended","formData","FormData","append","errorText","splice","existingTone","toneAnalysis","newToneAnalysis","calculateSpeechSpeed","speedPerMinute","existingSpeed","speedAnalysis","evaluateSpeechSpeed","newSpeedAnalysis","scoreMatch","parseFloat","existingLogic","newLogicAnalysis","saveAnalysisToStorage","expressionsText","exp","confidence","existingExpressions","newExpressions","poseText","existingPose","newPose","existingAnalysis","newAnalysis","addExpressionMessage","messagesContainer","scrollHeight","navBarHeight","bottomBarHeight","paddingTop","paddingBottom","formatDuration","seconds","mins","secs","isValidWavFile","arrayBuffer","Response","sampleRate","audioBuffer","decodeAudioData","wavBuffer","convertToWav","Blob","reader","FileReader","onloadend","DONE","uint8Array","riff","String","fromCharCode","readAsArrayBuffer","slice","numberOfChannels","format","bitDepth","Float32Array","c","getChannelData","buffer","ArrayBuffer","view","DataView","writeString","setUint32","setUint16","volume","sample","setInt16","string","setUint8","charCodeAt","startCamera","protocol","hostname","base64Image","analysisResult","analyzePose","startContinuousAnalysis","captureImage","predictions","startPolling","interval","generateReportFromStorage","calculateReportScores","generateDimensionAnalysis","generateComprehensiveEvaluation","generateKeyIssues","generateFeedbackSuggestions","indicators","knowledgeScore","random","skillScore","languageScore","logicScore","innovationScore","getAnalysisFromAPI","reject","recordingSupported","toggleRecording","startRecording","evalMatch","suggestionsMatch","filter","issueMatch","examplesMatch","examples","categories","regex","RegExp","startsWith","renderRadarChart1","radarChart","responsive","maintainAspectRatio","getScoreLevel","getScoreClass","for","_hoisted_18","_hoisted_25","_hoisted_30","_hoisted_32","_hoisted_33","_hoisted_10","_hoisted_35","_hoisted_41","_hoisted_42","_hoisted_44","_hoisted_45","_hoisted_48","HTTPS_BASE_URL","PROXY_FILE_PATH","RECENT_FILES_PATH","PROCESS_VIDEO_PATH","CHAT_API_PATH","CHAT_RESULT_PATH","TTS_API_PATH","GET_LATEST_AUDIO_URL","POLL_INTERVAL","MAX_POLL_ATTEMPTS","AUDIO_POLL_INTERVAL","MAX_AUDIO_ATTEMPTS","CHAT_POLL_INTERVAL","MAX_CHAT_ATTEMPTS","OPTIONAL_VIDEO_URL","promptText","minResolution","ifRes","steps","chatResponseText","showChatResponse","audioPreviewHtml","isAudioGenerating","audioResultText","showAudioResult","audioFolderPrefix","currentTaskId","isProcessing","processStartTime","pollAttempts","pollTimer","abortController","processStatusText","showProcessStatus","progressBarWidth","videoPreviewHtml","showPreviewVideo","debugInfo","optionalVideoUrl","canProcessVideo","showDebugInfo","toISOString","el","fetchWithTimeout","race","startAudioPolling","folderPrefix","folder_path","audio_url","created_time","audioElement","fileInfo","pollForChatResult","poll","resultUrl","resultData","userInput","interviewerPrompt","chatUrl","chatResponse","chatResult","aiResponse","ttsUrl","ttsData","reference_text","ttsResponse","ttsResult","folder_prefix","pollForRecentFiles","resetProcessingState","recentFilesUrl","searchParams","count","latestFile","files","encodeURIComponent","elapsedMinutes","totalMinutes","clearTimeout","AbortController","processUrl","requestData","min_resolution","if_res","signal","used_video_file","handleCancelProcessing","abort","togglePreviewVideo","sortedBlogs","allComments","isLoading","showBlogModal","currentBlog","formatDate","dateString","toLocaleString","year","month","day","hour","minute","second","getCommentsForBlog","blogDate","comment","fetchBlogs","blogsRes","commentsRes","all","Array","isArray","openBlogModal","blog","closeBlogModal","_component_van_nav_bar","fixed","onClickLeft","qq","_component_van_cell","center","clickable","gender","age","birth_month","birth_day","constellation","place","sign","backgroundImage","to","user","query","who","button1","button2","bottom_button_style","margin","borderRadius","letterSpacing","fontWeight","blackText","pictures","back","history","profilePreview","picturesPreview","images","startPosition","_hoisted_39","_hoisted_40","right","_hoisted_12","_hoisted_34","_hoisted_46","_hoisted_50","_hoisted_56","_hoisted_58","_hoisted_63","_hoisted_67","_hoisted_75","_hoisted_81","_hoisted_87","_hoisted_93","_hoisted_99","_hoisted_101","_hoisted_106","_hoisted_111","_hoisted_115","_hoisted_117","_hoisted_122","_hoisted_123","poetry","poetryList","openMyCard","statusStyle","reactive","recordedBlob","hasRecording","originalAudioUrl","convertedAudioUrl","voices","indexes","selectedVoice","selectedIndex","pitch","pitchAlgorithm","init","updateStatus","channelCount","echoCancellation","state","convertVoice","readAsDataURL","base64Audio","speaker_id","index_path","pitch_extraction","REQUEST_TIMEOUT","MAX_RETRIES","RETRY_DELAY","videoFile","audioFile","videoResult","audioResult","videoPreviewUrl","audioPreviewUrl","isVideoUploading","isAudioUploading","processStatus","showTimeoutWarning","showRetryMessage","retryMessage","processResult","processResultJSON","generatedVideoUrl","currentAbortController","retryCount","countdownInterval","requestTimeoutId","isManuallyAborted","formatFileSize","bytes","k","sizes","pow","handleVideoFileChange","file","handleAudioFileChange","controller","timeoutPromise","checkpoints","checkpointIndex","checkTimeout","elapsedSeconds","startTime","startTimeoutCountdown","totalSeconds","remainingSeconds","minutes","resetProcessState","handleVideoUpload","uploadUrl","video_path","handleAudioUpload","audio_path","processVideo","audio_file","video_file","generated_video","videoFilePath","isTimeout","retrySeconds","retryInterval","handleProcessVideo","handleCancelProcess","revokeObjectURL","routes","component","actionview","redirect","WelcomeView","hideTopBar","LoginView","HomeView","children","compoent","discover1","MessageCom","keepAlive","FriendsCom","DiscoverCom","CardView","DialogView","SideView","router","createRouter","createWebHashHistory","app","createApp","App","use","mount","webpackContext","req","webpackContextResolve","__webpack_require__","o","keys","module","exports","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","n","getter","__esModule","d","a","definition","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}